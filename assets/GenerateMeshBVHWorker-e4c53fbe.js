import{B as R,b as Y}from"./three.module-6f29248d.js";import{M as z}from"./MeshBVH-68936e34.js";class C{constructor(l){this.name="WorkerBase",this.running=!1,this.worker=l,this.worker.onerror=d=>{throw d.message?new Error(`${this.name}: Could not create Web Worker with error "${d.message}"`):new Error(`${this.name}: Could not create Web Worker.`)}}runTask(){}generate(...l){if(this.running)throw new Error("GenerateMeshBVHWorker: Already running job.");if(this.worker===null)throw new Error("GenerateMeshBVHWorker: Worker has been disposed.");this.running=!0;const d=this.runTask(this.worker,...l);return d.finally(()=>{this.running=!1}),d}dispose(){this.worker.terminate(),this.worker=null}}const u="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiOy8qKgogKiBAbGljZW5zZQogKiBDb3B5cmlnaHQgMjAxMC0yMDIzIFRocmVlLmpzIEF1dGhvcnMKICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVAogKi9jb25zdCBXZT0iMTYyIixzcz0iIjtjbGFzcyBYZXthZGRFdmVudExpc3RlbmVyKHQsZSl7dGhpcy5fbGlzdGVuZXJzPT09dm9pZCAwJiYodGhpcy5fbGlzdGVuZXJzPXt9KTtjb25zdCBpPXRoaXMuX2xpc3RlbmVycztpW3RdPT09dm9pZCAwJiYoaVt0XT1bXSksaVt0XS5pbmRleE9mKGUpPT09LTEmJmlbdF0ucHVzaChlKX1oYXNFdmVudExpc3RlbmVyKHQsZSl7aWYodGhpcy5fbGlzdGVuZXJzPT09dm9pZCAwKXJldHVybiExO2NvbnN0IGk9dGhpcy5fbGlzdGVuZXJzO3JldHVybiBpW3RdIT09dm9pZCAwJiZpW3RdLmluZGV4T2YoZSkhPT0tMX1yZW1vdmVFdmVudExpc3RlbmVyKHQsZSl7aWYodGhpcy5fbGlzdGVuZXJzPT09dm9pZCAwKXJldHVybjtjb25zdCBzPXRoaXMuX2xpc3RlbmVyc1t0XTtpZihzIT09dm9pZCAwKXtjb25zdCBuPXMuaW5kZXhPZihlKTtuIT09LTEmJnMuc3BsaWNlKG4sMSl9fWRpc3BhdGNoRXZlbnQodCl7aWYodGhpcy5fbGlzdGVuZXJzPT09dm9pZCAwKXJldHVybjtjb25zdCBpPXRoaXMuX2xpc3RlbmVyc1t0LnR5cGVdO2lmKGkhPT12b2lkIDApe3QudGFyZ2V0PXRoaXM7Y29uc3Qgcz1pLnNsaWNlKDApO2ZvcihsZXQgbj0wLHI9cy5sZW5ndGg7bjxyO24rKylzW25dLmNhbGwodGhpcyx0KTt0LnRhcmdldD1udWxsfX19Y29uc3QgcT1bIjAwIiwiMDEiLCIwMiIsIjAzIiwiMDQiLCIwNSIsIjA2IiwiMDciLCIwOCIsIjA5IiwiMGEiLCIwYiIsIjBjIiwiMGQiLCIwZSIsIjBmIiwiMTAiLCIxMSIsIjEyIiwiMTMiLCIxNCIsIjE1IiwiMTYiLCIxNyIsIjE4IiwiMTkiLCIxYSIsIjFiIiwiMWMiLCIxZCIsIjFlIiwiMWYiLCIyMCIsIjIxIiwiMjIiLCIyMyIsIjI0IiwiMjUiLCIyNiIsIjI3IiwiMjgiLCIyOSIsIjJhIiwiMmIiLCIyYyIsIjJkIiwiMmUiLCIyZiIsIjMwIiwiMzEiLCIzMiIsIjMzIiwiMzQiLCIzNSIsIjM2IiwiMzciLCIzOCIsIjM5IiwiM2EiLCIzYiIsIjNjIiwiM2QiLCIzZSIsIjNmIiwiNDAiLCI0MSIsIjQyIiwiNDMiLCI0NCIsIjQ1IiwiNDYiLCI0NyIsIjQ4IiwiNDkiLCI0YSIsIjRiIiwiNGMiLCI0ZCIsIjRlIiwiNGYiLCI1MCIsIjUxIiwiNTIiLCI1MyIsIjU0IiwiNTUiLCI1NiIsIjU3IiwiNTgiLCI1OSIsIjVhIiwiNWIiLCI1YyIsIjVkIiwiNWUiLCI1ZiIsIjYwIiwiNjEiLCI2MiIsIjYzIiwiNjQiLCI2NSIsIjY2IiwiNjciLCI2OCIsIjY5IiwiNmEiLCI2YiIsIjZjIiwiNmQiLCI2ZSIsIjZmIiwiNzAiLCI3MSIsIjcyIiwiNzMiLCI3NCIsIjc1IiwiNzYiLCI3NyIsIjc4IiwiNzkiLCI3YSIsIjdiIiwiN2MiLCI3ZCIsIjdlIiwiN2YiLCI4MCIsIjgxIiwiODIiLCI4MyIsIjg0IiwiODUiLCI4NiIsIjg3IiwiODgiLCI4OSIsIjhhIiwiOGIiLCI4YyIsIjhkIiwiOGUiLCI4ZiIsIjkwIiwiOTEiLCI5MiIsIjkzIiwiOTQiLCI5NSIsIjk2IiwiOTciLCI5OCIsIjk5IiwiOWEiLCI5YiIsIjljIiwiOWQiLCI5ZSIsIjlmIiwiYTAiLCJhMSIsImEyIiwiYTMiLCJhNCIsImE1IiwiYTYiLCJhNyIsImE4IiwiYTkiLCJhYSIsImFiIiwiYWMiLCJhZCIsImFlIiwiYWYiLCJiMCIsImIxIiwiYjIiLCJiMyIsImI0IiwiYjUiLCJiNiIsImI3IiwiYjgiLCJiOSIsImJhIiwiYmIiLCJiYyIsImJkIiwiYmUiLCJiZiIsImMwIiwiYzEiLCJjMiIsImMzIiwiYzQiLCJjNSIsImM2IiwiYzciLCJjOCIsImM5IiwiY2EiLCJjYiIsImNjIiwiY2QiLCJjZSIsImNmIiwiZDAiLCJkMSIsImQyIiwiZDMiLCJkNCIsImQ1IiwiZDYiLCJkNyIsImQ4IiwiZDkiLCJkYSIsImRiIiwiZGMiLCJkZCIsImRlIiwiZGYiLCJlMCIsImUxIiwiZTIiLCJlMyIsImU0IiwiZTUiLCJlNiIsImU3IiwiZTgiLCJlOSIsImVhIiwiZWIiLCJlYyIsImVkIiwiZWUiLCJlZiIsImYwIiwiZjEiLCJmMiIsImYzIiwiZjQiLCJmNSIsImY2IiwiZjciLCJmOCIsImY5IiwiZmEiLCJmYiIsImZjIiwiZmQiLCJmZSIsImZmIl07ZnVuY3Rpb24gZmUoKXtjb25zdCB1PU1hdGgucmFuZG9tKCkqNDI5NDk2NzI5NXwwLHQ9TWF0aC5yYW5kb20oKSo0Mjk0OTY3Mjk1fDAsZT1NYXRoLnJhbmRvbSgpKjQyOTQ5NjcyOTV8MCxpPU1hdGgucmFuZG9tKCkqNDI5NDk2NzI5NXwwO3JldHVybihxW3UmMjU1XStxW3U+PjgmMjU1XStxW3U+PjE2JjI1NV0rcVt1Pj4yNCYyNTVdKyItIitxW3QmMjU1XStxW3Q+PjgmMjU1XSsiLSIrcVt0Pj4xNiYxNXw2NF0rcVt0Pj4yNCYyNTVdKyItIitxW2UmNjN8MTI4XStxW2U+PjgmMjU1XSsiLSIrcVtlPj4xNiYyNTVdK3FbZT4+MjQmMjU1XStxW2kmMjU1XStxW2k+PjgmMjU1XStxW2k+PjE2JjI1NV0rcVtpPj4yNCYyNTVdKS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIGF0KHUsdCxlKXtyZXR1cm4gTWF0aC5tYXgodCxNYXRoLm1pbihlLHUpKX1mdW5jdGlvbiBKdCh1LHQpe3N3aXRjaCh0LmNvbnN0cnVjdG9yKXtjYXNlIEZsb2F0MzJBcnJheTpyZXR1cm4gdTtjYXNlIFVpbnQzMkFycmF5OnJldHVybiB1LzQyOTQ5NjcyOTU7Y2FzZSBVaW50MTZBcnJheTpyZXR1cm4gdS82NTUzNTtjYXNlIFVpbnQ4QXJyYXk6cmV0dXJuIHUvMjU1O2Nhc2UgSW50MzJBcnJheTpyZXR1cm4gTWF0aC5tYXgodS8yMTQ3NDgzNjQ3LC0xKTtjYXNlIEludDE2QXJyYXk6cmV0dXJuIE1hdGgubWF4KHUvMzI3NjcsLTEpO2Nhc2UgSW50OEFycmF5OnJldHVybiBNYXRoLm1heCh1LzEyNywtMSk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgY29tcG9uZW50IHR5cGUuIil9fWZ1bmN0aW9uIE8odSx0KXtzd2l0Y2godC5jb25zdHJ1Y3Rvcil7Y2FzZSBGbG9hdDMyQXJyYXk6cmV0dXJuIHU7Y2FzZSBVaW50MzJBcnJheTpyZXR1cm4gTWF0aC5yb3VuZCh1KjQyOTQ5NjcyOTUpO2Nhc2UgVWludDE2QXJyYXk6cmV0dXJuIE1hdGgucm91bmQodSo2NTUzNSk7Y2FzZSBVaW50OEFycmF5OnJldHVybiBNYXRoLnJvdW5kKHUqMjU1KTtjYXNlIEludDMyQXJyYXk6cmV0dXJuIE1hdGgucm91bmQodSoyMTQ3NDgzNjQ3KTtjYXNlIEludDE2QXJyYXk6cmV0dXJuIE1hdGgucm91bmQodSozMjc2Nyk7Y2FzZSBJbnQ4QXJyYXk6cmV0dXJuIE1hdGgucm91bmQodSoxMjcpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGNvbXBvbmVudCB0eXBlLiIpfX1jbGFzcyB2e2NvbnN0cnVjdG9yKHQ9MCxlPTApe3YucHJvdG90eXBlLmlzVmVjdG9yMj0hMCx0aGlzLng9dCx0aGlzLnk9ZX1nZXQgd2lkdGgoKXtyZXR1cm4gdGhpcy54fXNldCB3aWR0aCh0KXt0aGlzLng9dH1nZXQgaGVpZ2h0KCl7cmV0dXJuIHRoaXMueX1zZXQgaGVpZ2h0KHQpe3RoaXMueT10fXNldCh0LGUpe3JldHVybiB0aGlzLng9dCx0aGlzLnk9ZSx0aGlzfXNldFNjYWxhcih0KXtyZXR1cm4gdGhpcy54PXQsdGhpcy55PXQsdGhpc31zZXRYKHQpe3JldHVybiB0aGlzLng9dCx0aGlzfXNldFkodCl7cmV0dXJuIHRoaXMueT10LHRoaXN9c2V0Q29tcG9uZW50KHQsZSl7c3dpdGNoKHQpe2Nhc2UgMDp0aGlzLng9ZTticmVhaztjYXNlIDE6dGhpcy55PWU7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoImluZGV4IGlzIG91dCBvZiByYW5nZTogIit0KX1yZXR1cm4gdGhpc31nZXRDb21wb25lbnQodCl7c3dpdGNoKHQpe2Nhc2UgMDpyZXR1cm4gdGhpcy54O2Nhc2UgMTpyZXR1cm4gdGhpcy55O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJpbmRleCBpcyBvdXQgb2YgcmFuZ2U6ICIrdCl9fWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueCx0aGlzLnkpfWNvcHkodCl7cmV0dXJuIHRoaXMueD10LngsdGhpcy55PXQueSx0aGlzfWFkZCh0KXtyZXR1cm4gdGhpcy54Kz10LngsdGhpcy55Kz10LnksdGhpc31hZGRTY2FsYXIodCl7cmV0dXJuIHRoaXMueCs9dCx0aGlzLnkrPXQsdGhpc31hZGRWZWN0b3JzKHQsZSl7cmV0dXJuIHRoaXMueD10LngrZS54LHRoaXMueT10LnkrZS55LHRoaXN9YWRkU2NhbGVkVmVjdG9yKHQsZSl7cmV0dXJuIHRoaXMueCs9dC54KmUsdGhpcy55Kz10LnkqZSx0aGlzfXN1Yih0KXtyZXR1cm4gdGhpcy54LT10LngsdGhpcy55LT10LnksdGhpc31zdWJTY2FsYXIodCl7cmV0dXJuIHRoaXMueC09dCx0aGlzLnktPXQsdGhpc31zdWJWZWN0b3JzKHQsZSl7cmV0dXJuIHRoaXMueD10LngtZS54LHRoaXMueT10LnktZS55LHRoaXN9bXVsdGlwbHkodCl7cmV0dXJuIHRoaXMueCo9dC54LHRoaXMueSo9dC55LHRoaXN9bXVsdGlwbHlTY2FsYXIodCl7cmV0dXJuIHRoaXMueCo9dCx0aGlzLnkqPXQsdGhpc31kaXZpZGUodCl7cmV0dXJuIHRoaXMueC89dC54LHRoaXMueS89dC55LHRoaXN9ZGl2aWRlU2NhbGFyKHQpe3JldHVybiB0aGlzLm11bHRpcGx5U2NhbGFyKDEvdCl9YXBwbHlNYXRyaXgzKHQpe2NvbnN0IGU9dGhpcy54LGk9dGhpcy55LHM9dC5lbGVtZW50cztyZXR1cm4gdGhpcy54PXNbMF0qZStzWzNdKmkrc1s2XSx0aGlzLnk9c1sxXSplK3NbNF0qaStzWzddLHRoaXN9bWluKHQpe3JldHVybiB0aGlzLng9TWF0aC5taW4odGhpcy54LHQueCksdGhpcy55PU1hdGgubWluKHRoaXMueSx0LnkpLHRoaXN9bWF4KHQpe3JldHVybiB0aGlzLng9TWF0aC5tYXgodGhpcy54LHQueCksdGhpcy55PU1hdGgubWF4KHRoaXMueSx0LnkpLHRoaXN9Y2xhbXAodCxlKXtyZXR1cm4gdGhpcy54PU1hdGgubWF4KHQueCxNYXRoLm1pbihlLngsdGhpcy54KSksdGhpcy55PU1hdGgubWF4KHQueSxNYXRoLm1pbihlLnksdGhpcy55KSksdGhpc31jbGFtcFNjYWxhcih0LGUpe3JldHVybiB0aGlzLng9TWF0aC5tYXgodCxNYXRoLm1pbihlLHRoaXMueCkpLHRoaXMueT1NYXRoLm1heCh0LE1hdGgubWluKGUsdGhpcy55KSksdGhpc31jbGFtcExlbmd0aCh0LGUpe2NvbnN0IGk9dGhpcy5sZW5ndGgoKTtyZXR1cm4gdGhpcy5kaXZpZGVTY2FsYXIoaXx8MSkubXVsdGlwbHlTY2FsYXIoTWF0aC5tYXgodCxNYXRoLm1pbihlLGkpKSl9Zmxvb3IoKXtyZXR1cm4gdGhpcy54PU1hdGguZmxvb3IodGhpcy54KSx0aGlzLnk9TWF0aC5mbG9vcih0aGlzLnkpLHRoaXN9Y2VpbCgpe3JldHVybiB0aGlzLng9TWF0aC5jZWlsKHRoaXMueCksdGhpcy55PU1hdGguY2VpbCh0aGlzLnkpLHRoaXN9cm91bmQoKXtyZXR1cm4gdGhpcy54PU1hdGgucm91bmQodGhpcy54KSx0aGlzLnk9TWF0aC5yb3VuZCh0aGlzLnkpLHRoaXN9cm91bmRUb1plcm8oKXtyZXR1cm4gdGhpcy54PU1hdGgudHJ1bmModGhpcy54KSx0aGlzLnk9TWF0aC50cnVuYyh0aGlzLnkpLHRoaXN9bmVnYXRlKCl7cmV0dXJuIHRoaXMueD0tdGhpcy54LHRoaXMueT0tdGhpcy55LHRoaXN9ZG90KHQpe3JldHVybiB0aGlzLngqdC54K3RoaXMueSp0Lnl9Y3Jvc3ModCl7cmV0dXJuIHRoaXMueCp0LnktdGhpcy55KnQueH1sZW5ndGhTcSgpe3JldHVybiB0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnl9bGVuZ3RoKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkpfW1hbmhhdHRhbkxlbmd0aCgpe3JldHVybiBNYXRoLmFicyh0aGlzLngpK01hdGguYWJzKHRoaXMueSl9bm9ybWFsaXplKCl7cmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKHRoaXMubGVuZ3RoKCl8fDEpfWFuZ2xlKCl7cmV0dXJuIE1hdGguYXRhbjIoLXRoaXMueSwtdGhpcy54KStNYXRoLlBJfWFuZ2xlVG8odCl7Y29uc3QgZT1NYXRoLnNxcnQodGhpcy5sZW5ndGhTcSgpKnQubGVuZ3RoU3EoKSk7aWYoZT09PTApcmV0dXJuIE1hdGguUEkvMjtjb25zdCBpPXRoaXMuZG90KHQpL2U7cmV0dXJuIE1hdGguYWNvcyhhdChpLC0xLDEpKX1kaXN0YW5jZVRvKHQpe3JldHVybiBNYXRoLnNxcnQodGhpcy5kaXN0YW5jZVRvU3F1YXJlZCh0KSl9ZGlzdGFuY2VUb1NxdWFyZWQodCl7Y29uc3QgZT10aGlzLngtdC54LGk9dGhpcy55LXQueTtyZXR1cm4gZSplK2kqaX1tYW5oYXR0YW5EaXN0YW5jZVRvKHQpe3JldHVybiBNYXRoLmFicyh0aGlzLngtdC54KStNYXRoLmFicyh0aGlzLnktdC55KX1zZXRMZW5ndGgodCl7cmV0dXJuIHRoaXMubm9ybWFsaXplKCkubXVsdGlwbHlTY2FsYXIodCl9bGVycCh0LGUpe3JldHVybiB0aGlzLngrPSh0LngtdGhpcy54KSplLHRoaXMueSs9KHQueS10aGlzLnkpKmUsdGhpc31sZXJwVmVjdG9ycyh0LGUsaSl7cmV0dXJuIHRoaXMueD10LngrKGUueC10LngpKmksdGhpcy55PXQueSsoZS55LXQueSkqaSx0aGlzfWVxdWFscyh0KXtyZXR1cm4gdC54PT09dGhpcy54JiZ0Lnk9PT10aGlzLnl9ZnJvbUFycmF5KHQsZT0wKXtyZXR1cm4gdGhpcy54PXRbZV0sdGhpcy55PXRbZSsxXSx0aGlzfXRvQXJyYXkodD1bXSxlPTApe3JldHVybiB0W2VdPXRoaXMueCx0W2UrMV09dGhpcy55LHR9ZnJvbUJ1ZmZlckF0dHJpYnV0ZSh0LGUpe3JldHVybiB0aGlzLng9dC5nZXRYKGUpLHRoaXMueT10LmdldFkoZSksdGhpc31yb3RhdGVBcm91bmQodCxlKXtjb25zdCBpPU1hdGguY29zKGUpLHM9TWF0aC5zaW4oZSksbj10aGlzLngtdC54LHI9dGhpcy55LXQueTtyZXR1cm4gdGhpcy54PW4qaS1yKnMrdC54LHRoaXMueT1uKnMrcippK3QueSx0aGlzfXJhbmRvbSgpe3JldHVybiB0aGlzLng9TWF0aC5yYW5kb20oKSx0aGlzLnk9TWF0aC5yYW5kb20oKSx0aGlzfSpbU3ltYm9sLml0ZXJhdG9yXSgpe3lpZWxkIHRoaXMueCx5aWVsZCB0aGlzLnl9fWNsYXNzIFR0e2NvbnN0cnVjdG9yKHQsZSxpLHMsbixyLGEsbyxoKXtUdC5wcm90b3R5cGUuaXNNYXRyaXgzPSEwLHRoaXMuZWxlbWVudHM9WzEsMCwwLDAsMSwwLDAsMCwxXSx0IT09dm9pZCAwJiZ0aGlzLnNldCh0LGUsaSxzLG4scixhLG8saCl9c2V0KHQsZSxpLHMsbixyLGEsbyxoKXtjb25zdCBjPXRoaXMuZWxlbWVudHM7cmV0dXJuIGNbMF09dCxjWzFdPXMsY1syXT1hLGNbM109ZSxjWzRdPW4sY1s1XT1vLGNbNl09aSxjWzddPXIsY1s4XT1oLHRoaXN9aWRlbnRpdHkoKXtyZXR1cm4gdGhpcy5zZXQoMSwwLDAsMCwxLDAsMCwwLDEpLHRoaXN9Y29weSh0KXtjb25zdCBlPXRoaXMuZWxlbWVudHMsaT10LmVsZW1lbnRzO3JldHVybiBlWzBdPWlbMF0sZVsxXT1pWzFdLGVbMl09aVsyXSxlWzNdPWlbM10sZVs0XT1pWzRdLGVbNV09aVs1XSxlWzZdPWlbNl0sZVs3XT1pWzddLGVbOF09aVs4XSx0aGlzfWV4dHJhY3RCYXNpcyh0LGUsaSl7cmV0dXJuIHQuc2V0RnJvbU1hdHJpeDNDb2x1bW4odGhpcywwKSxlLnNldEZyb21NYXRyaXgzQ29sdW1uKHRoaXMsMSksaS5zZXRGcm9tTWF0cml4M0NvbHVtbih0aGlzLDIpLHRoaXN9c2V0RnJvbU1hdHJpeDQodCl7Y29uc3QgZT10LmVsZW1lbnRzO3JldHVybiB0aGlzLnNldChlWzBdLGVbNF0sZVs4XSxlWzFdLGVbNV0sZVs5XSxlWzJdLGVbNl0sZVsxMF0pLHRoaXN9bXVsdGlwbHkodCl7cmV0dXJuIHRoaXMubXVsdGlwbHlNYXRyaWNlcyh0aGlzLHQpfXByZW11bHRpcGx5KHQpe3JldHVybiB0aGlzLm11bHRpcGx5TWF0cmljZXModCx0aGlzKX1tdWx0aXBseU1hdHJpY2VzKHQsZSl7Y29uc3QgaT10LmVsZW1lbnRzLHM9ZS5lbGVtZW50cyxuPXRoaXMuZWxlbWVudHMscj1pWzBdLGE9aVszXSxvPWlbNl0saD1pWzFdLGM9aVs0XSxmPWlbN10sbD1pWzJdLGQ9aVs1XSxwPWlbOF0seT1zWzBdLHg9c1szXSxtPXNbNl0sZz1zWzFdLHc9c1s0XSxNPXNbN10sYj1zWzJdLHo9c1s1XSxfPXNbOF07cmV0dXJuIG5bMF09cip5K2EqZytvKmIsblszXT1yKngrYSp3K28qeixuWzZdPXIqbSthKk0rbypfLG5bMV09aCp5K2MqZytmKmIsbls0XT1oKngrYyp3K2YqeixuWzddPWgqbStjKk0rZipfLG5bMl09bCp5K2QqZytwKmIsbls1XT1sKngrZCp3K3AqeixuWzhdPWwqbStkKk0rcCpfLHRoaXN9bXVsdGlwbHlTY2FsYXIodCl7Y29uc3QgZT10aGlzLmVsZW1lbnRzO3JldHVybiBlWzBdKj10LGVbM10qPXQsZVs2XSo9dCxlWzFdKj10LGVbNF0qPXQsZVs3XSo9dCxlWzJdKj10LGVbNV0qPXQsZVs4XSo9dCx0aGlzfWRldGVybWluYW50KCl7Y29uc3QgdD10aGlzLmVsZW1lbnRzLGU9dFswXSxpPXRbMV0scz10WzJdLG49dFszXSxyPXRbNF0sYT10WzVdLG89dFs2XSxoPXRbN10sYz10WzhdO3JldHVybiBlKnIqYy1lKmEqaC1pKm4qYytpKmEqbytzKm4qaC1zKnIqb31pbnZlcnQoKXtjb25zdCB0PXRoaXMuZWxlbWVudHMsZT10WzBdLGk9dFsxXSxzPXRbMl0sbj10WzNdLHI9dFs0XSxhPXRbNV0sbz10WzZdLGg9dFs3XSxjPXRbOF0sZj1jKnItYSpoLGw9YSpvLWMqbixkPWgqbi1yKm8scD1lKmYraSpsK3MqZDtpZihwPT09MClyZXR1cm4gdGhpcy5zZXQoMCwwLDAsMCwwLDAsMCwwLDApO2NvbnN0IHk9MS9wO3JldHVybiB0WzBdPWYqeSx0WzFdPShzKmgtYyppKSp5LHRbMl09KGEqaS1zKnIpKnksdFszXT1sKnksdFs0XT0oYyplLXMqbykqeSx0WzVdPShzKm4tYSplKSp5LHRbNl09ZCp5LHRbN109KGkqby1oKmUpKnksdFs4XT0ociplLWkqbikqeSx0aGlzfXRyYW5zcG9zZSgpe2xldCB0O2NvbnN0IGU9dGhpcy5lbGVtZW50cztyZXR1cm4gdD1lWzFdLGVbMV09ZVszXSxlWzNdPXQsdD1lWzJdLGVbMl09ZVs2XSxlWzZdPXQsdD1lWzVdLGVbNV09ZVs3XSxlWzddPXQsdGhpc31nZXROb3JtYWxNYXRyaXgodCl7cmV0dXJuIHRoaXMuc2V0RnJvbU1hdHJpeDQodCkuaW52ZXJ0KCkudHJhbnNwb3NlKCl9dHJhbnNwb3NlSW50b0FycmF5KHQpe2NvbnN0IGU9dGhpcy5lbGVtZW50cztyZXR1cm4gdFswXT1lWzBdLHRbMV09ZVszXSx0WzJdPWVbNl0sdFszXT1lWzFdLHRbNF09ZVs0XSx0WzVdPWVbN10sdFs2XT1lWzJdLHRbN109ZVs1XSx0WzhdPWVbOF0sdGhpc31zZXRVdlRyYW5zZm9ybSh0LGUsaSxzLG4scixhKXtjb25zdCBvPU1hdGguY29zKG4pLGg9TWF0aC5zaW4obik7cmV0dXJuIHRoaXMuc2V0KGkqbyxpKmgsLWkqKG8qcitoKmEpK3IrdCwtcypoLHMqbywtcyooLWgqcitvKmEpK2ErZSwwLDAsMSksdGhpc31zY2FsZSh0LGUpe3JldHVybiB0aGlzLnByZW11bHRpcGx5KE9lLm1ha2VTY2FsZSh0LGUpKSx0aGlzfXJvdGF0ZSh0KXtyZXR1cm4gdGhpcy5wcmVtdWx0aXBseShPZS5tYWtlUm90YXRpb24oLXQpKSx0aGlzfXRyYW5zbGF0ZSh0LGUpe3JldHVybiB0aGlzLnByZW11bHRpcGx5KE9lLm1ha2VUcmFuc2xhdGlvbih0LGUpKSx0aGlzfW1ha2VUcmFuc2xhdGlvbih0LGUpe3JldHVybiB0LmlzVmVjdG9yMj90aGlzLnNldCgxLDAsdC54LDAsMSx0LnksMCwwLDEpOnRoaXMuc2V0KDEsMCx0LDAsMSxlLDAsMCwxKSx0aGlzfW1ha2VSb3RhdGlvbih0KXtjb25zdCBlPU1hdGguY29zKHQpLGk9TWF0aC5zaW4odCk7cmV0dXJuIHRoaXMuc2V0KGUsLWksMCxpLGUsMCwwLDAsMSksdGhpc31tYWtlU2NhbGUodCxlKXtyZXR1cm4gdGhpcy5zZXQodCwwLDAsMCxlLDAsMCwwLDEpLHRoaXN9ZXF1YWxzKHQpe2NvbnN0IGU9dGhpcy5lbGVtZW50cyxpPXQuZWxlbWVudHM7Zm9yKGxldCBzPTA7czw5O3MrKylpZihlW3NdIT09aVtzXSlyZXR1cm4hMTtyZXR1cm4hMH1mcm9tQXJyYXkodCxlPTApe2ZvcihsZXQgaT0wO2k8OTtpKyspdGhpcy5lbGVtZW50c1tpXT10W2krZV07cmV0dXJuIHRoaXN9dG9BcnJheSh0PVtdLGU9MCl7Y29uc3QgaT10aGlzLmVsZW1lbnRzO3JldHVybiB0W2VdPWlbMF0sdFtlKzFdPWlbMV0sdFtlKzJdPWlbMl0sdFtlKzNdPWlbM10sdFtlKzRdPWlbNF0sdFtlKzVdPWlbNV0sdFtlKzZdPWlbNl0sdFtlKzddPWlbN10sdFtlKzhdPWlbOF0sdH1jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmZyb21BcnJheSh0aGlzLmVsZW1lbnRzKX19Y29uc3QgT2U9bmV3IFR0O2Z1bmN0aW9uIG5zKHUpe2ZvcihsZXQgdD11Lmxlbmd0aC0xO3Q+PTA7LS10KWlmKHVbdF0+PTY1NTM1KXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIFRpKHUpe3JldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiLHUpfWNvbnN0IFBpPXt9O2Z1bmN0aW9uIHJzKHUpe3UgaW4gUGl8fChQaVt1XT0hMCxjb25zb2xlLndhcm4odSkpfWZ1bmN0aW9uIFllKHUpe3JldHVybiB1PC4wNDA0NT91Ki4wNzczOTkzODA4Ok1hdGgucG93KHUqLjk0Nzg2NzI5ODYrLjA1MjEzMjcwMTQsMi40KX1sZXQgRXQ7Y2xhc3Mgb3N7c3RhdGljIGdldERhdGFVUkwodCl7aWYoL15kYXRhOi9pLnRlc3QodC5zcmMpfHx0eXBlb2YgSFRNTENhbnZhc0VsZW1lbnQ+InUiKXJldHVybiB0LnNyYztsZXQgZTtpZih0IGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQpZT10O2Vsc2V7RXQ9PT12b2lkIDAmJihFdD1UaSgiY2FudmFzIikpLEV0LndpZHRoPXQud2lkdGgsRXQuaGVpZ2h0PXQuaGVpZ2h0O2NvbnN0IGk9RXQuZ2V0Q29udGV4dCgiMmQiKTt0IGluc3RhbmNlb2YgSW1hZ2VEYXRhP2kucHV0SW1hZ2VEYXRhKHQsMCwwKTppLmRyYXdJbWFnZSh0LDAsMCx0LndpZHRoLHQuaGVpZ2h0KSxlPUV0fXJldHVybiBlLndpZHRoPjIwNDh8fGUuaGVpZ2h0PjIwNDg/KGNvbnNvbGUud2FybigiVEhSRUUuSW1hZ2VVdGlscy5nZXREYXRhVVJMOiBJbWFnZSBjb252ZXJ0ZWQgdG8ganBnIGZvciBwZXJmb3JtYW5jZSByZWFzb25zIix0KSxlLnRvRGF0YVVSTCgiaW1hZ2UvanBlZyIsLjYpKTplLnRvRGF0YVVSTCgiaW1hZ2UvcG5nIil9c3RhdGljIHNSR0JUb0xpbmVhcih0KXtpZih0eXBlb2YgSFRNTEltYWdlRWxlbWVudDwidSImJnQgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50fHx0eXBlb2YgSFRNTENhbnZhc0VsZW1lbnQ8InUiJiZ0IGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnR8fHR5cGVvZiBJbWFnZUJpdG1hcDwidSImJnQgaW5zdGFuY2VvZiBJbWFnZUJpdG1hcCl7Y29uc3QgZT1UaSgiY2FudmFzIik7ZS53aWR0aD10LndpZHRoLGUuaGVpZ2h0PXQuaGVpZ2h0O2NvbnN0IGk9ZS5nZXRDb250ZXh0KCIyZCIpO2kuZHJhd0ltYWdlKHQsMCwwLHQud2lkdGgsdC5oZWlnaHQpO2NvbnN0IHM9aS5nZXRJbWFnZURhdGEoMCwwLHQud2lkdGgsdC5oZWlnaHQpLG49cy5kYXRhO2ZvcihsZXQgcj0wO3I8bi5sZW5ndGg7cisrKW5bcl09WWUobltyXS8yNTUpKjI1NTtyZXR1cm4gaS5wdXRJbWFnZURhdGEocywwLDApLGV9ZWxzZSBpZih0LmRhdGEpe2NvbnN0IGU9dC5kYXRhLnNsaWNlKDApO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKWUgaW5zdGFuY2VvZiBVaW50OEFycmF5fHxlIGluc3RhbmNlb2YgVWludDhDbGFtcGVkQXJyYXk/ZVtpXT1NYXRoLmZsb29yKFllKGVbaV0vMjU1KSoyNTUpOmVbaV09WWUoZVtpXSk7cmV0dXJue2RhdGE6ZSx3aWR0aDp0LndpZHRoLGhlaWdodDp0LmhlaWdodH19ZWxzZSByZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5JbWFnZVV0aWxzLnNSR0JUb0xpbmVhcigpOiBVbnN1cHBvcnRlZCBpbWFnZSB0eXBlLiBObyBjb2xvciBzcGFjZSBjb252ZXJzaW9uIGFwcGxpZWQuIiksdH19bGV0IGFzPTA7Y2xhc3MgY3N7Y29uc3RydWN0b3IodD1udWxsKXt0aGlzLmlzU291cmNlPSEwLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJpZCIse3ZhbHVlOmFzKyt9KSx0aGlzLnV1aWQ9ZmUoKSx0aGlzLmRhdGE9dCx0aGlzLmRhdGFSZWFkeT0hMCx0aGlzLnZlcnNpb249MH1zZXQgbmVlZHNVcGRhdGUodCl7dD09PSEwJiZ0aGlzLnZlcnNpb24rK310b0pTT04odCl7Y29uc3QgZT10PT09dm9pZCAwfHx0eXBlb2YgdD09InN0cmluZyI7aWYoIWUmJnQuaW1hZ2VzW3RoaXMudXVpZF0hPT12b2lkIDApcmV0dXJuIHQuaW1hZ2VzW3RoaXMudXVpZF07Y29uc3QgaT17dXVpZDp0aGlzLnV1aWQsdXJsOiIifSxzPXRoaXMuZGF0YTtpZihzIT09bnVsbCl7bGV0IG47aWYoQXJyYXkuaXNBcnJheShzKSl7bj1bXTtmb3IobGV0IHI9MCxhPXMubGVuZ3RoO3I8YTtyKyspc1tyXS5pc0RhdGFUZXh0dXJlP24ucHVzaChaZShzW3JdLmltYWdlKSk6bi5wdXNoKFplKHNbcl0pKX1lbHNlIG49WmUocyk7aS51cmw9bn1yZXR1cm4gZXx8KHQuaW1hZ2VzW3RoaXMudXVpZF09aSksaX19ZnVuY3Rpb24gWmUodSl7cmV0dXJuIHR5cGVvZiBIVE1MSW1hZ2VFbGVtZW50PCJ1IiYmdSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnR8fHR5cGVvZiBIVE1MQ2FudmFzRWxlbWVudDwidSImJnUgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudHx8dHlwZW9mIEltYWdlQml0bWFwPCJ1IiYmdSBpbnN0YW5jZW9mIEltYWdlQml0bWFwP29zLmdldERhdGFVUkwodSk6dS5kYXRhP3tkYXRhOkFycmF5LmZyb20odS5kYXRhKSx3aWR0aDp1LndpZHRoLGhlaWdodDp1LmhlaWdodCx0eXBlOnUuZGF0YS5jb25zdHJ1Y3Rvci5uYW1lfTooY29uc29sZS53YXJuKCJUSFJFRS5UZXh0dXJlOiBVbmFibGUgdG8gc2VyaWFsaXplIFRleHR1cmUuIikse30pfWxldCBocz0wO2NsYXNzIGd0IGV4dGVuZHMgWGV7Y29uc3RydWN0b3IodD1ndC5ERUZBVUxUX0lNQUdFLGU9Z3QuREVGQVVMVF9NQVBQSU5HLGk9MTAwMSxzPTEwMDEsbj0xMDA2LHI9MTAwOCxhPTEwMjMsbz0xMDA5LGg9Z3QuREVGQVVMVF9BTklTT1RST1BZLGM9c3Mpe3N1cGVyKCksdGhpcy5pc1RleHR1cmU9ITAsT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsImlkIix7dmFsdWU6aHMrK30pLHRoaXMudXVpZD1mZSgpLHRoaXMubmFtZT0iIix0aGlzLnNvdXJjZT1uZXcgY3ModCksdGhpcy5taXBtYXBzPVtdLHRoaXMubWFwcGluZz1lLHRoaXMuY2hhbm5lbD0wLHRoaXMud3JhcFM9aSx0aGlzLndyYXBUPXMsdGhpcy5tYWdGaWx0ZXI9bix0aGlzLm1pbkZpbHRlcj1yLHRoaXMuYW5pc290cm9weT1oLHRoaXMuZm9ybWF0PWEsdGhpcy5pbnRlcm5hbEZvcm1hdD1udWxsLHRoaXMudHlwZT1vLHRoaXMub2Zmc2V0PW5ldyB2KDAsMCksdGhpcy5yZXBlYXQ9bmV3IHYoMSwxKSx0aGlzLmNlbnRlcj1uZXcgdigwLDApLHRoaXMucm90YXRpb249MCx0aGlzLm1hdHJpeEF1dG9VcGRhdGU9ITAsdGhpcy5tYXRyaXg9bmV3IFR0LHRoaXMuZ2VuZXJhdGVNaXBtYXBzPSEwLHRoaXMucHJlbXVsdGlwbHlBbHBoYT0hMSx0aGlzLmZsaXBZPSEwLHRoaXMudW5wYWNrQWxpZ25tZW50PTQsdGhpcy5jb2xvclNwYWNlPWMsdGhpcy51c2VyRGF0YT17fSx0aGlzLnZlcnNpb249MCx0aGlzLm9uVXBkYXRlPW51bGwsdGhpcy5pc1JlbmRlclRhcmdldFRleHR1cmU9ITEsdGhpcy5uZWVkc1BNUkVNVXBkYXRlPSExfWdldCBpbWFnZSgpe3JldHVybiB0aGlzLnNvdXJjZS5kYXRhfXNldCBpbWFnZSh0PW51bGwpe3RoaXMuc291cmNlLmRhdGE9dH11cGRhdGVNYXRyaXgoKXt0aGlzLm1hdHJpeC5zZXRVdlRyYW5zZm9ybSh0aGlzLm9mZnNldC54LHRoaXMub2Zmc2V0LnksdGhpcy5yZXBlYXQueCx0aGlzLnJlcGVhdC55LHRoaXMucm90YXRpb24sdGhpcy5jZW50ZXIueCx0aGlzLmNlbnRlci55KX1jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyl9Y29weSh0KXtyZXR1cm4gdGhpcy5uYW1lPXQubmFtZSx0aGlzLnNvdXJjZT10LnNvdXJjZSx0aGlzLm1pcG1hcHM9dC5taXBtYXBzLnNsaWNlKDApLHRoaXMubWFwcGluZz10Lm1hcHBpbmcsdGhpcy5jaGFubmVsPXQuY2hhbm5lbCx0aGlzLndyYXBTPXQud3JhcFMsdGhpcy53cmFwVD10LndyYXBULHRoaXMubWFnRmlsdGVyPXQubWFnRmlsdGVyLHRoaXMubWluRmlsdGVyPXQubWluRmlsdGVyLHRoaXMuYW5pc290cm9weT10LmFuaXNvdHJvcHksdGhpcy5mb3JtYXQ9dC5mb3JtYXQsdGhpcy5pbnRlcm5hbEZvcm1hdD10LmludGVybmFsRm9ybWF0LHRoaXMudHlwZT10LnR5cGUsdGhpcy5vZmZzZXQuY29weSh0Lm9mZnNldCksdGhpcy5yZXBlYXQuY29weSh0LnJlcGVhdCksdGhpcy5jZW50ZXIuY29weSh0LmNlbnRlciksdGhpcy5yb3RhdGlvbj10LnJvdGF0aW9uLHRoaXMubWF0cml4QXV0b1VwZGF0ZT10Lm1hdHJpeEF1dG9VcGRhdGUsdGhpcy5tYXRyaXguY29weSh0Lm1hdHJpeCksdGhpcy5nZW5lcmF0ZU1pcG1hcHM9dC5nZW5lcmF0ZU1pcG1hcHMsdGhpcy5wcmVtdWx0aXBseUFscGhhPXQucHJlbXVsdGlwbHlBbHBoYSx0aGlzLmZsaXBZPXQuZmxpcFksdGhpcy51bnBhY2tBbGlnbm1lbnQ9dC51bnBhY2tBbGlnbm1lbnQsdGhpcy5jb2xvclNwYWNlPXQuY29sb3JTcGFjZSx0aGlzLnVzZXJEYXRhPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodC51c2VyRGF0YSkpLHRoaXMubmVlZHNVcGRhdGU9ITAsdGhpc310b0pTT04odCl7Y29uc3QgZT10PT09dm9pZCAwfHx0eXBlb2YgdD09InN0cmluZyI7aWYoIWUmJnQudGV4dHVyZXNbdGhpcy51dWlkXSE9PXZvaWQgMClyZXR1cm4gdC50ZXh0dXJlc1t0aGlzLnV1aWRdO2NvbnN0IGk9e21ldGFkYXRhOnt2ZXJzaW9uOjQuNix0eXBlOiJUZXh0dXJlIixnZW5lcmF0b3I6IlRleHR1cmUudG9KU09OIn0sdXVpZDp0aGlzLnV1aWQsbmFtZTp0aGlzLm5hbWUsaW1hZ2U6dGhpcy5zb3VyY2UudG9KU09OKHQpLnV1aWQsbWFwcGluZzp0aGlzLm1hcHBpbmcsY2hhbm5lbDp0aGlzLmNoYW5uZWwscmVwZWF0Olt0aGlzLnJlcGVhdC54LHRoaXMucmVwZWF0LnldLG9mZnNldDpbdGhpcy5vZmZzZXQueCx0aGlzLm9mZnNldC55XSxjZW50ZXI6W3RoaXMuY2VudGVyLngsdGhpcy5jZW50ZXIueV0scm90YXRpb246dGhpcy5yb3RhdGlvbix3cmFwOlt0aGlzLndyYXBTLHRoaXMud3JhcFRdLGZvcm1hdDp0aGlzLmZvcm1hdCxpbnRlcm5hbEZvcm1hdDp0aGlzLmludGVybmFsRm9ybWF0LHR5cGU6dGhpcy50eXBlLGNvbG9yU3BhY2U6dGhpcy5jb2xvclNwYWNlLG1pbkZpbHRlcjp0aGlzLm1pbkZpbHRlcixtYWdGaWx0ZXI6dGhpcy5tYWdGaWx0ZXIsYW5pc290cm9weTp0aGlzLmFuaXNvdHJvcHksZmxpcFk6dGhpcy5mbGlwWSxnZW5lcmF0ZU1pcG1hcHM6dGhpcy5nZW5lcmF0ZU1pcG1hcHMscHJlbXVsdGlwbHlBbHBoYTp0aGlzLnByZW11bHRpcGx5QWxwaGEsdW5wYWNrQWxpZ25tZW50OnRoaXMudW5wYWNrQWxpZ25tZW50fTtyZXR1cm4gT2JqZWN0LmtleXModGhpcy51c2VyRGF0YSkubGVuZ3RoPjAmJihpLnVzZXJEYXRhPXRoaXMudXNlckRhdGEpLGV8fCh0LnRleHR1cmVzW3RoaXMudXVpZF09aSksaX1kaXNwb3NlKCl7dGhpcy5kaXNwYXRjaEV2ZW50KHt0eXBlOiJkaXNwb3NlIn0pfXRyYW5zZm9ybVV2KHQpe2lmKHRoaXMubWFwcGluZyE9PTMwMClyZXR1cm4gdDtpZih0LmFwcGx5TWF0cml4Myh0aGlzLm1hdHJpeCksdC54PDB8fHQueD4xKXN3aXRjaCh0aGlzLndyYXBTKXtjYXNlIDFlMzp0Lng9dC54LU1hdGguZmxvb3IodC54KTticmVhaztjYXNlIDEwMDE6dC54PXQueDwwPzA6MTticmVhaztjYXNlIDEwMDI6TWF0aC5hYnMoTWF0aC5mbG9vcih0LngpJTIpPT09MT90Lng9TWF0aC5jZWlsKHQueCktdC54OnQueD10LngtTWF0aC5mbG9vcih0LngpO2JyZWFrfWlmKHQueTwwfHx0Lnk+MSlzd2l0Y2godGhpcy53cmFwVCl7Y2FzZSAxZTM6dC55PXQueS1NYXRoLmZsb29yKHQueSk7YnJlYWs7Y2FzZSAxMDAxOnQueT10Lnk8MD8wOjE7YnJlYWs7Y2FzZSAxMDAyOk1hdGguYWJzKE1hdGguZmxvb3IodC55KSUyKT09PTE/dC55PU1hdGguY2VpbCh0LnkpLXQueTp0Lnk9dC55LU1hdGguZmxvb3IodC55KTticmVha31yZXR1cm4gdGhpcy5mbGlwWSYmKHQueT0xLXQueSksdH1zZXQgbmVlZHNVcGRhdGUodCl7dD09PSEwJiYodGhpcy52ZXJzaW9uKyssdGhpcy5zb3VyY2UubmVlZHNVcGRhdGU9ITApfX1ndC5ERUZBVUxUX0lNQUdFPW51bGwsZ3QuREVGQVVMVF9NQVBQSU5HPTMwMCxndC5ERUZBVUxUX0FOSVNPVFJPUFk9MTtjbGFzcyBRdHtjb25zdHJ1Y3Rvcih0PTAsZT0wLGk9MCxzPTEpe3RoaXMuaXNRdWF0ZXJuaW9uPSEwLHRoaXMuX3g9dCx0aGlzLl95PWUsdGhpcy5fej1pLHRoaXMuX3c9c31zdGF0aWMgc2xlcnBGbGF0KHQsZSxpLHMsbixyLGEpe2xldCBvPWlbcyswXSxoPWlbcysxXSxjPWlbcysyXSxmPWlbcyszXTtjb25zdCBsPW5bciswXSxkPW5bcisxXSxwPW5bcisyXSx5PW5bciszXTtpZihhPT09MCl7dFtlKzBdPW8sdFtlKzFdPWgsdFtlKzJdPWMsdFtlKzNdPWY7cmV0dXJufWlmKGE9PT0xKXt0W2UrMF09bCx0W2UrMV09ZCx0W2UrMl09cCx0W2UrM109eTtyZXR1cm59aWYoZiE9PXl8fG8hPT1sfHxoIT09ZHx8YyE9PXApe2xldCB4PTEtYTtjb25zdCBtPW8qbCtoKmQrYypwK2YqeSxnPW0+PTA/MTotMSx3PTEtbSptO2lmKHc+TnVtYmVyLkVQU0lMT04pe2NvbnN0IGI9TWF0aC5zcXJ0KHcpLHo9TWF0aC5hdGFuMihiLG0qZyk7eD1NYXRoLnNpbih4KnopL2IsYT1NYXRoLnNpbihhKnopL2J9Y29uc3QgTT1hKmc7aWYobz1vKngrbCpNLGg9aCp4K2QqTSxjPWMqeCtwKk0sZj1mKngreSpNLHg9PT0xLWEpe2NvbnN0IGI9MS9NYXRoLnNxcnQobypvK2gqaCtjKmMrZipmKTtvKj1iLGgqPWIsYyo9YixmKj1ifX10W2VdPW8sdFtlKzFdPWgsdFtlKzJdPWMsdFtlKzNdPWZ9c3RhdGljIG11bHRpcGx5UXVhdGVybmlvbnNGbGF0KHQsZSxpLHMsbixyKXtjb25zdCBhPWlbc10sbz1pW3MrMV0saD1pW3MrMl0sYz1pW3MrM10sZj1uW3JdLGw9bltyKzFdLGQ9bltyKzJdLHA9bltyKzNdO3JldHVybiB0W2VdPWEqcCtjKmYrbypkLWgqbCx0W2UrMV09bypwK2MqbCtoKmYtYSpkLHRbZSsyXT1oKnArYypkK2EqbC1vKmYsdFtlKzNdPWMqcC1hKmYtbypsLWgqZCx0fWdldCB4KCl7cmV0dXJuIHRoaXMuX3h9c2V0IHgodCl7dGhpcy5feD10LHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKX1nZXQgeSgpe3JldHVybiB0aGlzLl95fXNldCB5KHQpe3RoaXMuX3k9dCx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCl9Z2V0IHooKXtyZXR1cm4gdGhpcy5fen1zZXQgeih0KXt0aGlzLl96PXQsdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpfWdldCB3KCl7cmV0dXJuIHRoaXMuX3d9c2V0IHcodCl7dGhpcy5fdz10LHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKX1zZXQodCxlLGkscyl7cmV0dXJuIHRoaXMuX3g9dCx0aGlzLl95PWUsdGhpcy5fej1pLHRoaXMuX3c9cyx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc31jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLl94LHRoaXMuX3ksdGhpcy5feix0aGlzLl93KX1jb3B5KHQpe3JldHVybiB0aGlzLl94PXQueCx0aGlzLl95PXQueSx0aGlzLl96PXQueix0aGlzLl93PXQudyx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc31zZXRGcm9tRXVsZXIodCxlPSEwKXtjb25zdCBpPXQuX3gscz10Ll95LG49dC5feixyPXQuX29yZGVyLGE9TWF0aC5jb3Msbz1NYXRoLnNpbixoPWEoaS8yKSxjPWEocy8yKSxmPWEobi8yKSxsPW8oaS8yKSxkPW8ocy8yKSxwPW8obi8yKTtzd2l0Y2gocil7Y2FzZSJYWVoiOnRoaXMuX3g9bCpjKmYraCpkKnAsdGhpcy5feT1oKmQqZi1sKmMqcCx0aGlzLl96PWgqYypwK2wqZCpmLHRoaXMuX3c9aCpjKmYtbCpkKnA7YnJlYWs7Y2FzZSJZWFoiOnRoaXMuX3g9bCpjKmYraCpkKnAsdGhpcy5feT1oKmQqZi1sKmMqcCx0aGlzLl96PWgqYypwLWwqZCpmLHRoaXMuX3c9aCpjKmYrbCpkKnA7YnJlYWs7Y2FzZSJaWFkiOnRoaXMuX3g9bCpjKmYtaCpkKnAsdGhpcy5feT1oKmQqZitsKmMqcCx0aGlzLl96PWgqYypwK2wqZCpmLHRoaXMuX3c9aCpjKmYtbCpkKnA7YnJlYWs7Y2FzZSJaWVgiOnRoaXMuX3g9bCpjKmYtaCpkKnAsdGhpcy5feT1oKmQqZitsKmMqcCx0aGlzLl96PWgqYypwLWwqZCpmLHRoaXMuX3c9aCpjKmYrbCpkKnA7YnJlYWs7Y2FzZSJZWlgiOnRoaXMuX3g9bCpjKmYraCpkKnAsdGhpcy5feT1oKmQqZitsKmMqcCx0aGlzLl96PWgqYypwLWwqZCpmLHRoaXMuX3c9aCpjKmYtbCpkKnA7YnJlYWs7Y2FzZSJYWlkiOnRoaXMuX3g9bCpjKmYtaCpkKnAsdGhpcy5feT1oKmQqZi1sKmMqcCx0aGlzLl96PWgqYypwK2wqZCpmLHRoaXMuX3c9aCpjKmYrbCpkKnA7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLndhcm4oIlRIUkVFLlF1YXRlcm5pb246IC5zZXRGcm9tRXVsZXIoKSBlbmNvdW50ZXJlZCBhbiB1bmtub3duIG9yZGVyOiAiK3IpfXJldHVybiBlPT09ITAmJnRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfXNldEZyb21BeGlzQW5nbGUodCxlKXtjb25zdCBpPWUvMixzPU1hdGguc2luKGkpO3JldHVybiB0aGlzLl94PXQueCpzLHRoaXMuX3k9dC55KnMsdGhpcy5fej10Lnoqcyx0aGlzLl93PU1hdGguY29zKGkpLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfXNldEZyb21Sb3RhdGlvbk1hdHJpeCh0KXtjb25zdCBlPXQuZWxlbWVudHMsaT1lWzBdLHM9ZVs0XSxuPWVbOF0scj1lWzFdLGE9ZVs1XSxvPWVbOV0saD1lWzJdLGM9ZVs2XSxmPWVbMTBdLGw9aSthK2Y7aWYobD4wKXtjb25zdCBkPS41L01hdGguc3FydChsKzEpO3RoaXMuX3c9LjI1L2QsdGhpcy5feD0oYy1vKSpkLHRoaXMuX3k9KG4taCkqZCx0aGlzLl96PShyLXMpKmR9ZWxzZSBpZihpPmEmJmk+Zil7Y29uc3QgZD0yKk1hdGguc3FydCgxK2ktYS1mKTt0aGlzLl93PShjLW8pL2QsdGhpcy5feD0uMjUqZCx0aGlzLl95PShzK3IpL2QsdGhpcy5fej0obitoKS9kfWVsc2UgaWYoYT5mKXtjb25zdCBkPTIqTWF0aC5zcXJ0KDErYS1pLWYpO3RoaXMuX3c9KG4taCkvZCx0aGlzLl94PShzK3IpL2QsdGhpcy5feT0uMjUqZCx0aGlzLl96PShvK2MpL2R9ZWxzZXtjb25zdCBkPTIqTWF0aC5zcXJ0KDErZi1pLWEpO3RoaXMuX3c9KHItcykvZCx0aGlzLl94PShuK2gpL2QsdGhpcy5feT0obytjKS9kLHRoaXMuX3o9LjI1KmR9cmV0dXJuIHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfXNldEZyb21Vbml0VmVjdG9ycyh0LGUpe2xldCBpPXQuZG90KGUpKzE7cmV0dXJuIGk8TnVtYmVyLkVQU0lMT04/KGk9MCxNYXRoLmFicyh0LngpPk1hdGguYWJzKHQueik/KHRoaXMuX3g9LXQueSx0aGlzLl95PXQueCx0aGlzLl96PTAsdGhpcy5fdz1pKToodGhpcy5feD0wLHRoaXMuX3k9LXQueix0aGlzLl96PXQueSx0aGlzLl93PWkpKToodGhpcy5feD10LnkqZS56LXQueiplLnksdGhpcy5feT10LnoqZS54LXQueCplLnosdGhpcy5fej10LngqZS55LXQueSplLngsdGhpcy5fdz1pKSx0aGlzLm5vcm1hbGl6ZSgpfWFuZ2xlVG8odCl7cmV0dXJuIDIqTWF0aC5hY29zKE1hdGguYWJzKGF0KHRoaXMuZG90KHQpLC0xLDEpKSl9cm90YXRlVG93YXJkcyh0LGUpe2NvbnN0IGk9dGhpcy5hbmdsZVRvKHQpO2lmKGk9PT0wKXJldHVybiB0aGlzO2NvbnN0IHM9TWF0aC5taW4oMSxlL2kpO3JldHVybiB0aGlzLnNsZXJwKHQscyksdGhpc31pZGVudGl0eSgpe3JldHVybiB0aGlzLnNldCgwLDAsMCwxKX1pbnZlcnQoKXtyZXR1cm4gdGhpcy5jb25qdWdhdGUoKX1jb25qdWdhdGUoKXtyZXR1cm4gdGhpcy5feCo9LTEsdGhpcy5feSo9LTEsdGhpcy5feio9LTEsdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9ZG90KHQpe3JldHVybiB0aGlzLl94KnQuX3grdGhpcy5feSp0Ll95K3RoaXMuX3oqdC5feit0aGlzLl93KnQuX3d9bGVuZ3RoU3EoKXtyZXR1cm4gdGhpcy5feCp0aGlzLl94K3RoaXMuX3kqdGhpcy5feSt0aGlzLl96KnRoaXMuX3ordGhpcy5fdyp0aGlzLl93fWxlbmd0aCgpe3JldHVybiBNYXRoLnNxcnQodGhpcy5feCp0aGlzLl94K3RoaXMuX3kqdGhpcy5feSt0aGlzLl96KnRoaXMuX3ordGhpcy5fdyp0aGlzLl93KX1ub3JtYWxpemUoKXtsZXQgdD10aGlzLmxlbmd0aCgpO3JldHVybiB0PT09MD8odGhpcy5feD0wLHRoaXMuX3k9MCx0aGlzLl96PTAsdGhpcy5fdz0xKToodD0xL3QsdGhpcy5feD10aGlzLl94KnQsdGhpcy5feT10aGlzLl95KnQsdGhpcy5fej10aGlzLl96KnQsdGhpcy5fdz10aGlzLl93KnQpLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfW11bHRpcGx5KHQpe3JldHVybiB0aGlzLm11bHRpcGx5UXVhdGVybmlvbnModGhpcyx0KX1wcmVtdWx0aXBseSh0KXtyZXR1cm4gdGhpcy5tdWx0aXBseVF1YXRlcm5pb25zKHQsdGhpcyl9bXVsdGlwbHlRdWF0ZXJuaW9ucyh0LGUpe2NvbnN0IGk9dC5feCxzPXQuX3ksbj10Ll96LHI9dC5fdyxhPWUuX3gsbz1lLl95LGg9ZS5feixjPWUuX3c7cmV0dXJuIHRoaXMuX3g9aSpjK3IqYStzKmgtbipvLHRoaXMuX3k9cypjK3IqbytuKmEtaSpoLHRoaXMuX3o9bipjK3IqaCtpKm8tcyphLHRoaXMuX3c9cipjLWkqYS1zKm8tbipoLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfXNsZXJwKHQsZSl7aWYoZT09PTApcmV0dXJuIHRoaXM7aWYoZT09PTEpcmV0dXJuIHRoaXMuY29weSh0KTtjb25zdCBpPXRoaXMuX3gscz10aGlzLl95LG49dGhpcy5feixyPXRoaXMuX3c7bGV0IGE9cip0Ll93K2kqdC5feCtzKnQuX3krbip0Ll96O2lmKGE8MD8odGhpcy5fdz0tdC5fdyx0aGlzLl94PS10Ll94LHRoaXMuX3k9LXQuX3ksdGhpcy5fej0tdC5feixhPS1hKTp0aGlzLmNvcHkodCksYT49MSlyZXR1cm4gdGhpcy5fdz1yLHRoaXMuX3g9aSx0aGlzLl95PXMsdGhpcy5fej1uLHRoaXM7Y29uc3Qgbz0xLWEqYTtpZihvPD1OdW1iZXIuRVBTSUxPTil7Y29uc3QgZD0xLWU7cmV0dXJuIHRoaXMuX3c9ZCpyK2UqdGhpcy5fdyx0aGlzLl94PWQqaStlKnRoaXMuX3gsdGhpcy5feT1kKnMrZSp0aGlzLl95LHRoaXMuX3o9ZCpuK2UqdGhpcy5feix0aGlzLm5vcm1hbGl6ZSgpLHRoaXN9Y29uc3QgaD1NYXRoLnNxcnQobyksYz1NYXRoLmF0YW4yKGgsYSksZj1NYXRoLnNpbigoMS1lKSpjKS9oLGw9TWF0aC5zaW4oZSpjKS9oO3JldHVybiB0aGlzLl93PXIqZit0aGlzLl93KmwsdGhpcy5feD1pKmYrdGhpcy5feCpsLHRoaXMuX3k9cypmK3RoaXMuX3kqbCx0aGlzLl96PW4qZit0aGlzLl96KmwsdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9c2xlcnBRdWF0ZXJuaW9ucyh0LGUsaSl7cmV0dXJuIHRoaXMuY29weSh0KS5zbGVycChlLGkpfXJhbmRvbSgpe2NvbnN0IHQ9MipNYXRoLlBJKk1hdGgucmFuZG9tKCksZT0yKk1hdGguUEkqTWF0aC5yYW5kb20oKSxpPU1hdGgucmFuZG9tKCkscz1NYXRoLnNxcnQoMS1pKSxuPU1hdGguc3FydChpKTtyZXR1cm4gdGhpcy5zZXQocypNYXRoLnNpbih0KSxzKk1hdGguY29zKHQpLG4qTWF0aC5zaW4oZSksbipNYXRoLmNvcyhlKSl9ZXF1YWxzKHQpe3JldHVybiB0Ll94PT09dGhpcy5feCYmdC5feT09PXRoaXMuX3kmJnQuX3o9PT10aGlzLl96JiZ0Ll93PT09dGhpcy5fd31mcm9tQXJyYXkodCxlPTApe3JldHVybiB0aGlzLl94PXRbZV0sdGhpcy5feT10W2UrMV0sdGhpcy5fej10W2UrMl0sdGhpcy5fdz10W2UrM10sdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9dG9BcnJheSh0PVtdLGU9MCl7cmV0dXJuIHRbZV09dGhpcy5feCx0W2UrMV09dGhpcy5feSx0W2UrMl09dGhpcy5feix0W2UrM109dGhpcy5fdyx0fWZyb21CdWZmZXJBdHRyaWJ1dGUodCxlKXtyZXR1cm4gdGhpcy5feD10LmdldFgoZSksdGhpcy5feT10LmdldFkoZSksdGhpcy5fej10LmdldFooZSksdGhpcy5fdz10LmdldFcoZSksdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9dG9KU09OKCl7cmV0dXJuIHRoaXMudG9BcnJheSgpfV9vbkNoYW5nZSh0KXtyZXR1cm4gdGhpcy5fb25DaGFuZ2VDYWxsYmFjaz10LHRoaXN9X29uQ2hhbmdlQ2FsbGJhY2soKXt9KltTeW1ib2wuaXRlcmF0b3JdKCl7eWllbGQgdGhpcy5feCx5aWVsZCB0aGlzLl95LHlpZWxkIHRoaXMuX3oseWllbGQgdGhpcy5fd319Y2xhc3MgQXtjb25zdHJ1Y3Rvcih0PTAsZT0wLGk9MCl7QS5wcm90b3R5cGUuaXNWZWN0b3IzPSEwLHRoaXMueD10LHRoaXMueT1lLHRoaXMuej1pfXNldCh0LGUsaSl7cmV0dXJuIGk9PT12b2lkIDAmJihpPXRoaXMueiksdGhpcy54PXQsdGhpcy55PWUsdGhpcy56PWksdGhpc31zZXRTY2FsYXIodCl7cmV0dXJuIHRoaXMueD10LHRoaXMueT10LHRoaXMuej10LHRoaXN9c2V0WCh0KXtyZXR1cm4gdGhpcy54PXQsdGhpc31zZXRZKHQpe3JldHVybiB0aGlzLnk9dCx0aGlzfXNldFoodCl7cmV0dXJuIHRoaXMuej10LHRoaXN9c2V0Q29tcG9uZW50KHQsZSl7c3dpdGNoKHQpe2Nhc2UgMDp0aGlzLng9ZTticmVhaztjYXNlIDE6dGhpcy55PWU7YnJlYWs7Y2FzZSAyOnRoaXMuej1lO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJpbmRleCBpcyBvdXQgb2YgcmFuZ2U6ICIrdCl9cmV0dXJuIHRoaXN9Z2V0Q29tcG9uZW50KHQpe3N3aXRjaCh0KXtjYXNlIDA6cmV0dXJuIHRoaXMueDtjYXNlIDE6cmV0dXJuIHRoaXMueTtjYXNlIDI6cmV0dXJuIHRoaXMuejtkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiaW5kZXggaXMgb3V0IG9mIHJhbmdlOiAiK3QpfX1jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLngsdGhpcy55LHRoaXMueil9Y29weSh0KXtyZXR1cm4gdGhpcy54PXQueCx0aGlzLnk9dC55LHRoaXMuej10LnosdGhpc31hZGQodCl7cmV0dXJuIHRoaXMueCs9dC54LHRoaXMueSs9dC55LHRoaXMueis9dC56LHRoaXN9YWRkU2NhbGFyKHQpe3JldHVybiB0aGlzLngrPXQsdGhpcy55Kz10LHRoaXMueis9dCx0aGlzfWFkZFZlY3RvcnModCxlKXtyZXR1cm4gdGhpcy54PXQueCtlLngsdGhpcy55PXQueStlLnksdGhpcy56PXQueitlLnosdGhpc31hZGRTY2FsZWRWZWN0b3IodCxlKXtyZXR1cm4gdGhpcy54Kz10LngqZSx0aGlzLnkrPXQueSplLHRoaXMueis9dC56KmUsdGhpc31zdWIodCl7cmV0dXJuIHRoaXMueC09dC54LHRoaXMueS09dC55LHRoaXMuei09dC56LHRoaXN9c3ViU2NhbGFyKHQpe3JldHVybiB0aGlzLngtPXQsdGhpcy55LT10LHRoaXMuei09dCx0aGlzfXN1YlZlY3RvcnModCxlKXtyZXR1cm4gdGhpcy54PXQueC1lLngsdGhpcy55PXQueS1lLnksdGhpcy56PXQuei1lLnosdGhpc31tdWx0aXBseSh0KXtyZXR1cm4gdGhpcy54Kj10LngsdGhpcy55Kj10LnksdGhpcy56Kj10LnosdGhpc31tdWx0aXBseVNjYWxhcih0KXtyZXR1cm4gdGhpcy54Kj10LHRoaXMueSo9dCx0aGlzLnoqPXQsdGhpc31tdWx0aXBseVZlY3RvcnModCxlKXtyZXR1cm4gdGhpcy54PXQueCplLngsdGhpcy55PXQueSplLnksdGhpcy56PXQueiplLnosdGhpc31hcHBseUV1bGVyKHQpe3JldHVybiB0aGlzLmFwcGx5UXVhdGVybmlvbihDaS5zZXRGcm9tRXVsZXIodCkpfWFwcGx5QXhpc0FuZ2xlKHQsZSl7cmV0dXJuIHRoaXMuYXBwbHlRdWF0ZXJuaW9uKENpLnNldEZyb21BeGlzQW5nbGUodCxlKSl9YXBwbHlNYXRyaXgzKHQpe2NvbnN0IGU9dGhpcy54LGk9dGhpcy55LHM9dGhpcy56LG49dC5lbGVtZW50cztyZXR1cm4gdGhpcy54PW5bMF0qZStuWzNdKmkrbls2XSpzLHRoaXMueT1uWzFdKmUrbls0XSppK25bN10qcyx0aGlzLno9blsyXSplK25bNV0qaStuWzhdKnMsdGhpc31hcHBseU5vcm1hbE1hdHJpeCh0KXtyZXR1cm4gdGhpcy5hcHBseU1hdHJpeDModCkubm9ybWFsaXplKCl9YXBwbHlNYXRyaXg0KHQpe2NvbnN0IGU9dGhpcy54LGk9dGhpcy55LHM9dGhpcy56LG49dC5lbGVtZW50cyxyPTEvKG5bM10qZStuWzddKmkrblsxMV0qcytuWzE1XSk7cmV0dXJuIHRoaXMueD0oblswXSplK25bNF0qaStuWzhdKnMrblsxMl0pKnIsdGhpcy55PShuWzFdKmUrbls1XSppK25bOV0qcytuWzEzXSkqcix0aGlzLno9KG5bMl0qZStuWzZdKmkrblsxMF0qcytuWzE0XSkqcix0aGlzfWFwcGx5UXVhdGVybmlvbih0KXtjb25zdCBlPXRoaXMueCxpPXRoaXMueSxzPXRoaXMueixuPXQueCxyPXQueSxhPXQueixvPXQudyxoPTIqKHIqcy1hKmkpLGM9MiooYSplLW4qcyksZj0yKihuKmktciplKTtyZXR1cm4gdGhpcy54PWUrbypoK3IqZi1hKmMsdGhpcy55PWkrbypjK2EqaC1uKmYsdGhpcy56PXMrbypmK24qYy1yKmgsdGhpc31wcm9qZWN0KHQpe3JldHVybiB0aGlzLmFwcGx5TWF0cml4NCh0Lm1hdHJpeFdvcmxkSW52ZXJzZSkuYXBwbHlNYXRyaXg0KHQucHJvamVjdGlvbk1hdHJpeCl9dW5wcm9qZWN0KHQpe3JldHVybiB0aGlzLmFwcGx5TWF0cml4NCh0LnByb2plY3Rpb25NYXRyaXhJbnZlcnNlKS5hcHBseU1hdHJpeDQodC5tYXRyaXhXb3JsZCl9dHJhbnNmb3JtRGlyZWN0aW9uKHQpe2NvbnN0IGU9dGhpcy54LGk9dGhpcy55LHM9dGhpcy56LG49dC5lbGVtZW50cztyZXR1cm4gdGhpcy54PW5bMF0qZStuWzRdKmkrbls4XSpzLHRoaXMueT1uWzFdKmUrbls1XSppK25bOV0qcyx0aGlzLno9blsyXSplK25bNl0qaStuWzEwXSpzLHRoaXMubm9ybWFsaXplKCl9ZGl2aWRlKHQpe3JldHVybiB0aGlzLngvPXQueCx0aGlzLnkvPXQueSx0aGlzLnovPXQueix0aGlzfWRpdmlkZVNjYWxhcih0KXtyZXR1cm4gdGhpcy5tdWx0aXBseVNjYWxhcigxL3QpfW1pbih0KXtyZXR1cm4gdGhpcy54PU1hdGgubWluKHRoaXMueCx0LngpLHRoaXMueT1NYXRoLm1pbih0aGlzLnksdC55KSx0aGlzLno9TWF0aC5taW4odGhpcy56LHQueiksdGhpc31tYXgodCl7cmV0dXJuIHRoaXMueD1NYXRoLm1heCh0aGlzLngsdC54KSx0aGlzLnk9TWF0aC5tYXgodGhpcy55LHQueSksdGhpcy56PU1hdGgubWF4KHRoaXMueix0LnopLHRoaXN9Y2xhbXAodCxlKXtyZXR1cm4gdGhpcy54PU1hdGgubWF4KHQueCxNYXRoLm1pbihlLngsdGhpcy54KSksdGhpcy55PU1hdGgubWF4KHQueSxNYXRoLm1pbihlLnksdGhpcy55KSksdGhpcy56PU1hdGgubWF4KHQueixNYXRoLm1pbihlLnosdGhpcy56KSksdGhpc31jbGFtcFNjYWxhcih0LGUpe3JldHVybiB0aGlzLng9TWF0aC5tYXgodCxNYXRoLm1pbihlLHRoaXMueCkpLHRoaXMueT1NYXRoLm1heCh0LE1hdGgubWluKGUsdGhpcy55KSksdGhpcy56PU1hdGgubWF4KHQsTWF0aC5taW4oZSx0aGlzLnopKSx0aGlzfWNsYW1wTGVuZ3RoKHQsZSl7Y29uc3QgaT10aGlzLmxlbmd0aCgpO3JldHVybiB0aGlzLmRpdmlkZVNjYWxhcihpfHwxKS5tdWx0aXBseVNjYWxhcihNYXRoLm1heCh0LE1hdGgubWluKGUsaSkpKX1mbG9vcigpe3JldHVybiB0aGlzLng9TWF0aC5mbG9vcih0aGlzLngpLHRoaXMueT1NYXRoLmZsb29yKHRoaXMueSksdGhpcy56PU1hdGguZmxvb3IodGhpcy56KSx0aGlzfWNlaWwoKXtyZXR1cm4gdGhpcy54PU1hdGguY2VpbCh0aGlzLngpLHRoaXMueT1NYXRoLmNlaWwodGhpcy55KSx0aGlzLno9TWF0aC5jZWlsKHRoaXMueiksdGhpc31yb3VuZCgpe3JldHVybiB0aGlzLng9TWF0aC5yb3VuZCh0aGlzLngpLHRoaXMueT1NYXRoLnJvdW5kKHRoaXMueSksdGhpcy56PU1hdGgucm91bmQodGhpcy56KSx0aGlzfXJvdW5kVG9aZXJvKCl7cmV0dXJuIHRoaXMueD1NYXRoLnRydW5jKHRoaXMueCksdGhpcy55PU1hdGgudHJ1bmModGhpcy55KSx0aGlzLno9TWF0aC50cnVuYyh0aGlzLnopLHRoaXN9bmVnYXRlKCl7cmV0dXJuIHRoaXMueD0tdGhpcy54LHRoaXMueT0tdGhpcy55LHRoaXMuej0tdGhpcy56LHRoaXN9ZG90KHQpe3JldHVybiB0aGlzLngqdC54K3RoaXMueSp0LnkrdGhpcy56KnQuen1sZW5ndGhTcSgpe3JldHVybiB0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkrdGhpcy56KnRoaXMuen1sZW5ndGgoKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueSt0aGlzLnoqdGhpcy56KX1tYW5oYXR0YW5MZW5ndGgoKXtyZXR1cm4gTWF0aC5hYnModGhpcy54KStNYXRoLmFicyh0aGlzLnkpK01hdGguYWJzKHRoaXMueil9bm9ybWFsaXplKCl7cmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKHRoaXMubGVuZ3RoKCl8fDEpfXNldExlbmd0aCh0KXtyZXR1cm4gdGhpcy5ub3JtYWxpemUoKS5tdWx0aXBseVNjYWxhcih0KX1sZXJwKHQsZSl7cmV0dXJuIHRoaXMueCs9KHQueC10aGlzLngpKmUsdGhpcy55Kz0odC55LXRoaXMueSkqZSx0aGlzLnorPSh0LnotdGhpcy56KSplLHRoaXN9bGVycFZlY3RvcnModCxlLGkpe3JldHVybiB0aGlzLng9dC54KyhlLngtdC54KSppLHRoaXMueT10LnkrKGUueS10LnkpKmksdGhpcy56PXQueisoZS56LXQueikqaSx0aGlzfWNyb3NzKHQpe3JldHVybiB0aGlzLmNyb3NzVmVjdG9ycyh0aGlzLHQpfWNyb3NzVmVjdG9ycyh0LGUpe2NvbnN0IGk9dC54LHM9dC55LG49dC56LHI9ZS54LGE9ZS55LG89ZS56O3JldHVybiB0aGlzLng9cypvLW4qYSx0aGlzLnk9bipyLWkqbyx0aGlzLno9aSphLXMqcix0aGlzfXByb2plY3RPblZlY3Rvcih0KXtjb25zdCBlPXQubGVuZ3RoU3EoKTtpZihlPT09MClyZXR1cm4gdGhpcy5zZXQoMCwwLDApO2NvbnN0IGk9dC5kb3QodGhpcykvZTtyZXR1cm4gdGhpcy5jb3B5KHQpLm11bHRpcGx5U2NhbGFyKGkpfXByb2plY3RPblBsYW5lKHQpe3JldHVybiBIZS5jb3B5KHRoaXMpLnByb2plY3RPblZlY3Rvcih0KSx0aGlzLnN1YihIZSl9cmVmbGVjdCh0KXtyZXR1cm4gdGhpcy5zdWIoSGUuY29weSh0KS5tdWx0aXBseVNjYWxhcigyKnRoaXMuZG90KHQpKSl9YW5nbGVUbyh0KXtjb25zdCBlPU1hdGguc3FydCh0aGlzLmxlbmd0aFNxKCkqdC5sZW5ndGhTcSgpKTtpZihlPT09MClyZXR1cm4gTWF0aC5QSS8yO2NvbnN0IGk9dGhpcy5kb3QodCkvZTtyZXR1cm4gTWF0aC5hY29zKGF0KGksLTEsMSkpfWRpc3RhbmNlVG8odCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLmRpc3RhbmNlVG9TcXVhcmVkKHQpKX1kaXN0YW5jZVRvU3F1YXJlZCh0KXtjb25zdCBlPXRoaXMueC10LngsaT10aGlzLnktdC55LHM9dGhpcy56LXQuejtyZXR1cm4gZSplK2kqaStzKnN9bWFuaGF0dGFuRGlzdGFuY2VUbyh0KXtyZXR1cm4gTWF0aC5hYnModGhpcy54LXQueCkrTWF0aC5hYnModGhpcy55LXQueSkrTWF0aC5hYnModGhpcy56LXQueil9c2V0RnJvbVNwaGVyaWNhbCh0KXtyZXR1cm4gdGhpcy5zZXRGcm9tU3BoZXJpY2FsQ29vcmRzKHQucmFkaXVzLHQucGhpLHQudGhldGEpfXNldEZyb21TcGhlcmljYWxDb29yZHModCxlLGkpe2NvbnN0IHM9TWF0aC5zaW4oZSkqdDtyZXR1cm4gdGhpcy54PXMqTWF0aC5zaW4oaSksdGhpcy55PU1hdGguY29zKGUpKnQsdGhpcy56PXMqTWF0aC5jb3MoaSksdGhpc31zZXRGcm9tQ3lsaW5kcmljYWwodCl7cmV0dXJuIHRoaXMuc2V0RnJvbUN5bGluZHJpY2FsQ29vcmRzKHQucmFkaXVzLHQudGhldGEsdC55KX1zZXRGcm9tQ3lsaW5kcmljYWxDb29yZHModCxlLGkpe3JldHVybiB0aGlzLng9dCpNYXRoLnNpbihlKSx0aGlzLnk9aSx0aGlzLno9dCpNYXRoLmNvcyhlKSx0aGlzfXNldEZyb21NYXRyaXhQb3NpdGlvbih0KXtjb25zdCBlPXQuZWxlbWVudHM7cmV0dXJuIHRoaXMueD1lWzEyXSx0aGlzLnk9ZVsxM10sdGhpcy56PWVbMTRdLHRoaXN9c2V0RnJvbU1hdHJpeFNjYWxlKHQpe2NvbnN0IGU9dGhpcy5zZXRGcm9tTWF0cml4Q29sdW1uKHQsMCkubGVuZ3RoKCksaT10aGlzLnNldEZyb21NYXRyaXhDb2x1bW4odCwxKS5sZW5ndGgoKSxzPXRoaXMuc2V0RnJvbU1hdHJpeENvbHVtbih0LDIpLmxlbmd0aCgpO3JldHVybiB0aGlzLng9ZSx0aGlzLnk9aSx0aGlzLno9cyx0aGlzfXNldEZyb21NYXRyaXhDb2x1bW4odCxlKXtyZXR1cm4gdGhpcy5mcm9tQXJyYXkodC5lbGVtZW50cyxlKjQpfXNldEZyb21NYXRyaXgzQ29sdW1uKHQsZSl7cmV0dXJuIHRoaXMuZnJvbUFycmF5KHQuZWxlbWVudHMsZSozKX1zZXRGcm9tRXVsZXIodCl7cmV0dXJuIHRoaXMueD10Ll94LHRoaXMueT10Ll95LHRoaXMuej10Ll96LHRoaXN9c2V0RnJvbUNvbG9yKHQpe3JldHVybiB0aGlzLng9dC5yLHRoaXMueT10LmcsdGhpcy56PXQuYix0aGlzfWVxdWFscyh0KXtyZXR1cm4gdC54PT09dGhpcy54JiZ0Lnk9PT10aGlzLnkmJnQuej09PXRoaXMuen1mcm9tQXJyYXkodCxlPTApe3JldHVybiB0aGlzLng9dFtlXSx0aGlzLnk9dFtlKzFdLHRoaXMuej10W2UrMl0sdGhpc310b0FycmF5KHQ9W10sZT0wKXtyZXR1cm4gdFtlXT10aGlzLngsdFtlKzFdPXRoaXMueSx0W2UrMl09dGhpcy56LHR9ZnJvbUJ1ZmZlckF0dHJpYnV0ZSh0LGUpe3JldHVybiB0aGlzLng9dC5nZXRYKGUpLHRoaXMueT10LmdldFkoZSksdGhpcy56PXQuZ2V0WihlKSx0aGlzfXJhbmRvbSgpe3JldHVybiB0aGlzLng9TWF0aC5yYW5kb20oKSx0aGlzLnk9TWF0aC5yYW5kb20oKSx0aGlzLno9TWF0aC5yYW5kb20oKSx0aGlzfXJhbmRvbURpcmVjdGlvbigpe2NvbnN0IHQ9TWF0aC5yYW5kb20oKSpNYXRoLlBJKjIsZT1NYXRoLnJhbmRvbSgpKjItMSxpPU1hdGguc3FydCgxLWUqZSk7cmV0dXJuIHRoaXMueD1pKk1hdGguY29zKHQpLHRoaXMueT1lLHRoaXMuej1pKk1hdGguc2luKHQpLHRoaXN9KltTeW1ib2wuaXRlcmF0b3JdKCl7eWllbGQgdGhpcy54LHlpZWxkIHRoaXMueSx5aWVsZCB0aGlzLnp9fWNvbnN0IEhlPW5ldyBBLENpPW5ldyBRdDtjbGFzcyBXe2NvbnN0cnVjdG9yKHQ9bmV3IEEoMS8wLDEvMCwxLzApLGU9bmV3IEEoLTEvMCwtMS8wLC0xLzApKXt0aGlzLmlzQm94Mz0hMCx0aGlzLm1pbj10LHRoaXMubWF4PWV9c2V0KHQsZSl7cmV0dXJuIHRoaXMubWluLmNvcHkodCksdGhpcy5tYXguY29weShlKSx0aGlzfXNldEZyb21BcnJheSh0KXt0aGlzLm1ha2VFbXB0eSgpO2ZvcihsZXQgZT0wLGk9dC5sZW5ndGg7ZTxpO2UrPTMpdGhpcy5leHBhbmRCeVBvaW50KGV0LmZyb21BcnJheSh0LGUpKTtyZXR1cm4gdGhpc31zZXRGcm9tQnVmZmVyQXR0cmlidXRlKHQpe3RoaXMubWFrZUVtcHR5KCk7Zm9yKGxldCBlPTAsaT10LmNvdW50O2U8aTtlKyspdGhpcy5leHBhbmRCeVBvaW50KGV0LmZyb21CdWZmZXJBdHRyaWJ1dGUodCxlKSk7cmV0dXJuIHRoaXN9c2V0RnJvbVBvaW50cyh0KXt0aGlzLm1ha2VFbXB0eSgpO2ZvcihsZXQgZT0wLGk9dC5sZW5ndGg7ZTxpO2UrKyl0aGlzLmV4cGFuZEJ5UG9pbnQodFtlXSk7cmV0dXJuIHRoaXN9c2V0RnJvbUNlbnRlckFuZFNpemUodCxlKXtjb25zdCBpPWV0LmNvcHkoZSkubXVsdGlwbHlTY2FsYXIoLjUpO3JldHVybiB0aGlzLm1pbi5jb3B5KHQpLnN1YihpKSx0aGlzLm1heC5jb3B5KHQpLmFkZChpKSx0aGlzfXNldEZyb21PYmplY3QodCxlPSExKXtyZXR1cm4gdGhpcy5tYWtlRW1wdHkoKSx0aGlzLmV4cGFuZEJ5T2JqZWN0KHQsZSl9Y2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KHRoaXMpfWNvcHkodCl7cmV0dXJuIHRoaXMubWluLmNvcHkodC5taW4pLHRoaXMubWF4LmNvcHkodC5tYXgpLHRoaXN9bWFrZUVtcHR5KCl7cmV0dXJuIHRoaXMubWluLng9dGhpcy5taW4ueT10aGlzLm1pbi56PTEvMCx0aGlzLm1heC54PXRoaXMubWF4Lnk9dGhpcy5tYXguej0tMS8wLHRoaXN9aXNFbXB0eSgpe3JldHVybiB0aGlzLm1heC54PHRoaXMubWluLnh8fHRoaXMubWF4Lnk8dGhpcy5taW4ueXx8dGhpcy5tYXguejx0aGlzLm1pbi56fWdldENlbnRlcih0KXtyZXR1cm4gdGhpcy5pc0VtcHR5KCk/dC5zZXQoMCwwLDApOnQuYWRkVmVjdG9ycyh0aGlzLm1pbix0aGlzLm1heCkubXVsdGlwbHlTY2FsYXIoLjUpfWdldFNpemUodCl7cmV0dXJuIHRoaXMuaXNFbXB0eSgpP3Quc2V0KDAsMCwwKTp0LnN1YlZlY3RvcnModGhpcy5tYXgsdGhpcy5taW4pfWV4cGFuZEJ5UG9pbnQodCl7cmV0dXJuIHRoaXMubWluLm1pbih0KSx0aGlzLm1heC5tYXgodCksdGhpc31leHBhbmRCeVZlY3Rvcih0KXtyZXR1cm4gdGhpcy5taW4uc3ViKHQpLHRoaXMubWF4LmFkZCh0KSx0aGlzfWV4cGFuZEJ5U2NhbGFyKHQpe3JldHVybiB0aGlzLm1pbi5hZGRTY2FsYXIoLXQpLHRoaXMubWF4LmFkZFNjYWxhcih0KSx0aGlzfWV4cGFuZEJ5T2JqZWN0KHQsZT0hMSl7dC51cGRhdGVXb3JsZE1hdHJpeCghMSwhMSk7Y29uc3QgaT10Lmdlb21ldHJ5O2lmKGkhPT12b2lkIDApe2NvbnN0IG49aS5nZXRBdHRyaWJ1dGUoInBvc2l0aW9uIik7aWYoZT09PSEwJiZuIT09dm9pZCAwJiZ0LmlzSW5zdGFuY2VkTWVzaCE9PSEwKWZvcihsZXQgcj0wLGE9bi5jb3VudDtyPGE7cisrKXQuaXNNZXNoPT09ITA/dC5nZXRWZXJ0ZXhQb3NpdGlvbihyLGV0KTpldC5mcm9tQnVmZmVyQXR0cmlidXRlKG4sciksZXQuYXBwbHlNYXRyaXg0KHQubWF0cml4V29ybGQpLHRoaXMuZXhwYW5kQnlQb2ludChldCk7ZWxzZSB0LmJvdW5kaW5nQm94IT09dm9pZCAwPyh0LmJvdW5kaW5nQm94PT09bnVsbCYmdC5jb21wdXRlQm91bmRpbmdCb3goKSxkZS5jb3B5KHQuYm91bmRpbmdCb3gpKTooaS5ib3VuZGluZ0JveD09PW51bGwmJmkuY29tcHV0ZUJvdW5kaW5nQm94KCksZGUuY29weShpLmJvdW5kaW5nQm94KSksZGUuYXBwbHlNYXRyaXg0KHQubWF0cml4V29ybGQpLHRoaXMudW5pb24oZGUpfWNvbnN0IHM9dC5jaGlsZHJlbjtmb3IobGV0IG49MCxyPXMubGVuZ3RoO248cjtuKyspdGhpcy5leHBhbmRCeU9iamVjdChzW25dLGUpO3JldHVybiB0aGlzfWNvbnRhaW5zUG9pbnQodCl7cmV0dXJuISh0Lng8dGhpcy5taW4ueHx8dC54PnRoaXMubWF4Lnh8fHQueTx0aGlzLm1pbi55fHx0Lnk+dGhpcy5tYXgueXx8dC56PHRoaXMubWluLnp8fHQuej50aGlzLm1heC56KX1jb250YWluc0JveCh0KXtyZXR1cm4gdGhpcy5taW4ueDw9dC5taW4ueCYmdC5tYXgueDw9dGhpcy5tYXgueCYmdGhpcy5taW4ueTw9dC5taW4ueSYmdC5tYXgueTw9dGhpcy5tYXgueSYmdGhpcy5taW4uejw9dC5taW4ueiYmdC5tYXguejw9dGhpcy5tYXguen1nZXRQYXJhbWV0ZXIodCxlKXtyZXR1cm4gZS5zZXQoKHQueC10aGlzLm1pbi54KS8odGhpcy5tYXgueC10aGlzLm1pbi54KSwodC55LXRoaXMubWluLnkpLyh0aGlzLm1heC55LXRoaXMubWluLnkpLCh0LnotdGhpcy5taW4ueikvKHRoaXMubWF4LnotdGhpcy5taW4ueikpfWludGVyc2VjdHNCb3godCl7cmV0dXJuISh0Lm1heC54PHRoaXMubWluLnh8fHQubWluLng+dGhpcy5tYXgueHx8dC5tYXgueTx0aGlzLm1pbi55fHx0Lm1pbi55PnRoaXMubWF4Lnl8fHQubWF4Lno8dGhpcy5taW4uenx8dC5taW4uej50aGlzLm1heC56KX1pbnRlcnNlY3RzU3BoZXJlKHQpe3JldHVybiB0aGlzLmNsYW1wUG9pbnQodC5jZW50ZXIsZXQpLGV0LmRpc3RhbmNlVG9TcXVhcmVkKHQuY2VudGVyKTw9dC5yYWRpdXMqdC5yYWRpdXN9aW50ZXJzZWN0c1BsYW5lKHQpe2xldCBlLGk7cmV0dXJuIHQubm9ybWFsLng+MD8oZT10Lm5vcm1hbC54KnRoaXMubWluLngsaT10Lm5vcm1hbC54KnRoaXMubWF4LngpOihlPXQubm9ybWFsLngqdGhpcy5tYXgueCxpPXQubm9ybWFsLngqdGhpcy5taW4ueCksdC5ub3JtYWwueT4wPyhlKz10Lm5vcm1hbC55KnRoaXMubWluLnksaSs9dC5ub3JtYWwueSp0aGlzLm1heC55KTooZSs9dC5ub3JtYWwueSp0aGlzLm1heC55LGkrPXQubm9ybWFsLnkqdGhpcy5taW4ueSksdC5ub3JtYWwuej4wPyhlKz10Lm5vcm1hbC56KnRoaXMubWluLnosaSs9dC5ub3JtYWwueip0aGlzLm1heC56KTooZSs9dC5ub3JtYWwueip0aGlzLm1heC56LGkrPXQubm9ybWFsLnoqdGhpcy5taW4ueiksZTw9LXQuY29uc3RhbnQmJmk+PS10LmNvbnN0YW50fWludGVyc2VjdHNUcmlhbmdsZSh0KXtpZih0aGlzLmlzRW1wdHkoKSlyZXR1cm4hMTt0aGlzLmdldENlbnRlcihLdCkscGUuc3ViVmVjdG9ycyh0aGlzLm1heCxLdCksRnQuc3ViVmVjdG9ycyh0LmEsS3QpLFV0LnN1YlZlY3RvcnModC5iLEt0KSxSdC5zdWJWZWN0b3JzKHQuYyxLdCksYnQuc3ViVmVjdG9ycyhVdCxGdCksd3Quc3ViVmVjdG9ycyhSdCxVdCksUHQuc3ViVmVjdG9ycyhGdCxSdCk7bGV0IGU9WzAsLWJ0LnosYnQueSwwLC13dC56LHd0LnksMCwtUHQueixQdC55LGJ0LnosMCwtYnQueCx3dC56LDAsLXd0LngsUHQueiwwLC1QdC54LC1idC55LGJ0LngsMCwtd3QueSx3dC54LDAsLVB0LnksUHQueCwwXTtyZXR1cm4hJGUoZSxGdCxVdCxSdCxwZSl8fChlPVsxLDAsMCwwLDEsMCwwLDAsMV0sISRlKGUsRnQsVXQsUnQscGUpKT8hMToobWUuY3Jvc3NWZWN0b3JzKGJ0LHd0KSxlPVttZS54LG1lLnksbWUuel0sJGUoZSxGdCxVdCxSdCxwZSkpfWNsYW1wUG9pbnQodCxlKXtyZXR1cm4gZS5jb3B5KHQpLmNsYW1wKHRoaXMubWluLHRoaXMubWF4KX1kaXN0YW5jZVRvUG9pbnQodCl7cmV0dXJuIHRoaXMuY2xhbXBQb2ludCh0LGV0KS5kaXN0YW5jZVRvKHQpfWdldEJvdW5kaW5nU3BoZXJlKHQpe3JldHVybiB0aGlzLmlzRW1wdHkoKT90Lm1ha2VFbXB0eSgpOih0aGlzLmdldENlbnRlcih0LmNlbnRlciksdC5yYWRpdXM9dGhpcy5nZXRTaXplKGV0KS5sZW5ndGgoKSouNSksdH1pbnRlcnNlY3QodCl7cmV0dXJuIHRoaXMubWluLm1heCh0Lm1pbiksdGhpcy5tYXgubWluKHQubWF4KSx0aGlzLmlzRW1wdHkoKSYmdGhpcy5tYWtlRW1wdHkoKSx0aGlzfXVuaW9uKHQpe3JldHVybiB0aGlzLm1pbi5taW4odC5taW4pLHRoaXMubWF4Lm1heCh0Lm1heCksdGhpc31hcHBseU1hdHJpeDQodCl7cmV0dXJuIHRoaXMuaXNFbXB0eSgpP3RoaXM6KHV0WzBdLnNldCh0aGlzLm1pbi54LHRoaXMubWluLnksdGhpcy5taW4ueikuYXBwbHlNYXRyaXg0KHQpLHV0WzFdLnNldCh0aGlzLm1pbi54LHRoaXMubWluLnksdGhpcy5tYXgueikuYXBwbHlNYXRyaXg0KHQpLHV0WzJdLnNldCh0aGlzLm1pbi54LHRoaXMubWF4LnksdGhpcy5taW4ueikuYXBwbHlNYXRyaXg0KHQpLHV0WzNdLnNldCh0aGlzLm1pbi54LHRoaXMubWF4LnksdGhpcy5tYXgueikuYXBwbHlNYXRyaXg0KHQpLHV0WzRdLnNldCh0aGlzLm1heC54LHRoaXMubWluLnksdGhpcy5taW4ueikuYXBwbHlNYXRyaXg0KHQpLHV0WzVdLnNldCh0aGlzLm1heC54LHRoaXMubWluLnksdGhpcy5tYXgueikuYXBwbHlNYXRyaXg0KHQpLHV0WzZdLnNldCh0aGlzLm1heC54LHRoaXMubWF4LnksdGhpcy5taW4ueikuYXBwbHlNYXRyaXg0KHQpLHV0WzddLnNldCh0aGlzLm1heC54LHRoaXMubWF4LnksdGhpcy5tYXgueikuYXBwbHlNYXRyaXg0KHQpLHRoaXMuc2V0RnJvbVBvaW50cyh1dCksdGhpcyl9dHJhbnNsYXRlKHQpe3JldHVybiB0aGlzLm1pbi5hZGQodCksdGhpcy5tYXguYWRkKHQpLHRoaXN9ZXF1YWxzKHQpe3JldHVybiB0Lm1pbi5lcXVhbHModGhpcy5taW4pJiZ0Lm1heC5lcXVhbHModGhpcy5tYXgpfX1jb25zdCB1dD1bbmV3IEEsbmV3IEEsbmV3IEEsbmV3IEEsbmV3IEEsbmV3IEEsbmV3IEEsbmV3IEFdLGV0PW5ldyBBLGRlPW5ldyBXLEZ0PW5ldyBBLFV0PW5ldyBBLFJ0PW5ldyBBLGJ0PW5ldyBBLHd0PW5ldyBBLFB0PW5ldyBBLEt0PW5ldyBBLHBlPW5ldyBBLG1lPW5ldyBBLEN0PW5ldyBBO2Z1bmN0aW9uICRlKHUsdCxlLGkscyl7Zm9yKGxldCBuPTAscj11Lmxlbmd0aC0zO248PXI7bis9Myl7Q3QuZnJvbUFycmF5KHUsbik7Y29uc3QgYT1zLngqTWF0aC5hYnMoQ3QueCkrcy55Kk1hdGguYWJzKEN0LnkpK3MueipNYXRoLmFicyhDdC56KSxvPXQuZG90KEN0KSxoPWUuZG90KEN0KSxjPWkuZG90KEN0KTtpZihNYXRoLm1heCgtTWF0aC5tYXgobyxoLGMpLE1hdGgubWluKG8saCxjKSk+YSlyZXR1cm4hMX1yZXR1cm4hMH1jb25zdCBscz1uZXcgVyx0ZT1uZXcgQSxqZT1uZXcgQTtjbGFzcyBFaXtjb25zdHJ1Y3Rvcih0PW5ldyBBLGU9LTEpe3RoaXMuaXNTcGhlcmU9ITAsdGhpcy5jZW50ZXI9dCx0aGlzLnJhZGl1cz1lfXNldCh0LGUpe3JldHVybiB0aGlzLmNlbnRlci5jb3B5KHQpLHRoaXMucmFkaXVzPWUsdGhpc31zZXRGcm9tUG9pbnRzKHQsZSl7Y29uc3QgaT10aGlzLmNlbnRlcjtlIT09dm9pZCAwP2kuY29weShlKTpscy5zZXRGcm9tUG9pbnRzKHQpLmdldENlbnRlcihpKTtsZXQgcz0wO2ZvcihsZXQgbj0wLHI9dC5sZW5ndGg7bjxyO24rKylzPU1hdGgubWF4KHMsaS5kaXN0YW5jZVRvU3F1YXJlZCh0W25dKSk7cmV0dXJuIHRoaXMucmFkaXVzPU1hdGguc3FydChzKSx0aGlzfWNvcHkodCl7cmV0dXJuIHRoaXMuY2VudGVyLmNvcHkodC5jZW50ZXIpLHRoaXMucmFkaXVzPXQucmFkaXVzLHRoaXN9aXNFbXB0eSgpe3JldHVybiB0aGlzLnJhZGl1czwwfW1ha2VFbXB0eSgpe3JldHVybiB0aGlzLmNlbnRlci5zZXQoMCwwLDApLHRoaXMucmFkaXVzPS0xLHRoaXN9Y29udGFpbnNQb2ludCh0KXtyZXR1cm4gdC5kaXN0YW5jZVRvU3F1YXJlZCh0aGlzLmNlbnRlcik8PXRoaXMucmFkaXVzKnRoaXMucmFkaXVzfWRpc3RhbmNlVG9Qb2ludCh0KXtyZXR1cm4gdC5kaXN0YW5jZVRvKHRoaXMuY2VudGVyKS10aGlzLnJhZGl1c31pbnRlcnNlY3RzU3BoZXJlKHQpe2NvbnN0IGU9dGhpcy5yYWRpdXMrdC5yYWRpdXM7cmV0dXJuIHQuY2VudGVyLmRpc3RhbmNlVG9TcXVhcmVkKHRoaXMuY2VudGVyKTw9ZSplfWludGVyc2VjdHNCb3godCl7cmV0dXJuIHQuaW50ZXJzZWN0c1NwaGVyZSh0aGlzKX1pbnRlcnNlY3RzUGxhbmUodCl7cmV0dXJuIE1hdGguYWJzKHQuZGlzdGFuY2VUb1BvaW50KHRoaXMuY2VudGVyKSk8PXRoaXMucmFkaXVzfWNsYW1wUG9pbnQodCxlKXtjb25zdCBpPXRoaXMuY2VudGVyLmRpc3RhbmNlVG9TcXVhcmVkKHQpO3JldHVybiBlLmNvcHkodCksaT50aGlzLnJhZGl1cyp0aGlzLnJhZGl1cyYmKGUuc3ViKHRoaXMuY2VudGVyKS5ub3JtYWxpemUoKSxlLm11bHRpcGx5U2NhbGFyKHRoaXMucmFkaXVzKS5hZGQodGhpcy5jZW50ZXIpKSxlfWdldEJvdW5kaW5nQm94KHQpe3JldHVybiB0aGlzLmlzRW1wdHkoKT8odC5tYWtlRW1wdHkoKSx0KToodC5zZXQodGhpcy5jZW50ZXIsdGhpcy5jZW50ZXIpLHQuZXhwYW5kQnlTY2FsYXIodGhpcy5yYWRpdXMpLHQpfWFwcGx5TWF0cml4NCh0KXtyZXR1cm4gdGhpcy5jZW50ZXIuYXBwbHlNYXRyaXg0KHQpLHRoaXMucmFkaXVzPXRoaXMucmFkaXVzKnQuZ2V0TWF4U2NhbGVPbkF4aXMoKSx0aGlzfXRyYW5zbGF0ZSh0KXtyZXR1cm4gdGhpcy5jZW50ZXIuYWRkKHQpLHRoaXN9ZXhwYW5kQnlQb2ludCh0KXtpZih0aGlzLmlzRW1wdHkoKSlyZXR1cm4gdGhpcy5jZW50ZXIuY29weSh0KSx0aGlzLnJhZGl1cz0wLHRoaXM7dGUuc3ViVmVjdG9ycyh0LHRoaXMuY2VudGVyKTtjb25zdCBlPXRlLmxlbmd0aFNxKCk7aWYoZT50aGlzLnJhZGl1cyp0aGlzLnJhZGl1cyl7Y29uc3QgaT1NYXRoLnNxcnQoZSkscz0oaS10aGlzLnJhZGl1cykqLjU7dGhpcy5jZW50ZXIuYWRkU2NhbGVkVmVjdG9yKHRlLHMvaSksdGhpcy5yYWRpdXMrPXN9cmV0dXJuIHRoaXN9dW5pb24odCl7cmV0dXJuIHQuaXNFbXB0eSgpP3RoaXM6dGhpcy5pc0VtcHR5KCk/KHRoaXMuY29weSh0KSx0aGlzKToodGhpcy5jZW50ZXIuZXF1YWxzKHQuY2VudGVyKT09PSEwP3RoaXMucmFkaXVzPU1hdGgubWF4KHRoaXMucmFkaXVzLHQucmFkaXVzKTooamUuc3ViVmVjdG9ycyh0LmNlbnRlcix0aGlzLmNlbnRlcikuc2V0TGVuZ3RoKHQucmFkaXVzKSx0aGlzLmV4cGFuZEJ5UG9pbnQodGUuY29weSh0LmNlbnRlcikuYWRkKGplKSksdGhpcy5leHBhbmRCeVBvaW50KHRlLmNvcHkodC5jZW50ZXIpLnN1YihqZSkpKSx0aGlzKX1lcXVhbHModCl7cmV0dXJuIHQuY2VudGVyLmVxdWFscyh0aGlzLmNlbnRlcikmJnQucmFkaXVzPT09dGhpcy5yYWRpdXN9Y2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KHRoaXMpfX1jbGFzcyBOe2NvbnN0cnVjdG9yKHQsZSxpLHMsbixyLGEsbyxoLGMsZixsLGQscCx5LHgpe04ucHJvdG90eXBlLmlzTWF0cml4ND0hMCx0aGlzLmVsZW1lbnRzPVsxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDAsMCwxXSx0IT09dm9pZCAwJiZ0aGlzLnNldCh0LGUsaSxzLG4scixhLG8saCxjLGYsbCxkLHAseSx4KX1zZXQodCxlLGkscyxuLHIsYSxvLGgsYyxmLGwsZCxwLHkseCl7Y29uc3QgbT10aGlzLmVsZW1lbnRzO3JldHVybiBtWzBdPXQsbVs0XT1lLG1bOF09aSxtWzEyXT1zLG1bMV09bixtWzVdPXIsbVs5XT1hLG1bMTNdPW8sbVsyXT1oLG1bNl09YyxtWzEwXT1mLG1bMTRdPWwsbVszXT1kLG1bN109cCxtWzExXT15LG1bMTVdPXgsdGhpc31pZGVudGl0eSgpe3JldHVybiB0aGlzLnNldCgxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDAsMCwxKSx0aGlzfWNsb25lKCl7cmV0dXJuIG5ldyBOKCkuZnJvbUFycmF5KHRoaXMuZWxlbWVudHMpfWNvcHkodCl7Y29uc3QgZT10aGlzLmVsZW1lbnRzLGk9dC5lbGVtZW50cztyZXR1cm4gZVswXT1pWzBdLGVbMV09aVsxXSxlWzJdPWlbMl0sZVszXT1pWzNdLGVbNF09aVs0XSxlWzVdPWlbNV0sZVs2XT1pWzZdLGVbN109aVs3XSxlWzhdPWlbOF0sZVs5XT1pWzldLGVbMTBdPWlbMTBdLGVbMTFdPWlbMTFdLGVbMTJdPWlbMTJdLGVbMTNdPWlbMTNdLGVbMTRdPWlbMTRdLGVbMTVdPWlbMTVdLHRoaXN9Y29weVBvc2l0aW9uKHQpe2NvbnN0IGU9dGhpcy5lbGVtZW50cyxpPXQuZWxlbWVudHM7cmV0dXJuIGVbMTJdPWlbMTJdLGVbMTNdPWlbMTNdLGVbMTRdPWlbMTRdLHRoaXN9c2V0RnJvbU1hdHJpeDModCl7Y29uc3QgZT10LmVsZW1lbnRzO3JldHVybiB0aGlzLnNldChlWzBdLGVbM10sZVs2XSwwLGVbMV0sZVs0XSxlWzddLDAsZVsyXSxlWzVdLGVbOF0sMCwwLDAsMCwxKSx0aGlzfWV4dHJhY3RCYXNpcyh0LGUsaSl7cmV0dXJuIHQuc2V0RnJvbU1hdHJpeENvbHVtbih0aGlzLDApLGUuc2V0RnJvbU1hdHJpeENvbHVtbih0aGlzLDEpLGkuc2V0RnJvbU1hdHJpeENvbHVtbih0aGlzLDIpLHRoaXN9bWFrZUJhc2lzKHQsZSxpKXtyZXR1cm4gdGhpcy5zZXQodC54LGUueCxpLngsMCx0LnksZS55LGkueSwwLHQueixlLnosaS56LDAsMCwwLDAsMSksdGhpc31leHRyYWN0Um90YXRpb24odCl7Y29uc3QgZT10aGlzLmVsZW1lbnRzLGk9dC5lbGVtZW50cyxzPTEva3Quc2V0RnJvbU1hdHJpeENvbHVtbih0LDApLmxlbmd0aCgpLG49MS9rdC5zZXRGcm9tTWF0cml4Q29sdW1uKHQsMSkubGVuZ3RoKCkscj0xL2t0LnNldEZyb21NYXRyaXhDb2x1bW4odCwyKS5sZW5ndGgoKTtyZXR1cm4gZVswXT1pWzBdKnMsZVsxXT1pWzFdKnMsZVsyXT1pWzJdKnMsZVszXT0wLGVbNF09aVs0XSpuLGVbNV09aVs1XSpuLGVbNl09aVs2XSpuLGVbN109MCxlWzhdPWlbOF0qcixlWzldPWlbOV0qcixlWzEwXT1pWzEwXSpyLGVbMTFdPTAsZVsxMl09MCxlWzEzXT0wLGVbMTRdPTAsZVsxNV09MSx0aGlzfW1ha2VSb3RhdGlvbkZyb21FdWxlcih0KXtjb25zdCBlPXRoaXMuZWxlbWVudHMsaT10Lngscz10Lnksbj10Lnoscj1NYXRoLmNvcyhpKSxhPU1hdGguc2luKGkpLG89TWF0aC5jb3MocyksaD1NYXRoLnNpbihzKSxjPU1hdGguY29zKG4pLGY9TWF0aC5zaW4obik7aWYodC5vcmRlcj09PSJYWVoiKXtjb25zdCBsPXIqYyxkPXIqZixwPWEqYyx5PWEqZjtlWzBdPW8qYyxlWzRdPS1vKmYsZVs4XT1oLGVbMV09ZCtwKmgsZVs1XT1sLXkqaCxlWzldPS1hKm8sZVsyXT15LWwqaCxlWzZdPXArZCpoLGVbMTBdPXIqb31lbHNlIGlmKHQub3JkZXI9PT0iWVhaIil7Y29uc3QgbD1vKmMsZD1vKmYscD1oKmMseT1oKmY7ZVswXT1sK3kqYSxlWzRdPXAqYS1kLGVbOF09cipoLGVbMV09cipmLGVbNV09cipjLGVbOV09LWEsZVsyXT1kKmEtcCxlWzZdPXkrbCphLGVbMTBdPXIqb31lbHNlIGlmKHQub3JkZXI9PT0iWlhZIil7Y29uc3QgbD1vKmMsZD1vKmYscD1oKmMseT1oKmY7ZVswXT1sLXkqYSxlWzRdPS1yKmYsZVs4XT1wK2QqYSxlWzFdPWQrcCphLGVbNV09cipjLGVbOV09eS1sKmEsZVsyXT0tcipoLGVbNl09YSxlWzEwXT1yKm99ZWxzZSBpZih0Lm9yZGVyPT09IlpZWCIpe2NvbnN0IGw9cipjLGQ9cipmLHA9YSpjLHk9YSpmO2VbMF09bypjLGVbNF09cCpoLWQsZVs4XT1sKmgreSxlWzFdPW8qZixlWzVdPXkqaCtsLGVbOV09ZCpoLXAsZVsyXT0taCxlWzZdPWEqbyxlWzEwXT1yKm99ZWxzZSBpZih0Lm9yZGVyPT09IllaWCIpe2NvbnN0IGw9cipvLGQ9cipoLHA9YSpvLHk9YSpoO2VbMF09bypjLGVbNF09eS1sKmYsZVs4XT1wKmYrZCxlWzFdPWYsZVs1XT1yKmMsZVs5XT0tYSpjLGVbMl09LWgqYyxlWzZdPWQqZitwLGVbMTBdPWwteSpmfWVsc2UgaWYodC5vcmRlcj09PSJYWlkiKXtjb25zdCBsPXIqbyxkPXIqaCxwPWEqbyx5PWEqaDtlWzBdPW8qYyxlWzRdPS1mLGVbOF09aCpjLGVbMV09bCpmK3ksZVs1XT1yKmMsZVs5XT1kKmYtcCxlWzJdPXAqZi1kLGVbNl09YSpjLGVbMTBdPXkqZitsfXJldHVybiBlWzNdPTAsZVs3XT0wLGVbMTFdPTAsZVsxMl09MCxlWzEzXT0wLGVbMTRdPTAsZVsxNV09MSx0aGlzfW1ha2VSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKHQpe3JldHVybiB0aGlzLmNvbXBvc2UodXMsdCxmcyl9bG9va0F0KHQsZSxpKXtjb25zdCBzPXRoaXMuZWxlbWVudHM7cmV0dXJuIFouc3ViVmVjdG9ycyh0LGUpLFoubGVuZ3RoU3EoKT09PTAmJihaLno9MSksWi5ub3JtYWxpemUoKSxfdC5jcm9zc1ZlY3RvcnMoaSxaKSxfdC5sZW5ndGhTcSgpPT09MCYmKE1hdGguYWJzKGkueik9PT0xP1oueCs9MWUtNDpaLnorPTFlLTQsWi5ub3JtYWxpemUoKSxfdC5jcm9zc1ZlY3RvcnMoaSxaKSksX3Qubm9ybWFsaXplKCkseWUuY3Jvc3NWZWN0b3JzKFosX3QpLHNbMF09X3QueCxzWzRdPXllLngsc1s4XT1aLngsc1sxXT1fdC55LHNbNV09eWUueSxzWzldPVoueSxzWzJdPV90Lnosc1s2XT15ZS56LHNbMTBdPVoueix0aGlzfW11bHRpcGx5KHQpe3JldHVybiB0aGlzLm11bHRpcGx5TWF0cmljZXModGhpcyx0KX1wcmVtdWx0aXBseSh0KXtyZXR1cm4gdGhpcy5tdWx0aXBseU1hdHJpY2VzKHQsdGhpcyl9bXVsdGlwbHlNYXRyaWNlcyh0LGUpe2NvbnN0IGk9dC5lbGVtZW50cyxzPWUuZWxlbWVudHMsbj10aGlzLmVsZW1lbnRzLHI9aVswXSxhPWlbNF0sbz1pWzhdLGg9aVsxMl0sYz1pWzFdLGY9aVs1XSxsPWlbOV0sZD1pWzEzXSxwPWlbMl0seT1pWzZdLHg9aVsxMF0sbT1pWzE0XSxnPWlbM10sdz1pWzddLE09aVsxMV0sYj1pWzE1XSx6PXNbMF0sXz1zWzRdLFM9c1s4XSxCPXNbMTJdLFQ9c1sxXSxDPXNbNV0sUD1zWzldLEU9c1sxM10sRj1zWzJdLFU9c1s2XSxSPXNbMTBdLGo9c1sxNF0saHQ9c1szXSxsdD1zWzddLHFlPXNbMTFdLHZlPXNbMTVdO3JldHVybiBuWzBdPXIqeithKlQrbypGK2gqaHQsbls0XT1yKl8rYSpDK28qVStoKmx0LG5bOF09cipTK2EqUCtvKlIraCpxZSxuWzEyXT1yKkIrYSpFK28qaitoKnZlLG5bMV09Yyp6K2YqVCtsKkYrZCpodCxuWzVdPWMqXytmKkMrbCpVK2QqbHQsbls5XT1jKlMrZipQK2wqUitkKnFlLG5bMTNdPWMqQitmKkUrbCpqK2QqdmUsblsyXT1wKnoreSpUK3gqRittKmh0LG5bNl09cCpfK3kqQyt4KlUrbSpsdCxuWzEwXT1wKlMreSpQK3gqUittKnFlLG5bMTRdPXAqQit5KkUreCpqK20qdmUsblszXT1nKnordypUK00qRitiKmh0LG5bN109ZypfK3cqQytNKlUrYipsdCxuWzExXT1nKlMrdypQK00qUitiKnFlLG5bMTVdPWcqQit3KkUrTSpqK2IqdmUsdGhpc31tdWx0aXBseVNjYWxhcih0KXtjb25zdCBlPXRoaXMuZWxlbWVudHM7cmV0dXJuIGVbMF0qPXQsZVs0XSo9dCxlWzhdKj10LGVbMTJdKj10LGVbMV0qPXQsZVs1XSo9dCxlWzldKj10LGVbMTNdKj10LGVbMl0qPXQsZVs2XSo9dCxlWzEwXSo9dCxlWzE0XSo9dCxlWzNdKj10LGVbN10qPXQsZVsxMV0qPXQsZVsxNV0qPXQsdGhpc31kZXRlcm1pbmFudCgpe2NvbnN0IHQ9dGhpcy5lbGVtZW50cyxlPXRbMF0saT10WzRdLHM9dFs4XSxuPXRbMTJdLHI9dFsxXSxhPXRbNV0sbz10WzldLGg9dFsxM10sYz10WzJdLGY9dFs2XSxsPXRbMTBdLGQ9dFsxNF0scD10WzNdLHk9dFs3XSx4PXRbMTFdLG09dFsxNV07cmV0dXJuIHAqKCtuKm8qZi1zKmgqZi1uKmEqbCtpKmgqbCtzKmEqZC1pKm8qZCkreSooK2UqbypkLWUqaCpsK24qcipsLXMqcipkK3MqaCpjLW4qbypjKSt4KigrZSpoKmYtZSphKmQtbipyKmYraSpyKmQrbiphKmMtaSpoKmMpK20qKC1zKmEqYy1lKm8qZitlKmEqbCtzKnIqZi1pKnIqbCtpKm8qYyl9dHJhbnNwb3NlKCl7Y29uc3QgdD10aGlzLmVsZW1lbnRzO2xldCBlO3JldHVybiBlPXRbMV0sdFsxXT10WzRdLHRbNF09ZSxlPXRbMl0sdFsyXT10WzhdLHRbOF09ZSxlPXRbNl0sdFs2XT10WzldLHRbOV09ZSxlPXRbM10sdFszXT10WzEyXSx0WzEyXT1lLGU9dFs3XSx0WzddPXRbMTNdLHRbMTNdPWUsZT10WzExXSx0WzExXT10WzE0XSx0WzE0XT1lLHRoaXN9c2V0UG9zaXRpb24odCxlLGkpe2NvbnN0IHM9dGhpcy5lbGVtZW50cztyZXR1cm4gdC5pc1ZlY3RvcjM/KHNbMTJdPXQueCxzWzEzXT10Lnksc1sxNF09dC56KTooc1sxMl09dCxzWzEzXT1lLHNbMTRdPWkpLHRoaXN9aW52ZXJ0KCl7Y29uc3QgdD10aGlzLmVsZW1lbnRzLGU9dFswXSxpPXRbMV0scz10WzJdLG49dFszXSxyPXRbNF0sYT10WzVdLG89dFs2XSxoPXRbN10sYz10WzhdLGY9dFs5XSxsPXRbMTBdLGQ9dFsxMV0scD10WzEyXSx5PXRbMTNdLHg9dFsxNF0sbT10WzE1XSxnPWYqeCpoLXkqbCpoK3kqbypkLWEqeCpkLWYqbyptK2EqbCptLHc9cCpsKmgtYyp4KmgtcCpvKmQrcip4KmQrYypvKm0tcipsKm0sTT1jKnkqaC1wKmYqaCtwKmEqZC1yKnkqZC1jKmEqbStyKmYqbSxiPXAqZipvLWMqeSpvLXAqYSpsK3IqeSpsK2MqYSp4LXIqZip4LHo9ZSpnK2kqdytzKk0rbipiO2lmKHo9PT0wKXJldHVybiB0aGlzLnNldCgwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwKTtjb25zdCBfPTEvejtyZXR1cm4gdFswXT1nKl8sdFsxXT0oeSpsKm4tZip4Km4teSpzKmQraSp4KmQrZipzKm0taSpsKm0pKl8sdFsyXT0oYSp4Km4teSpvKm4reSpzKmgtaSp4KmgtYSpzKm0raSpvKm0pKl8sdFszXT0oZipvKm4tYSpsKm4tZipzKmgraSpsKmgrYSpzKmQtaSpvKmQpKl8sdFs0XT13Kl8sdFs1XT0oYyp4Km4tcCpsKm4rcCpzKmQtZSp4KmQtYypzKm0rZSpsKm0pKl8sdFs2XT0ocCpvKm4tcip4Km4tcCpzKmgrZSp4KmgrcipzKm0tZSpvKm0pKl8sdFs3XT0ocipsKm4tYypvKm4rYypzKmgtZSpsKmgtcipzKmQrZSpvKmQpKl8sdFs4XT1NKl8sdFs5XT0ocCpmKm4tYyp5Km4tcCppKmQrZSp5KmQrYyppKm0tZSpmKm0pKl8sdFsxMF09KHIqeSpuLXAqYSpuK3AqaSpoLWUqeSpoLXIqaSptK2UqYSptKSpfLHRbMTFdPShjKmEqbi1yKmYqbi1jKmkqaCtlKmYqaCtyKmkqZC1lKmEqZCkqXyx0WzEyXT1iKl8sdFsxM109KGMqeSpzLXAqZipzK3AqaSpsLWUqeSpsLWMqaSp4K2UqZip4KSpfLHRbMTRdPShwKmEqcy1yKnkqcy1wKmkqbytlKnkqbytyKmkqeC1lKmEqeCkqXyx0WzE1XT0ocipmKnMtYyphKnMrYyppKm8tZSpmKm8tcippKmwrZSphKmwpKl8sdGhpc31zY2FsZSh0KXtjb25zdCBlPXRoaXMuZWxlbWVudHMsaT10Lngscz10Lnksbj10Lno7cmV0dXJuIGVbMF0qPWksZVs0XSo9cyxlWzhdKj1uLGVbMV0qPWksZVs1XSo9cyxlWzldKj1uLGVbMl0qPWksZVs2XSo9cyxlWzEwXSo9bixlWzNdKj1pLGVbN10qPXMsZVsxMV0qPW4sdGhpc31nZXRNYXhTY2FsZU9uQXhpcygpe2NvbnN0IHQ9dGhpcy5lbGVtZW50cyxlPXRbMF0qdFswXSt0WzFdKnRbMV0rdFsyXSp0WzJdLGk9dFs0XSp0WzRdK3RbNV0qdFs1XSt0WzZdKnRbNl0scz10WzhdKnRbOF0rdFs5XSp0WzldK3RbMTBdKnRbMTBdO3JldHVybiBNYXRoLnNxcnQoTWF0aC5tYXgoZSxpLHMpKX1tYWtlVHJhbnNsYXRpb24odCxlLGkpe3JldHVybiB0LmlzVmVjdG9yMz90aGlzLnNldCgxLDAsMCx0LngsMCwxLDAsdC55LDAsMCwxLHQueiwwLDAsMCwxKTp0aGlzLnNldCgxLDAsMCx0LDAsMSwwLGUsMCwwLDEsaSwwLDAsMCwxKSx0aGlzfW1ha2VSb3RhdGlvblgodCl7Y29uc3QgZT1NYXRoLmNvcyh0KSxpPU1hdGguc2luKHQpO3JldHVybiB0aGlzLnNldCgxLDAsMCwwLDAsZSwtaSwwLDAsaSxlLDAsMCwwLDAsMSksdGhpc31tYWtlUm90YXRpb25ZKHQpe2NvbnN0IGU9TWF0aC5jb3ModCksaT1NYXRoLnNpbih0KTtyZXR1cm4gdGhpcy5zZXQoZSwwLGksMCwwLDEsMCwwLC1pLDAsZSwwLDAsMCwwLDEpLHRoaXN9bWFrZVJvdGF0aW9uWih0KXtjb25zdCBlPU1hdGguY29zKHQpLGk9TWF0aC5zaW4odCk7cmV0dXJuIHRoaXMuc2V0KGUsLWksMCwwLGksZSwwLDAsMCwwLDEsMCwwLDAsMCwxKSx0aGlzfW1ha2VSb3RhdGlvbkF4aXModCxlKXtjb25zdCBpPU1hdGguY29zKGUpLHM9TWF0aC5zaW4oZSksbj0xLWkscj10LngsYT10Lnksbz10LnosaD1uKnIsYz1uKmE7cmV0dXJuIHRoaXMuc2V0KGgqcitpLGgqYS1zKm8saCpvK3MqYSwwLGgqYStzKm8sYyphK2ksYypvLXMqciwwLGgqby1zKmEsYypvK3MqcixuKm8qbytpLDAsMCwwLDAsMSksdGhpc31tYWtlU2NhbGUodCxlLGkpe3JldHVybiB0aGlzLnNldCh0LDAsMCwwLDAsZSwwLDAsMCwwLGksMCwwLDAsMCwxKSx0aGlzfW1ha2VTaGVhcih0LGUsaSxzLG4scil7cmV0dXJuIHRoaXMuc2V0KDEsaSxuLDAsdCwxLHIsMCxlLHMsMSwwLDAsMCwwLDEpLHRoaXN9Y29tcG9zZSh0LGUsaSl7Y29uc3Qgcz10aGlzLmVsZW1lbnRzLG49ZS5feCxyPWUuX3ksYT1lLl96LG89ZS5fdyxoPW4rbixjPXIrcixmPWErYSxsPW4qaCxkPW4qYyxwPW4qZix5PXIqYyx4PXIqZixtPWEqZixnPW8qaCx3PW8qYyxNPW8qZixiPWkueCx6PWkueSxfPWkuejtyZXR1cm4gc1swXT0oMS0oeSttKSkqYixzWzFdPShkK00pKmIsc1syXT0ocC13KSpiLHNbM109MCxzWzRdPShkLU0pKnosc1s1XT0oMS0obCttKSkqeixzWzZdPSh4K2cpKnosc1s3XT0wLHNbOF09KHArdykqXyxzWzldPSh4LWcpKl8sc1sxMF09KDEtKGwreSkpKl8sc1sxMV09MCxzWzEyXT10Lngsc1sxM109dC55LHNbMTRdPXQueixzWzE1XT0xLHRoaXN9ZGVjb21wb3NlKHQsZSxpKXtjb25zdCBzPXRoaXMuZWxlbWVudHM7bGV0IG49a3Quc2V0KHNbMF0sc1sxXSxzWzJdKS5sZW5ndGgoKTtjb25zdCByPWt0LnNldChzWzRdLHNbNV0sc1s2XSkubGVuZ3RoKCksYT1rdC5zZXQoc1s4XSxzWzldLHNbMTBdKS5sZW5ndGgoKTt0aGlzLmRldGVybWluYW50KCk8MCYmKG49LW4pLHQueD1zWzEyXSx0Lnk9c1sxM10sdC56PXNbMTRdLGl0LmNvcHkodGhpcyk7Y29uc3QgaD0xL24sYz0xL3IsZj0xL2E7cmV0dXJuIGl0LmVsZW1lbnRzWzBdKj1oLGl0LmVsZW1lbnRzWzFdKj1oLGl0LmVsZW1lbnRzWzJdKj1oLGl0LmVsZW1lbnRzWzRdKj1jLGl0LmVsZW1lbnRzWzVdKj1jLGl0LmVsZW1lbnRzWzZdKj1jLGl0LmVsZW1lbnRzWzhdKj1mLGl0LmVsZW1lbnRzWzldKj1mLGl0LmVsZW1lbnRzWzEwXSo9ZixlLnNldEZyb21Sb3RhdGlvbk1hdHJpeChpdCksaS54PW4saS55PXIsaS56PWEsdGhpc31tYWtlUGVyc3BlY3RpdmUodCxlLGkscyxuLHIsYT0yZTMpe2NvbnN0IG89dGhpcy5lbGVtZW50cyxoPTIqbi8oZS10KSxjPTIqbi8oaS1zKSxmPShlK3QpLyhlLXQpLGw9KGkrcykvKGktcyk7bGV0IGQscDtpZihhPT09MmUzKWQ9LShyK24pLyhyLW4pLHA9LTIqcipuLyhyLW4pO2Vsc2UgaWYoYT09PTIwMDEpZD0tci8oci1uKSxwPS1yKm4vKHItbik7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoIlRIUkVFLk1hdHJpeDQubWFrZVBlcnNwZWN0aXZlKCk6IEludmFsaWQgY29vcmRpbmF0ZSBzeXN0ZW06ICIrYSk7cmV0dXJuIG9bMF09aCxvWzRdPTAsb1s4XT1mLG9bMTJdPTAsb1sxXT0wLG9bNV09YyxvWzldPWwsb1sxM109MCxvWzJdPTAsb1s2XT0wLG9bMTBdPWQsb1sxNF09cCxvWzNdPTAsb1s3XT0wLG9bMTFdPS0xLG9bMTVdPTAsdGhpc31tYWtlT3J0aG9ncmFwaGljKHQsZSxpLHMsbixyLGE9MmUzKXtjb25zdCBvPXRoaXMuZWxlbWVudHMsaD0xLyhlLXQpLGM9MS8oaS1zKSxmPTEvKHItbiksbD0oZSt0KSpoLGQ9KGkrcykqYztsZXQgcCx5O2lmKGE9PT0yZTMpcD0ocituKSpmLHk9LTIqZjtlbHNlIGlmKGE9PT0yMDAxKXA9bipmLHk9LTEqZjtlbHNlIHRocm93IG5ldyBFcnJvcigiVEhSRUUuTWF0cml4NC5tYWtlT3J0aG9ncmFwaGljKCk6IEludmFsaWQgY29vcmRpbmF0ZSBzeXN0ZW06ICIrYSk7cmV0dXJuIG9bMF09MipoLG9bNF09MCxvWzhdPTAsb1sxMl09LWwsb1sxXT0wLG9bNV09MipjLG9bOV09MCxvWzEzXT0tZCxvWzJdPTAsb1s2XT0wLG9bMTBdPXksb1sxNF09LXAsb1szXT0wLG9bN109MCxvWzExXT0wLG9bMTVdPTEsdGhpc31lcXVhbHModCl7Y29uc3QgZT10aGlzLmVsZW1lbnRzLGk9dC5lbGVtZW50cztmb3IobGV0IHM9MDtzPDE2O3MrKylpZihlW3NdIT09aVtzXSlyZXR1cm4hMTtyZXR1cm4hMH1mcm9tQXJyYXkodCxlPTApe2ZvcihsZXQgaT0wO2k8MTY7aSsrKXRoaXMuZWxlbWVudHNbaV09dFtpK2VdO3JldHVybiB0aGlzfXRvQXJyYXkodD1bXSxlPTApe2NvbnN0IGk9dGhpcy5lbGVtZW50cztyZXR1cm4gdFtlXT1pWzBdLHRbZSsxXT1pWzFdLHRbZSsyXT1pWzJdLHRbZSszXT1pWzNdLHRbZSs0XT1pWzRdLHRbZSs1XT1pWzVdLHRbZSs2XT1pWzZdLHRbZSs3XT1pWzddLHRbZSs4XT1pWzhdLHRbZSs5XT1pWzldLHRbZSsxMF09aVsxMF0sdFtlKzExXT1pWzExXSx0W2UrMTJdPWlbMTJdLHRbZSsxM109aVsxM10sdFtlKzE0XT1pWzE0XSx0W2UrMTVdPWlbMTVdLHR9fWNvbnN0IGt0PW5ldyBBLGl0PW5ldyBOLHVzPW5ldyBBKDAsMCwwKSxmcz1uZXcgQSgxLDEsMSksX3Q9bmV3IEEseWU9bmV3IEEsWj1uZXcgQSxGaT1uZXcgTixVaT1uZXcgUXQ7Y2xhc3MgeGV7Y29uc3RydWN0b3IodD0wLGU9MCxpPTAscz14ZS5ERUZBVUxUX09SREVSKXt0aGlzLmlzRXVsZXI9ITAsdGhpcy5feD10LHRoaXMuX3k9ZSx0aGlzLl96PWksdGhpcy5fb3JkZXI9c31nZXQgeCgpe3JldHVybiB0aGlzLl94fXNldCB4KHQpe3RoaXMuX3g9dCx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCl9Z2V0IHkoKXtyZXR1cm4gdGhpcy5feX1zZXQgeSh0KXt0aGlzLl95PXQsdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpfWdldCB6KCl7cmV0dXJuIHRoaXMuX3p9c2V0IHoodCl7dGhpcy5fej10LHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKX1nZXQgb3JkZXIoKXtyZXR1cm4gdGhpcy5fb3JkZXJ9c2V0IG9yZGVyKHQpe3RoaXMuX29yZGVyPXQsdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpfXNldCh0LGUsaSxzPXRoaXMuX29yZGVyKXtyZXR1cm4gdGhpcy5feD10LHRoaXMuX3k9ZSx0aGlzLl96PWksdGhpcy5fb3JkZXI9cyx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc31jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLl94LHRoaXMuX3ksdGhpcy5feix0aGlzLl9vcmRlcil9Y29weSh0KXtyZXR1cm4gdGhpcy5feD10Ll94LHRoaXMuX3k9dC5feSx0aGlzLl96PXQuX3osdGhpcy5fb3JkZXI9dC5fb3JkZXIsdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9c2V0RnJvbVJvdGF0aW9uTWF0cml4KHQsZT10aGlzLl9vcmRlcixpPSEwKXtjb25zdCBzPXQuZWxlbWVudHMsbj1zWzBdLHI9c1s0XSxhPXNbOF0sbz1zWzFdLGg9c1s1XSxjPXNbOV0sZj1zWzJdLGw9c1s2XSxkPXNbMTBdO3N3aXRjaChlKXtjYXNlIlhZWiI6dGhpcy5feT1NYXRoLmFzaW4oYXQoYSwtMSwxKSksTWF0aC5hYnMoYSk8Ljk5OTk5OTk/KHRoaXMuX3g9TWF0aC5hdGFuMigtYyxkKSx0aGlzLl96PU1hdGguYXRhbjIoLXIsbikpOih0aGlzLl94PU1hdGguYXRhbjIobCxoKSx0aGlzLl96PTApO2JyZWFrO2Nhc2UiWVhaIjp0aGlzLl94PU1hdGguYXNpbigtYXQoYywtMSwxKSksTWF0aC5hYnMoYyk8Ljk5OTk5OTk/KHRoaXMuX3k9TWF0aC5hdGFuMihhLGQpLHRoaXMuX3o9TWF0aC5hdGFuMihvLGgpKToodGhpcy5feT1NYXRoLmF0YW4yKC1mLG4pLHRoaXMuX3o9MCk7YnJlYWs7Y2FzZSJaWFkiOnRoaXMuX3g9TWF0aC5hc2luKGF0KGwsLTEsMSkpLE1hdGguYWJzKGwpPC45OTk5OTk5Pyh0aGlzLl95PU1hdGguYXRhbjIoLWYsZCksdGhpcy5fej1NYXRoLmF0YW4yKC1yLGgpKToodGhpcy5feT0wLHRoaXMuX3o9TWF0aC5hdGFuMihvLG4pKTticmVhaztjYXNlIlpZWCI6dGhpcy5feT1NYXRoLmFzaW4oLWF0KGYsLTEsMSkpLE1hdGguYWJzKGYpPC45OTk5OTk5Pyh0aGlzLl94PU1hdGguYXRhbjIobCxkKSx0aGlzLl96PU1hdGguYXRhbjIobyxuKSk6KHRoaXMuX3g9MCx0aGlzLl96PU1hdGguYXRhbjIoLXIsaCkpO2JyZWFrO2Nhc2UiWVpYIjp0aGlzLl96PU1hdGguYXNpbihhdChvLC0xLDEpKSxNYXRoLmFicyhvKTwuOTk5OTk5OT8odGhpcy5feD1NYXRoLmF0YW4yKC1jLGgpLHRoaXMuX3k9TWF0aC5hdGFuMigtZixuKSk6KHRoaXMuX3g9MCx0aGlzLl95PU1hdGguYXRhbjIoYSxkKSk7YnJlYWs7Y2FzZSJYWlkiOnRoaXMuX3o9TWF0aC5hc2luKC1hdChyLC0xLDEpKSxNYXRoLmFicyhyKTwuOTk5OTk5OT8odGhpcy5feD1NYXRoLmF0YW4yKGwsaCksdGhpcy5feT1NYXRoLmF0YW4yKGEsbikpOih0aGlzLl94PU1hdGguYXRhbjIoLWMsZCksdGhpcy5feT0wKTticmVhaztkZWZhdWx0OmNvbnNvbGUud2FybigiVEhSRUUuRXVsZXI6IC5zZXRGcm9tUm90YXRpb25NYXRyaXgoKSBlbmNvdW50ZXJlZCBhbiB1bmtub3duIG9yZGVyOiAiK2UpfXJldHVybiB0aGlzLl9vcmRlcj1lLGk9PT0hMCYmdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9c2V0RnJvbVF1YXRlcm5pb24odCxlLGkpe3JldHVybiBGaS5tYWtlUm90YXRpb25Gcm9tUXVhdGVybmlvbih0KSx0aGlzLnNldEZyb21Sb3RhdGlvbk1hdHJpeChGaSxlLGkpfXNldEZyb21WZWN0b3IzKHQsZT10aGlzLl9vcmRlcil7cmV0dXJuIHRoaXMuc2V0KHQueCx0LnksdC56LGUpfXJlb3JkZXIodCl7cmV0dXJuIFVpLnNldEZyb21FdWxlcih0aGlzKSx0aGlzLnNldEZyb21RdWF0ZXJuaW9uKFVpLHQpfWVxdWFscyh0KXtyZXR1cm4gdC5feD09PXRoaXMuX3gmJnQuX3k9PT10aGlzLl95JiZ0Ll96PT09dGhpcy5feiYmdC5fb3JkZXI9PT10aGlzLl9vcmRlcn1mcm9tQXJyYXkodCl7cmV0dXJuIHRoaXMuX3g9dFswXSx0aGlzLl95PXRbMV0sdGhpcy5fej10WzJdLHRbM10hPT12b2lkIDAmJih0aGlzLl9vcmRlcj10WzNdKSx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc310b0FycmF5KHQ9W10sZT0wKXtyZXR1cm4gdFtlXT10aGlzLl94LHRbZSsxXT10aGlzLl95LHRbZSsyXT10aGlzLl96LHRbZSszXT10aGlzLl9vcmRlcix0fV9vbkNoYW5nZSh0KXtyZXR1cm4gdGhpcy5fb25DaGFuZ2VDYWxsYmFjaz10LHRoaXN9X29uQ2hhbmdlQ2FsbGJhY2soKXt9KltTeW1ib2wuaXRlcmF0b3JdKCl7eWllbGQgdGhpcy5feCx5aWVsZCB0aGlzLl95LHlpZWxkIHRoaXMuX3oseWllbGQgdGhpcy5fb3JkZXJ9fXhlLkRFRkFVTFRfT1JERVI9IlhZWiI7Y2xhc3MgZHN7Y29uc3RydWN0b3IoKXt0aGlzLm1hc2s9MX1zZXQodCl7dGhpcy5tYXNrPSgxPDx0fDApPj4+MH1lbmFibGUodCl7dGhpcy5tYXNrfD0xPDx0fDB9ZW5hYmxlQWxsKCl7dGhpcy5tYXNrPS0xfXRvZ2dsZSh0KXt0aGlzLm1hc2tePTE8PHR8MH1kaXNhYmxlKHQpe3RoaXMubWFzayY9figxPDx0fDApfWRpc2FibGVBbGwoKXt0aGlzLm1hc2s9MH10ZXN0KHQpe3JldHVybih0aGlzLm1hc2smdC5tYXNrKSE9PTB9aXNFbmFibGVkKHQpe3JldHVybih0aGlzLm1hc2smKDE8PHR8MCkpIT09MH19bGV0IHBzPTA7Y29uc3QgUmk9bmV3IEEsTHQ9bmV3IFF0LGZ0PW5ldyBOLGdlPW5ldyBBLGVlPW5ldyBBLG1zPW5ldyBBLHlzPW5ldyBRdCxraT1uZXcgQSgxLDAsMCksTGk9bmV3IEEoMCwxLDApLElpPW5ldyBBKDAsMCwxKSx4cz17dHlwZToiYWRkZWQifSxncz17dHlwZToicmVtb3ZlZCJ9LEdlPXt0eXBlOiJjaGlsZGFkZGVkIixjaGlsZDpudWxsfSxKZT17dHlwZToiY2hpbGRyZW1vdmVkIixjaGlsZDpudWxsfTtjbGFzcyBNdCBleHRlbmRzIFhle2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLmlzT2JqZWN0M0Q9ITAsT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsImlkIix7dmFsdWU6cHMrK30pLHRoaXMudXVpZD1mZSgpLHRoaXMubmFtZT0iIix0aGlzLnR5cGU9Ik9iamVjdDNEIix0aGlzLnBhcmVudD1udWxsLHRoaXMuY2hpbGRyZW49W10sdGhpcy51cD1NdC5ERUZBVUxUX1VQLmNsb25lKCk7Y29uc3QgdD1uZXcgQSxlPW5ldyB4ZSxpPW5ldyBRdCxzPW5ldyBBKDEsMSwxKTtmdW5jdGlvbiBuKCl7aS5zZXRGcm9tRXVsZXIoZSwhMSl9ZnVuY3Rpb24gcigpe2Uuc2V0RnJvbVF1YXRlcm5pb24oaSx2b2lkIDAsITEpfWUuX29uQ2hhbmdlKG4pLGkuX29uQ2hhbmdlKHIpLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMse3Bvc2l0aW9uOntjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx2YWx1ZTp0fSxyb3RhdGlvbjp7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsdmFsdWU6ZX0scXVhdGVybmlvbjp7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsdmFsdWU6aX0sc2NhbGU6e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHZhbHVlOnN9LG1vZGVsVmlld01hdHJpeDp7dmFsdWU6bmV3IE59LG5vcm1hbE1hdHJpeDp7dmFsdWU6bmV3IFR0fX0pLHRoaXMubWF0cml4PW5ldyBOLHRoaXMubWF0cml4V29ybGQ9bmV3IE4sdGhpcy5tYXRyaXhBdXRvVXBkYXRlPU10LkRFRkFVTFRfTUFUUklYX0FVVE9fVVBEQVRFLHRoaXMubWF0cml4V29ybGRBdXRvVXBkYXRlPU10LkRFRkFVTFRfTUFUUklYX1dPUkxEX0FVVE9fVVBEQVRFLHRoaXMubWF0cml4V29ybGROZWVkc1VwZGF0ZT0hMSx0aGlzLmxheWVycz1uZXcgZHMsdGhpcy52aXNpYmxlPSEwLHRoaXMuY2FzdFNoYWRvdz0hMSx0aGlzLnJlY2VpdmVTaGFkb3c9ITEsdGhpcy5mcnVzdHVtQ3VsbGVkPSEwLHRoaXMucmVuZGVyT3JkZXI9MCx0aGlzLmFuaW1hdGlvbnM9W10sdGhpcy51c2VyRGF0YT17fX1vbkJlZm9yZVNoYWRvdygpe31vbkFmdGVyU2hhZG93KCl7fW9uQmVmb3JlUmVuZGVyKCl7fW9uQWZ0ZXJSZW5kZXIoKXt9YXBwbHlNYXRyaXg0KHQpe3RoaXMubWF0cml4QXV0b1VwZGF0ZSYmdGhpcy51cGRhdGVNYXRyaXgoKSx0aGlzLm1hdHJpeC5wcmVtdWx0aXBseSh0KSx0aGlzLm1hdHJpeC5kZWNvbXBvc2UodGhpcy5wb3NpdGlvbix0aGlzLnF1YXRlcm5pb24sdGhpcy5zY2FsZSl9YXBwbHlRdWF0ZXJuaW9uKHQpe3JldHVybiB0aGlzLnF1YXRlcm5pb24ucHJlbXVsdGlwbHkodCksdGhpc31zZXRSb3RhdGlvbkZyb21BeGlzQW5nbGUodCxlKXt0aGlzLnF1YXRlcm5pb24uc2V0RnJvbUF4aXNBbmdsZSh0LGUpfXNldFJvdGF0aW9uRnJvbUV1bGVyKHQpe3RoaXMucXVhdGVybmlvbi5zZXRGcm9tRXVsZXIodCwhMCl9c2V0Um90YXRpb25Gcm9tTWF0cml4KHQpe3RoaXMucXVhdGVybmlvbi5zZXRGcm9tUm90YXRpb25NYXRyaXgodCl9c2V0Um90YXRpb25Gcm9tUXVhdGVybmlvbih0KXt0aGlzLnF1YXRlcm5pb24uY29weSh0KX1yb3RhdGVPbkF4aXModCxlKXtyZXR1cm4gTHQuc2V0RnJvbUF4aXNBbmdsZSh0LGUpLHRoaXMucXVhdGVybmlvbi5tdWx0aXBseShMdCksdGhpc31yb3RhdGVPbldvcmxkQXhpcyh0LGUpe3JldHVybiBMdC5zZXRGcm9tQXhpc0FuZ2xlKHQsZSksdGhpcy5xdWF0ZXJuaW9uLnByZW11bHRpcGx5KEx0KSx0aGlzfXJvdGF0ZVgodCl7cmV0dXJuIHRoaXMucm90YXRlT25BeGlzKGtpLHQpfXJvdGF0ZVkodCl7cmV0dXJuIHRoaXMucm90YXRlT25BeGlzKExpLHQpfXJvdGF0ZVoodCl7cmV0dXJuIHRoaXMucm90YXRlT25BeGlzKElpLHQpfXRyYW5zbGF0ZU9uQXhpcyh0LGUpe3JldHVybiBSaS5jb3B5KHQpLmFwcGx5UXVhdGVybmlvbih0aGlzLnF1YXRlcm5pb24pLHRoaXMucG9zaXRpb24uYWRkKFJpLm11bHRpcGx5U2NhbGFyKGUpKSx0aGlzfXRyYW5zbGF0ZVgodCl7cmV0dXJuIHRoaXMudHJhbnNsYXRlT25BeGlzKGtpLHQpfXRyYW5zbGF0ZVkodCl7cmV0dXJuIHRoaXMudHJhbnNsYXRlT25BeGlzKExpLHQpfXRyYW5zbGF0ZVoodCl7cmV0dXJuIHRoaXMudHJhbnNsYXRlT25BeGlzKElpLHQpfWxvY2FsVG9Xb3JsZCh0KXtyZXR1cm4gdGhpcy51cGRhdGVXb3JsZE1hdHJpeCghMCwhMSksdC5hcHBseU1hdHJpeDQodGhpcy5tYXRyaXhXb3JsZCl9d29ybGRUb0xvY2FsKHQpe3JldHVybiB0aGlzLnVwZGF0ZVdvcmxkTWF0cml4KCEwLCExKSx0LmFwcGx5TWF0cml4NChmdC5jb3B5KHRoaXMubWF0cml4V29ybGQpLmludmVydCgpKX1sb29rQXQodCxlLGkpe3QuaXNWZWN0b3IzP2dlLmNvcHkodCk6Z2Uuc2V0KHQsZSxpKTtjb25zdCBzPXRoaXMucGFyZW50O3RoaXMudXBkYXRlV29ybGRNYXRyaXgoITAsITEpLGVlLnNldEZyb21NYXRyaXhQb3NpdGlvbih0aGlzLm1hdHJpeFdvcmxkKSx0aGlzLmlzQ2FtZXJhfHx0aGlzLmlzTGlnaHQ/ZnQubG9va0F0KGVlLGdlLHRoaXMudXApOmZ0Lmxvb2tBdChnZSxlZSx0aGlzLnVwKSx0aGlzLnF1YXRlcm5pb24uc2V0RnJvbVJvdGF0aW9uTWF0cml4KGZ0KSxzJiYoZnQuZXh0cmFjdFJvdGF0aW9uKHMubWF0cml4V29ybGQpLEx0LnNldEZyb21Sb3RhdGlvbk1hdHJpeChmdCksdGhpcy5xdWF0ZXJuaW9uLnByZW11bHRpcGx5KEx0LmludmVydCgpKSl9YWRkKHQpe2lmKGFyZ3VtZW50cy5sZW5ndGg+MSl7Zm9yKGxldCBlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0aGlzLmFkZChhcmd1bWVudHNbZV0pO3JldHVybiB0aGlzfXJldHVybiB0PT09dGhpcz8oY29uc29sZS5lcnJvcigiVEhSRUUuT2JqZWN0M0QuYWRkOiBvYmplY3QgY2FuJ3QgYmUgYWRkZWQgYXMgYSBjaGlsZCBvZiBpdHNlbGYuIix0KSx0aGlzKToodCYmdC5pc09iamVjdDNEPyh0LnBhcmVudCE9PW51bGwmJnQucGFyZW50LnJlbW92ZSh0KSx0LnBhcmVudD10aGlzLHRoaXMuY2hpbGRyZW4ucHVzaCh0KSx0LmRpc3BhdGNoRXZlbnQoeHMpLEdlLmNoaWxkPXQsdGhpcy5kaXNwYXRjaEV2ZW50KEdlKSxHZS5jaGlsZD1udWxsKTpjb25zb2xlLmVycm9yKCJUSFJFRS5PYmplY3QzRC5hZGQ6IG9iamVjdCBub3QgYW4gaW5zdGFuY2Ugb2YgVEhSRUUuT2JqZWN0M0QuIix0KSx0aGlzKX1yZW1vdmUodCl7aWYoYXJndW1lbnRzLmxlbmd0aD4xKXtmb3IobGV0IGk9MDtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXRoaXMucmVtb3ZlKGFyZ3VtZW50c1tpXSk7cmV0dXJuIHRoaXN9Y29uc3QgZT10aGlzLmNoaWxkcmVuLmluZGV4T2YodCk7cmV0dXJuIGUhPT0tMSYmKHQucGFyZW50PW51bGwsdGhpcy5jaGlsZHJlbi5zcGxpY2UoZSwxKSx0LmRpc3BhdGNoRXZlbnQoZ3MpLEplLmNoaWxkPXQsdGhpcy5kaXNwYXRjaEV2ZW50KEplKSxKZS5jaGlsZD1udWxsKSx0aGlzfXJlbW92ZUZyb21QYXJlbnQoKXtjb25zdCB0PXRoaXMucGFyZW50O3JldHVybiB0IT09bnVsbCYmdC5yZW1vdmUodGhpcyksdGhpc31jbGVhcigpe3JldHVybiB0aGlzLnJlbW92ZSguLi50aGlzLmNoaWxkcmVuKX1hdHRhY2godCl7cmV0dXJuIHRoaXMudXBkYXRlV29ybGRNYXRyaXgoITAsITEpLGZ0LmNvcHkodGhpcy5tYXRyaXhXb3JsZCkuaW52ZXJ0KCksdC5wYXJlbnQhPT1udWxsJiYodC5wYXJlbnQudXBkYXRlV29ybGRNYXRyaXgoITAsITEpLGZ0Lm11bHRpcGx5KHQucGFyZW50Lm1hdHJpeFdvcmxkKSksdC5hcHBseU1hdHJpeDQoZnQpLHRoaXMuYWRkKHQpLHQudXBkYXRlV29ybGRNYXRyaXgoITEsITApLHRoaXN9Z2V0T2JqZWN0QnlJZCh0KXtyZXR1cm4gdGhpcy5nZXRPYmplY3RCeVByb3BlcnR5KCJpZCIsdCl9Z2V0T2JqZWN0QnlOYW1lKHQpe3JldHVybiB0aGlzLmdldE9iamVjdEJ5UHJvcGVydHkoIm5hbWUiLHQpfWdldE9iamVjdEJ5UHJvcGVydHkodCxlKXtpZih0aGlzW3RdPT09ZSlyZXR1cm4gdGhpcztmb3IobGV0IGk9MCxzPXRoaXMuY2hpbGRyZW4ubGVuZ3RoO2k8cztpKyspe2NvbnN0IHI9dGhpcy5jaGlsZHJlbltpXS5nZXRPYmplY3RCeVByb3BlcnR5KHQsZSk7aWYociE9PXZvaWQgMClyZXR1cm4gcn19Z2V0T2JqZWN0c0J5UHJvcGVydHkodCxlLGk9W10pe3RoaXNbdF09PT1lJiZpLnB1c2godGhpcyk7Y29uc3Qgcz10aGlzLmNoaWxkcmVuO2ZvcihsZXQgbj0wLHI9cy5sZW5ndGg7bjxyO24rKylzW25dLmdldE9iamVjdHNCeVByb3BlcnR5KHQsZSxpKTtyZXR1cm4gaX1nZXRXb3JsZFBvc2l0aW9uKHQpe3JldHVybiB0aGlzLnVwZGF0ZVdvcmxkTWF0cml4KCEwLCExKSx0LnNldEZyb21NYXRyaXhQb3NpdGlvbih0aGlzLm1hdHJpeFdvcmxkKX1nZXRXb3JsZFF1YXRlcm5pb24odCl7cmV0dXJuIHRoaXMudXBkYXRlV29ybGRNYXRyaXgoITAsITEpLHRoaXMubWF0cml4V29ybGQuZGVjb21wb3NlKGVlLHQsbXMpLHR9Z2V0V29ybGRTY2FsZSh0KXtyZXR1cm4gdGhpcy51cGRhdGVXb3JsZE1hdHJpeCghMCwhMSksdGhpcy5tYXRyaXhXb3JsZC5kZWNvbXBvc2UoZWUseXMsdCksdH1nZXRXb3JsZERpcmVjdGlvbih0KXt0aGlzLnVwZGF0ZVdvcmxkTWF0cml4KCEwLCExKTtjb25zdCBlPXRoaXMubWF0cml4V29ybGQuZWxlbWVudHM7cmV0dXJuIHQuc2V0KGVbOF0sZVs5XSxlWzEwXSkubm9ybWFsaXplKCl9cmF5Y2FzdCgpe310cmF2ZXJzZSh0KXt0KHRoaXMpO2NvbnN0IGU9dGhpcy5jaGlsZHJlbjtmb3IobGV0IGk9MCxzPWUubGVuZ3RoO2k8cztpKyspZVtpXS50cmF2ZXJzZSh0KX10cmF2ZXJzZVZpc2libGUodCl7aWYodGhpcy52aXNpYmxlPT09ITEpcmV0dXJuO3QodGhpcyk7Y29uc3QgZT10aGlzLmNoaWxkcmVuO2ZvcihsZXQgaT0wLHM9ZS5sZW5ndGg7aTxzO2krKyllW2ldLnRyYXZlcnNlVmlzaWJsZSh0KX10cmF2ZXJzZUFuY2VzdG9ycyh0KXtjb25zdCBlPXRoaXMucGFyZW50O2UhPT1udWxsJiYodChlKSxlLnRyYXZlcnNlQW5jZXN0b3JzKHQpKX11cGRhdGVNYXRyaXgoKXt0aGlzLm1hdHJpeC5jb21wb3NlKHRoaXMucG9zaXRpb24sdGhpcy5xdWF0ZXJuaW9uLHRoaXMuc2NhbGUpLHRoaXMubWF0cml4V29ybGROZWVkc1VwZGF0ZT0hMH11cGRhdGVNYXRyaXhXb3JsZCh0KXt0aGlzLm1hdHJpeEF1dG9VcGRhdGUmJnRoaXMudXBkYXRlTWF0cml4KCksKHRoaXMubWF0cml4V29ybGROZWVkc1VwZGF0ZXx8dCkmJih0aGlzLnBhcmVudD09PW51bGw/dGhpcy5tYXRyaXhXb3JsZC5jb3B5KHRoaXMubWF0cml4KTp0aGlzLm1hdHJpeFdvcmxkLm11bHRpcGx5TWF0cmljZXModGhpcy5wYXJlbnQubWF0cml4V29ybGQsdGhpcy5tYXRyaXgpLHRoaXMubWF0cml4V29ybGROZWVkc1VwZGF0ZT0hMSx0PSEwKTtjb25zdCBlPXRoaXMuY2hpbGRyZW47Zm9yKGxldCBpPTAscz1lLmxlbmd0aDtpPHM7aSsrKXtjb25zdCBuPWVbaV07KG4ubWF0cml4V29ybGRBdXRvVXBkYXRlPT09ITB8fHQ9PT0hMCkmJm4udXBkYXRlTWF0cml4V29ybGQodCl9fXVwZGF0ZVdvcmxkTWF0cml4KHQsZSl7Y29uc3QgaT10aGlzLnBhcmVudDtpZih0PT09ITAmJmkhPT1udWxsJiZpLm1hdHJpeFdvcmxkQXV0b1VwZGF0ZT09PSEwJiZpLnVwZGF0ZVdvcmxkTWF0cml4KCEwLCExKSx0aGlzLm1hdHJpeEF1dG9VcGRhdGUmJnRoaXMudXBkYXRlTWF0cml4KCksdGhpcy5wYXJlbnQ9PT1udWxsP3RoaXMubWF0cml4V29ybGQuY29weSh0aGlzLm1hdHJpeCk6dGhpcy5tYXRyaXhXb3JsZC5tdWx0aXBseU1hdHJpY2VzKHRoaXMucGFyZW50Lm1hdHJpeFdvcmxkLHRoaXMubWF0cml4KSxlPT09ITApe2NvbnN0IHM9dGhpcy5jaGlsZHJlbjtmb3IobGV0IG49MCxyPXMubGVuZ3RoO248cjtuKyspe2NvbnN0IGE9c1tuXTthLm1hdHJpeFdvcmxkQXV0b1VwZGF0ZT09PSEwJiZhLnVwZGF0ZVdvcmxkTWF0cml4KCExLCEwKX19fXRvSlNPTih0KXtjb25zdCBlPXQ9PT12b2lkIDB8fHR5cGVvZiB0PT0ic3RyaW5nIixpPXt9O2UmJih0PXtnZW9tZXRyaWVzOnt9LG1hdGVyaWFsczp7fSx0ZXh0dXJlczp7fSxpbWFnZXM6e30sc2hhcGVzOnt9LHNrZWxldG9uczp7fSxhbmltYXRpb25zOnt9LG5vZGVzOnt9fSxpLm1ldGFkYXRhPXt2ZXJzaW9uOjQuNix0eXBlOiJPYmplY3QiLGdlbmVyYXRvcjoiT2JqZWN0M0QudG9KU09OIn0pO2NvbnN0IHM9e307cy51dWlkPXRoaXMudXVpZCxzLnR5cGU9dGhpcy50eXBlLHRoaXMubmFtZSE9PSIiJiYocy5uYW1lPXRoaXMubmFtZSksdGhpcy5jYXN0U2hhZG93PT09ITAmJihzLmNhc3RTaGFkb3c9ITApLHRoaXMucmVjZWl2ZVNoYWRvdz09PSEwJiYocy5yZWNlaXZlU2hhZG93PSEwKSx0aGlzLnZpc2libGU9PT0hMSYmKHMudmlzaWJsZT0hMSksdGhpcy5mcnVzdHVtQ3VsbGVkPT09ITEmJihzLmZydXN0dW1DdWxsZWQ9ITEpLHRoaXMucmVuZGVyT3JkZXIhPT0wJiYocy5yZW5kZXJPcmRlcj10aGlzLnJlbmRlck9yZGVyKSxPYmplY3Qua2V5cyh0aGlzLnVzZXJEYXRhKS5sZW5ndGg+MCYmKHMudXNlckRhdGE9dGhpcy51c2VyRGF0YSkscy5sYXllcnM9dGhpcy5sYXllcnMubWFzayxzLm1hdHJpeD10aGlzLm1hdHJpeC50b0FycmF5KCkscy51cD10aGlzLnVwLnRvQXJyYXkoKSx0aGlzLm1hdHJpeEF1dG9VcGRhdGU9PT0hMSYmKHMubWF0cml4QXV0b1VwZGF0ZT0hMSksdGhpcy5pc0luc3RhbmNlZE1lc2gmJihzLnR5cGU9Ikluc3RhbmNlZE1lc2giLHMuY291bnQ9dGhpcy5jb3VudCxzLmluc3RhbmNlTWF0cml4PXRoaXMuaW5zdGFuY2VNYXRyaXgudG9KU09OKCksdGhpcy5pbnN0YW5jZUNvbG9yIT09bnVsbCYmKHMuaW5zdGFuY2VDb2xvcj10aGlzLmluc3RhbmNlQ29sb3IudG9KU09OKCkpKSx0aGlzLmlzQmF0Y2hlZE1lc2gmJihzLnR5cGU9IkJhdGNoZWRNZXNoIixzLnBlck9iamVjdEZydXN0dW1DdWxsZWQ9dGhpcy5wZXJPYmplY3RGcnVzdHVtQ3VsbGVkLHMuc29ydE9iamVjdHM9dGhpcy5zb3J0T2JqZWN0cyxzLmRyYXdSYW5nZXM9dGhpcy5fZHJhd1JhbmdlcyxzLnJlc2VydmVkUmFuZ2VzPXRoaXMuX3Jlc2VydmVkUmFuZ2VzLHMudmlzaWJpbGl0eT10aGlzLl92aXNpYmlsaXR5LHMuYWN0aXZlPXRoaXMuX2FjdGl2ZSxzLmJvdW5kcz10aGlzLl9ib3VuZHMubWFwKGE9Pih7Ym94SW5pdGlhbGl6ZWQ6YS5ib3hJbml0aWFsaXplZCxib3hNaW46YS5ib3gubWluLnRvQXJyYXkoKSxib3hNYXg6YS5ib3gubWF4LnRvQXJyYXkoKSxzcGhlcmVJbml0aWFsaXplZDphLnNwaGVyZUluaXRpYWxpemVkLHNwaGVyZVJhZGl1czphLnNwaGVyZS5yYWRpdXMsc3BoZXJlQ2VudGVyOmEuc3BoZXJlLmNlbnRlci50b0FycmF5KCl9KSkscy5tYXhHZW9tZXRyeUNvdW50PXRoaXMuX21heEdlb21ldHJ5Q291bnQscy5tYXhWZXJ0ZXhDb3VudD10aGlzLl9tYXhWZXJ0ZXhDb3VudCxzLm1heEluZGV4Q291bnQ9dGhpcy5fbWF4SW5kZXhDb3VudCxzLmdlb21ldHJ5SW5pdGlhbGl6ZWQ9dGhpcy5fZ2VvbWV0cnlJbml0aWFsaXplZCxzLmdlb21ldHJ5Q291bnQ9dGhpcy5fZ2VvbWV0cnlDb3VudCxzLm1hdHJpY2VzVGV4dHVyZT10aGlzLl9tYXRyaWNlc1RleHR1cmUudG9KU09OKHQpLHRoaXMuYm91bmRpbmdTcGhlcmUhPT1udWxsJiYocy5ib3VuZGluZ1NwaGVyZT17Y2VudGVyOnMuYm91bmRpbmdTcGhlcmUuY2VudGVyLnRvQXJyYXkoKSxyYWRpdXM6cy5ib3VuZGluZ1NwaGVyZS5yYWRpdXN9KSx0aGlzLmJvdW5kaW5nQm94IT09bnVsbCYmKHMuYm91bmRpbmdCb3g9e21pbjpzLmJvdW5kaW5nQm94Lm1pbi50b0FycmF5KCksbWF4OnMuYm91bmRpbmdCb3gubWF4LnRvQXJyYXkoKX0pKTtmdW5jdGlvbiBuKGEsbyl7cmV0dXJuIGFbby51dWlkXT09PXZvaWQgMCYmKGFbby51dWlkXT1vLnRvSlNPTih0KSksby51dWlkfWlmKHRoaXMuaXNTY2VuZSl0aGlzLmJhY2tncm91bmQmJih0aGlzLmJhY2tncm91bmQuaXNDb2xvcj9zLmJhY2tncm91bmQ9dGhpcy5iYWNrZ3JvdW5kLnRvSlNPTigpOnRoaXMuYmFja2dyb3VuZC5pc1RleHR1cmUmJihzLmJhY2tncm91bmQ9dGhpcy5iYWNrZ3JvdW5kLnRvSlNPTih0KS51dWlkKSksdGhpcy5lbnZpcm9ubWVudCYmdGhpcy5lbnZpcm9ubWVudC5pc1RleHR1cmUmJnRoaXMuZW52aXJvbm1lbnQuaXNSZW5kZXJUYXJnZXRUZXh0dXJlIT09ITAmJihzLmVudmlyb25tZW50PXRoaXMuZW52aXJvbm1lbnQudG9KU09OKHQpLnV1aWQpO2Vsc2UgaWYodGhpcy5pc01lc2h8fHRoaXMuaXNMaW5lfHx0aGlzLmlzUG9pbnRzKXtzLmdlb21ldHJ5PW4odC5nZW9tZXRyaWVzLHRoaXMuZ2VvbWV0cnkpO2NvbnN0IGE9dGhpcy5nZW9tZXRyeS5wYXJhbWV0ZXJzO2lmKGEhPT12b2lkIDAmJmEuc2hhcGVzIT09dm9pZCAwKXtjb25zdCBvPWEuc2hhcGVzO2lmKEFycmF5LmlzQXJyYXkobykpZm9yKGxldCBoPTAsYz1vLmxlbmd0aDtoPGM7aCsrKXtjb25zdCBmPW9baF07bih0LnNoYXBlcyxmKX1lbHNlIG4odC5zaGFwZXMsbyl9fWlmKHRoaXMuaXNTa2lubmVkTWVzaCYmKHMuYmluZE1vZGU9dGhpcy5iaW5kTW9kZSxzLmJpbmRNYXRyaXg9dGhpcy5iaW5kTWF0cml4LnRvQXJyYXkoKSx0aGlzLnNrZWxldG9uIT09dm9pZCAwJiYobih0LnNrZWxldG9ucyx0aGlzLnNrZWxldG9uKSxzLnNrZWxldG9uPXRoaXMuc2tlbGV0b24udXVpZCkpLHRoaXMubWF0ZXJpYWwhPT12b2lkIDApaWYoQXJyYXkuaXNBcnJheSh0aGlzLm1hdGVyaWFsKSl7Y29uc3QgYT1bXTtmb3IobGV0IG89MCxoPXRoaXMubWF0ZXJpYWwubGVuZ3RoO288aDtvKyspYS5wdXNoKG4odC5tYXRlcmlhbHMsdGhpcy5tYXRlcmlhbFtvXSkpO3MubWF0ZXJpYWw9YX1lbHNlIHMubWF0ZXJpYWw9bih0Lm1hdGVyaWFscyx0aGlzLm1hdGVyaWFsKTtpZih0aGlzLmNoaWxkcmVuLmxlbmd0aD4wKXtzLmNoaWxkcmVuPVtdO2ZvcihsZXQgYT0wO2E8dGhpcy5jaGlsZHJlbi5sZW5ndGg7YSsrKXMuY2hpbGRyZW4ucHVzaCh0aGlzLmNoaWxkcmVuW2FdLnRvSlNPTih0KS5vYmplY3QpfWlmKHRoaXMuYW5pbWF0aW9ucy5sZW5ndGg+MCl7cy5hbmltYXRpb25zPVtdO2ZvcihsZXQgYT0wO2E8dGhpcy5hbmltYXRpb25zLmxlbmd0aDthKyspe2NvbnN0IG89dGhpcy5hbmltYXRpb25zW2FdO3MuYW5pbWF0aW9ucy5wdXNoKG4odC5hbmltYXRpb25zLG8pKX19aWYoZSl7Y29uc3QgYT1yKHQuZ2VvbWV0cmllcyksbz1yKHQubWF0ZXJpYWxzKSxoPXIodC50ZXh0dXJlcyksYz1yKHQuaW1hZ2VzKSxmPXIodC5zaGFwZXMpLGw9cih0LnNrZWxldG9ucyksZD1yKHQuYW5pbWF0aW9ucykscD1yKHQubm9kZXMpO2EubGVuZ3RoPjAmJihpLmdlb21ldHJpZXM9YSksby5sZW5ndGg+MCYmKGkubWF0ZXJpYWxzPW8pLGgubGVuZ3RoPjAmJihpLnRleHR1cmVzPWgpLGMubGVuZ3RoPjAmJihpLmltYWdlcz1jKSxmLmxlbmd0aD4wJiYoaS5zaGFwZXM9ZiksbC5sZW5ndGg+MCYmKGkuc2tlbGV0b25zPWwpLGQubGVuZ3RoPjAmJihpLmFuaW1hdGlvbnM9ZCkscC5sZW5ndGg+MCYmKGkubm9kZXM9cCl9cmV0dXJuIGkub2JqZWN0PXMsaTtmdW5jdGlvbiByKGEpe2NvbnN0IG89W107Zm9yKGNvbnN0IGggaW4gYSl7Y29uc3QgYz1hW2hdO2RlbGV0ZSBjLm1ldGFkYXRhLG8ucHVzaChjKX1yZXR1cm4gb319Y2xvbmUodCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSh0aGlzLHQpfWNvcHkodCxlPSEwKXtpZih0aGlzLm5hbWU9dC5uYW1lLHRoaXMudXAuY29weSh0LnVwKSx0aGlzLnBvc2l0aW9uLmNvcHkodC5wb3NpdGlvbiksdGhpcy5yb3RhdGlvbi5vcmRlcj10LnJvdGF0aW9uLm9yZGVyLHRoaXMucXVhdGVybmlvbi5jb3B5KHQucXVhdGVybmlvbiksdGhpcy5zY2FsZS5jb3B5KHQuc2NhbGUpLHRoaXMubWF0cml4LmNvcHkodC5tYXRyaXgpLHRoaXMubWF0cml4V29ybGQuY29weSh0Lm1hdHJpeFdvcmxkKSx0aGlzLm1hdHJpeEF1dG9VcGRhdGU9dC5tYXRyaXhBdXRvVXBkYXRlLHRoaXMubWF0cml4V29ybGRBdXRvVXBkYXRlPXQubWF0cml4V29ybGRBdXRvVXBkYXRlLHRoaXMubWF0cml4V29ybGROZWVkc1VwZGF0ZT10Lm1hdHJpeFdvcmxkTmVlZHNVcGRhdGUsdGhpcy5sYXllcnMubWFzaz10LmxheWVycy5tYXNrLHRoaXMudmlzaWJsZT10LnZpc2libGUsdGhpcy5jYXN0U2hhZG93PXQuY2FzdFNoYWRvdyx0aGlzLnJlY2VpdmVTaGFkb3c9dC5yZWNlaXZlU2hhZG93LHRoaXMuZnJ1c3R1bUN1bGxlZD10LmZydXN0dW1DdWxsZWQsdGhpcy5yZW5kZXJPcmRlcj10LnJlbmRlck9yZGVyLHRoaXMuYW5pbWF0aW9ucz10LmFuaW1hdGlvbnMuc2xpY2UoKSx0aGlzLnVzZXJEYXRhPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodC51c2VyRGF0YSkpLGU9PT0hMClmb3IobGV0IGk9MDtpPHQuY2hpbGRyZW4ubGVuZ3RoO2krKyl7Y29uc3Qgcz10LmNoaWxkcmVuW2ldO3RoaXMuYWRkKHMuY2xvbmUoKSl9cmV0dXJuIHRoaXN9fU10LkRFRkFVTFRfVVA9bmV3IEEoMCwxLDApLE10LkRFRkFVTFRfTUFUUklYX0FVVE9fVVBEQVRFPSEwLE10LkRFRkFVTFRfTUFUUklYX1dPUkxEX0FVVE9fVVBEQVRFPSEwO2NvbnN0IHN0PW5ldyBBLGR0PW5ldyBBLFFlPW5ldyBBLHB0PW5ldyBBLEl0PW5ldyBBLER0PW5ldyBBLERpPW5ldyBBLEtlPW5ldyBBLHRpPW5ldyBBLGVpPW5ldyBBO2NsYXNzIG50e2NvbnN0cnVjdG9yKHQ9bmV3IEEsZT1uZXcgQSxpPW5ldyBBKXt0aGlzLmE9dCx0aGlzLmI9ZSx0aGlzLmM9aX1zdGF0aWMgZ2V0Tm9ybWFsKHQsZSxpLHMpe3Muc3ViVmVjdG9ycyhpLGUpLHN0LnN1YlZlY3RvcnModCxlKSxzLmNyb3NzKHN0KTtjb25zdCBuPXMubGVuZ3RoU3EoKTtyZXR1cm4gbj4wP3MubXVsdGlwbHlTY2FsYXIoMS9NYXRoLnNxcnQobikpOnMuc2V0KDAsMCwwKX1zdGF0aWMgZ2V0QmFyeWNvb3JkKHQsZSxpLHMsbil7c3Quc3ViVmVjdG9ycyhzLGUpLGR0LnN1YlZlY3RvcnMoaSxlKSxRZS5zdWJWZWN0b3JzKHQsZSk7Y29uc3Qgcj1zdC5kb3Qoc3QpLGE9c3QuZG90KGR0KSxvPXN0LmRvdChRZSksaD1kdC5kb3QoZHQpLGM9ZHQuZG90KFFlKSxmPXIqaC1hKmE7aWYoZj09PTApcmV0dXJuIG4uc2V0KDAsMCwwKSxudWxsO2NvbnN0IGw9MS9mLGQ9KGgqby1hKmMpKmwscD0ocipjLWEqbykqbDtyZXR1cm4gbi5zZXQoMS1kLXAscCxkKX1zdGF0aWMgY29udGFpbnNQb2ludCh0LGUsaSxzKXtyZXR1cm4gdGhpcy5nZXRCYXJ5Y29vcmQodCxlLGkscyxwdCk9PT1udWxsPyExOnB0Lng+PTAmJnB0Lnk+PTAmJnB0LngrcHQueTw9MX1zdGF0aWMgZ2V0SW50ZXJwb2xhdGlvbih0LGUsaSxzLG4scixhLG8pe3JldHVybiB0aGlzLmdldEJhcnljb29yZCh0LGUsaSxzLHB0KT09PW51bGw/KG8ueD0wLG8ueT0wLCJ6ImluIG8mJihvLno9MCksInciaW4gbyYmKG8udz0wKSxudWxsKTooby5zZXRTY2FsYXIoMCksby5hZGRTY2FsZWRWZWN0b3IobixwdC54KSxvLmFkZFNjYWxlZFZlY3RvcihyLHB0LnkpLG8uYWRkU2NhbGVkVmVjdG9yKGEscHQueiksbyl9c3RhdGljIGlzRnJvbnRGYWNpbmcodCxlLGkscyl7cmV0dXJuIHN0LnN1YlZlY3RvcnMoaSxlKSxkdC5zdWJWZWN0b3JzKHQsZSksc3QuY3Jvc3MoZHQpLmRvdChzKTwwfXNldCh0LGUsaSl7cmV0dXJuIHRoaXMuYS5jb3B5KHQpLHRoaXMuYi5jb3B5KGUpLHRoaXMuYy5jb3B5KGkpLHRoaXN9c2V0RnJvbVBvaW50c0FuZEluZGljZXModCxlLGkscyl7cmV0dXJuIHRoaXMuYS5jb3B5KHRbZV0pLHRoaXMuYi5jb3B5KHRbaV0pLHRoaXMuYy5jb3B5KHRbc10pLHRoaXN9c2V0RnJvbUF0dHJpYnV0ZUFuZEluZGljZXModCxlLGkscyl7cmV0dXJuIHRoaXMuYS5mcm9tQnVmZmVyQXR0cmlidXRlKHQsZSksdGhpcy5iLmZyb21CdWZmZXJBdHRyaWJ1dGUodCxpKSx0aGlzLmMuZnJvbUJ1ZmZlckF0dHJpYnV0ZSh0LHMpLHRoaXN9Y2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KHRoaXMpfWNvcHkodCl7cmV0dXJuIHRoaXMuYS5jb3B5KHQuYSksdGhpcy5iLmNvcHkodC5iKSx0aGlzLmMuY29weSh0LmMpLHRoaXN9Z2V0QXJlYSgpe3JldHVybiBzdC5zdWJWZWN0b3JzKHRoaXMuYyx0aGlzLmIpLGR0LnN1YlZlY3RvcnModGhpcy5hLHRoaXMuYiksc3QuY3Jvc3MoZHQpLmxlbmd0aCgpKi41fWdldE1pZHBvaW50KHQpe3JldHVybiB0LmFkZFZlY3RvcnModGhpcy5hLHRoaXMuYikuYWRkKHRoaXMuYykubXVsdGlwbHlTY2FsYXIoMS8zKX1nZXROb3JtYWwodCl7cmV0dXJuIG50LmdldE5vcm1hbCh0aGlzLmEsdGhpcy5iLHRoaXMuYyx0KX1nZXRQbGFuZSh0KXtyZXR1cm4gdC5zZXRGcm9tQ29wbGFuYXJQb2ludHModGhpcy5hLHRoaXMuYix0aGlzLmMpfWdldEJhcnljb29yZCh0LGUpe3JldHVybiBudC5nZXRCYXJ5Y29vcmQodCx0aGlzLmEsdGhpcy5iLHRoaXMuYyxlKX1nZXRJbnRlcnBvbGF0aW9uKHQsZSxpLHMsbil7cmV0dXJuIG50LmdldEludGVycG9sYXRpb24odCx0aGlzLmEsdGhpcy5iLHRoaXMuYyxlLGkscyxuKX1jb250YWluc1BvaW50KHQpe3JldHVybiBudC5jb250YWluc1BvaW50KHQsdGhpcy5hLHRoaXMuYix0aGlzLmMpfWlzRnJvbnRGYWNpbmcodCl7cmV0dXJuIG50LmlzRnJvbnRGYWNpbmcodGhpcy5hLHRoaXMuYix0aGlzLmMsdCl9aW50ZXJzZWN0c0JveCh0KXtyZXR1cm4gdC5pbnRlcnNlY3RzVHJpYW5nbGUodGhpcyl9Y2xvc2VzdFBvaW50VG9Qb2ludCh0LGUpe2NvbnN0IGk9dGhpcy5hLHM9dGhpcy5iLG49dGhpcy5jO2xldCByLGE7SXQuc3ViVmVjdG9ycyhzLGkpLER0LnN1YlZlY3RvcnMobixpKSxLZS5zdWJWZWN0b3JzKHQsaSk7Y29uc3Qgbz1JdC5kb3QoS2UpLGg9RHQuZG90KEtlKTtpZihvPD0wJiZoPD0wKXJldHVybiBlLmNvcHkoaSk7dGkuc3ViVmVjdG9ycyh0LHMpO2NvbnN0IGM9SXQuZG90KHRpKSxmPUR0LmRvdCh0aSk7aWYoYz49MCYmZjw9YylyZXR1cm4gZS5jb3B5KHMpO2NvbnN0IGw9bypmLWMqaDtpZihsPD0wJiZvPj0wJiZjPD0wKXJldHVybiByPW8vKG8tYyksZS5jb3B5KGkpLmFkZFNjYWxlZFZlY3RvcihJdCxyKTtlaS5zdWJWZWN0b3JzKHQsbik7Y29uc3QgZD1JdC5kb3QoZWkpLHA9RHQuZG90KGVpKTtpZihwPj0wJiZkPD1wKXJldHVybiBlLmNvcHkobik7Y29uc3QgeT1kKmgtbypwO2lmKHk8PTAmJmg+PTAmJnA8PTApcmV0dXJuIGE9aC8oaC1wKSxlLmNvcHkoaSkuYWRkU2NhbGVkVmVjdG9yKER0LGEpO2NvbnN0IHg9YypwLWQqZjtpZih4PD0wJiZmLWM+PTAmJmQtcD49MClyZXR1cm4gRGkuc3ViVmVjdG9ycyhuLHMpLGE9KGYtYykvKGYtYysoZC1wKSksZS5jb3B5KHMpLmFkZFNjYWxlZFZlY3RvcihEaSxhKTtjb25zdCBtPTEvKHgreStsKTtyZXR1cm4gcj15Km0sYT1sKm0sZS5jb3B5KGkpLmFkZFNjYWxlZFZlY3RvcihJdCxyKS5hZGRTY2FsZWRWZWN0b3IoRHQsYSl9ZXF1YWxzKHQpe3JldHVybiB0LmEuZXF1YWxzKHRoaXMuYSkmJnQuYi5lcXVhbHModGhpcy5iKSYmdC5jLmVxdWFscyh0aGlzLmMpfX1jb25zdCBJPW5ldyBBLGJlPW5ldyB2O2NsYXNzIGN0e2NvbnN0cnVjdG9yKHQsZSxpPSExKXtpZihBcnJheS5pc0FycmF5KHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIlRIUkVFLkJ1ZmZlckF0dHJpYnV0ZTogYXJyYXkgc2hvdWxkIGJlIGEgVHlwZWQgQXJyYXkuIik7dGhpcy5pc0J1ZmZlckF0dHJpYnV0ZT0hMCx0aGlzLm5hbWU9IiIsdGhpcy5hcnJheT10LHRoaXMuaXRlbVNpemU9ZSx0aGlzLmNvdW50PXQhPT12b2lkIDA/dC5sZW5ndGgvZTowLHRoaXMubm9ybWFsaXplZD1pLHRoaXMudXNhZ2U9MzUwNDQsdGhpcy5fdXBkYXRlUmFuZ2U9e29mZnNldDowLGNvdW50Oi0xfSx0aGlzLnVwZGF0ZVJhbmdlcz1bXSx0aGlzLmdwdVR5cGU9MTAxNSx0aGlzLnZlcnNpb249MH1vblVwbG9hZENhbGxiYWNrKCl7fXNldCBuZWVkc1VwZGF0ZSh0KXt0PT09ITAmJnRoaXMudmVyc2lvbisrfWdldCB1cGRhdGVSYW5nZSgpe3JldHVybiBycygiVEhSRUUuQnVmZmVyQXR0cmlidXRlOiB1cGRhdGVSYW5nZSgpIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiByMTY5LiBVc2UgYWRkVXBkYXRlUmFuZ2UoKSBpbnN0ZWFkLiIpLHRoaXMuX3VwZGF0ZVJhbmdlfXNldFVzYWdlKHQpe3JldHVybiB0aGlzLnVzYWdlPXQsdGhpc31hZGRVcGRhdGVSYW5nZSh0LGUpe3RoaXMudXBkYXRlUmFuZ2VzLnB1c2goe3N0YXJ0OnQsY291bnQ6ZX0pfWNsZWFyVXBkYXRlUmFuZ2VzKCl7dGhpcy51cGRhdGVSYW5nZXMubGVuZ3RoPTB9Y29weSh0KXtyZXR1cm4gdGhpcy5uYW1lPXQubmFtZSx0aGlzLmFycmF5PW5ldyB0LmFycmF5LmNvbnN0cnVjdG9yKHQuYXJyYXkpLHRoaXMuaXRlbVNpemU9dC5pdGVtU2l6ZSx0aGlzLmNvdW50PXQuY291bnQsdGhpcy5ub3JtYWxpemVkPXQubm9ybWFsaXplZCx0aGlzLnVzYWdlPXQudXNhZ2UsdGhpcy5ncHVUeXBlPXQuZ3B1VHlwZSx0aGlzfWNvcHlBdCh0LGUsaSl7dCo9dGhpcy5pdGVtU2l6ZSxpKj1lLml0ZW1TaXplO2ZvcihsZXQgcz0wLG49dGhpcy5pdGVtU2l6ZTtzPG47cysrKXRoaXMuYXJyYXlbdCtzXT1lLmFycmF5W2krc107cmV0dXJuIHRoaXN9Y29weUFycmF5KHQpe3JldHVybiB0aGlzLmFycmF5LnNldCh0KSx0aGlzfWFwcGx5TWF0cml4Myh0KXtpZih0aGlzLml0ZW1TaXplPT09Milmb3IobGV0IGU9MCxpPXRoaXMuY291bnQ7ZTxpO2UrKyliZS5mcm9tQnVmZmVyQXR0cmlidXRlKHRoaXMsZSksYmUuYXBwbHlNYXRyaXgzKHQpLHRoaXMuc2V0WFkoZSxiZS54LGJlLnkpO2Vsc2UgaWYodGhpcy5pdGVtU2l6ZT09PTMpZm9yKGxldCBlPTAsaT10aGlzLmNvdW50O2U8aTtlKyspSS5mcm9tQnVmZmVyQXR0cmlidXRlKHRoaXMsZSksSS5hcHBseU1hdHJpeDModCksdGhpcy5zZXRYWVooZSxJLngsSS55LEkueik7cmV0dXJuIHRoaXN9YXBwbHlNYXRyaXg0KHQpe2ZvcihsZXQgZT0wLGk9dGhpcy5jb3VudDtlPGk7ZSsrKUkuZnJvbUJ1ZmZlckF0dHJpYnV0ZSh0aGlzLGUpLEkuYXBwbHlNYXRyaXg0KHQpLHRoaXMuc2V0WFlaKGUsSS54LEkueSxJLnopO3JldHVybiB0aGlzfWFwcGx5Tm9ybWFsTWF0cml4KHQpe2ZvcihsZXQgZT0wLGk9dGhpcy5jb3VudDtlPGk7ZSsrKUkuZnJvbUJ1ZmZlckF0dHJpYnV0ZSh0aGlzLGUpLEkuYXBwbHlOb3JtYWxNYXRyaXgodCksdGhpcy5zZXRYWVooZSxJLngsSS55LEkueik7cmV0dXJuIHRoaXN9dHJhbnNmb3JtRGlyZWN0aW9uKHQpe2ZvcihsZXQgZT0wLGk9dGhpcy5jb3VudDtlPGk7ZSsrKUkuZnJvbUJ1ZmZlckF0dHJpYnV0ZSh0aGlzLGUpLEkudHJhbnNmb3JtRGlyZWN0aW9uKHQpLHRoaXMuc2V0WFlaKGUsSS54LEkueSxJLnopO3JldHVybiB0aGlzfXNldCh0LGU9MCl7cmV0dXJuIHRoaXMuYXJyYXkuc2V0KHQsZSksdGhpc31nZXRDb21wb25lbnQodCxlKXtsZXQgaT10aGlzLmFycmF5W3QqdGhpcy5pdGVtU2l6ZStlXTtyZXR1cm4gdGhpcy5ub3JtYWxpemVkJiYoaT1KdChpLHRoaXMuYXJyYXkpKSxpfXNldENvbXBvbmVudCh0LGUsaSl7cmV0dXJuIHRoaXMubm9ybWFsaXplZCYmKGk9TyhpLHRoaXMuYXJyYXkpKSx0aGlzLmFycmF5W3QqdGhpcy5pdGVtU2l6ZStlXT1pLHRoaXN9Z2V0WCh0KXtsZXQgZT10aGlzLmFycmF5W3QqdGhpcy5pdGVtU2l6ZV07cmV0dXJuIHRoaXMubm9ybWFsaXplZCYmKGU9SnQoZSx0aGlzLmFycmF5KSksZX1zZXRYKHQsZSl7cmV0dXJuIHRoaXMubm9ybWFsaXplZCYmKGU9TyhlLHRoaXMuYXJyYXkpKSx0aGlzLmFycmF5W3QqdGhpcy5pdGVtU2l6ZV09ZSx0aGlzfWdldFkodCl7bGV0IGU9dGhpcy5hcnJheVt0KnRoaXMuaXRlbVNpemUrMV07cmV0dXJuIHRoaXMubm9ybWFsaXplZCYmKGU9SnQoZSx0aGlzLmFycmF5KSksZX1zZXRZKHQsZSl7cmV0dXJuIHRoaXMubm9ybWFsaXplZCYmKGU9TyhlLHRoaXMuYXJyYXkpKSx0aGlzLmFycmF5W3QqdGhpcy5pdGVtU2l6ZSsxXT1lLHRoaXN9Z2V0Wih0KXtsZXQgZT10aGlzLmFycmF5W3QqdGhpcy5pdGVtU2l6ZSsyXTtyZXR1cm4gdGhpcy5ub3JtYWxpemVkJiYoZT1KdChlLHRoaXMuYXJyYXkpKSxlfXNldFoodCxlKXtyZXR1cm4gdGhpcy5ub3JtYWxpemVkJiYoZT1PKGUsdGhpcy5hcnJheSkpLHRoaXMuYXJyYXlbdCp0aGlzLml0ZW1TaXplKzJdPWUsdGhpc31nZXRXKHQpe2xldCBlPXRoaXMuYXJyYXlbdCp0aGlzLml0ZW1TaXplKzNdO3JldHVybiB0aGlzLm5vcm1hbGl6ZWQmJihlPUp0KGUsdGhpcy5hcnJheSkpLGV9c2V0Vyh0LGUpe3JldHVybiB0aGlzLm5vcm1hbGl6ZWQmJihlPU8oZSx0aGlzLmFycmF5KSksdGhpcy5hcnJheVt0KnRoaXMuaXRlbVNpemUrM109ZSx0aGlzfXNldFhZKHQsZSxpKXtyZXR1cm4gdCo9dGhpcy5pdGVtU2l6ZSx0aGlzLm5vcm1hbGl6ZWQmJihlPU8oZSx0aGlzLmFycmF5KSxpPU8oaSx0aGlzLmFycmF5KSksdGhpcy5hcnJheVt0KzBdPWUsdGhpcy5hcnJheVt0KzFdPWksdGhpc31zZXRYWVoodCxlLGkscyl7cmV0dXJuIHQqPXRoaXMuaXRlbVNpemUsdGhpcy5ub3JtYWxpemVkJiYoZT1PKGUsdGhpcy5hcnJheSksaT1PKGksdGhpcy5hcnJheSkscz1PKHMsdGhpcy5hcnJheSkpLHRoaXMuYXJyYXlbdCswXT1lLHRoaXMuYXJyYXlbdCsxXT1pLHRoaXMuYXJyYXlbdCsyXT1zLHRoaXN9c2V0WFlaVyh0LGUsaSxzLG4pe3JldHVybiB0Kj10aGlzLml0ZW1TaXplLHRoaXMubm9ybWFsaXplZCYmKGU9TyhlLHRoaXMuYXJyYXkpLGk9TyhpLHRoaXMuYXJyYXkpLHM9TyhzLHRoaXMuYXJyYXkpLG49TyhuLHRoaXMuYXJyYXkpKSx0aGlzLmFycmF5W3QrMF09ZSx0aGlzLmFycmF5W3QrMV09aSx0aGlzLmFycmF5W3QrMl09cyx0aGlzLmFycmF5W3QrM109bix0aGlzfW9uVXBsb2FkKHQpe3JldHVybiB0aGlzLm9uVXBsb2FkQ2FsbGJhY2s9dCx0aGlzfWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuYXJyYXksdGhpcy5pdGVtU2l6ZSkuY29weSh0aGlzKX10b0pTT04oKXtjb25zdCB0PXtpdGVtU2l6ZTp0aGlzLml0ZW1TaXplLHR5cGU6dGhpcy5hcnJheS5jb25zdHJ1Y3Rvci5uYW1lLGFycmF5OkFycmF5LmZyb20odGhpcy5hcnJheSksbm9ybWFsaXplZDp0aGlzLm5vcm1hbGl6ZWR9O3JldHVybiB0aGlzLm5hbWUhPT0iIiYmKHQubmFtZT10aGlzLm5hbWUpLHRoaXMudXNhZ2UhPT0zNTA0NCYmKHQudXNhZ2U9dGhpcy51c2FnZSksdH19Y2xhc3MgYnMgZXh0ZW5kcyBjdHtjb25zdHJ1Y3Rvcih0LGUsaSl7c3VwZXIobmV3IFVpbnQxNkFycmF5KHQpLGUsaSl9fWNsYXNzIHdzIGV4dGVuZHMgY3R7Y29uc3RydWN0b3IodCxlLGkpe3N1cGVyKG5ldyBVaW50MzJBcnJheSh0KSxlLGkpfX1jbGFzcyBfcyBleHRlbmRzIGN0e2NvbnN0cnVjdG9yKHQsZSxpKXtzdXBlcihuZXcgRmxvYXQzMkFycmF5KHQpLGUsaSl9fWxldCBNcz0wO2NvbnN0IEc9bmV3IE4saWk9bmV3IE10LFZ0PW5ldyBBLEg9bmV3IFcsaWU9bmV3IFcsVj1uZXcgQTtjbGFzcyBzaSBleHRlbmRzIFhle2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLmlzQnVmZmVyR2VvbWV0cnk9ITAsT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsImlkIix7dmFsdWU6TXMrK30pLHRoaXMudXVpZD1mZSgpLHRoaXMubmFtZT0iIix0aGlzLnR5cGU9IkJ1ZmZlckdlb21ldHJ5Iix0aGlzLmluZGV4PW51bGwsdGhpcy5hdHRyaWJ1dGVzPXt9LHRoaXMubW9ycGhBdHRyaWJ1dGVzPXt9LHRoaXMubW9ycGhUYXJnZXRzUmVsYXRpdmU9ITEsdGhpcy5ncm91cHM9W10sdGhpcy5ib3VuZGluZ0JveD1udWxsLHRoaXMuYm91bmRpbmdTcGhlcmU9bnVsbCx0aGlzLmRyYXdSYW5nZT17c3RhcnQ6MCxjb3VudDoxLzB9LHRoaXMudXNlckRhdGE9e319Z2V0SW5kZXgoKXtyZXR1cm4gdGhpcy5pbmRleH1zZXRJbmRleCh0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT90aGlzLmluZGV4PW5ldyhucyh0KT93czpicykodCwxKTp0aGlzLmluZGV4PXQsdGhpc31nZXRBdHRyaWJ1dGUodCl7cmV0dXJuIHRoaXMuYXR0cmlidXRlc1t0XX1zZXRBdHRyaWJ1dGUodCxlKXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzW3RdPWUsdGhpc31kZWxldGVBdHRyaWJ1dGUodCl7cmV0dXJuIGRlbGV0ZSB0aGlzLmF0dHJpYnV0ZXNbdF0sdGhpc31oYXNBdHRyaWJ1dGUodCl7cmV0dXJuIHRoaXMuYXR0cmlidXRlc1t0XSE9PXZvaWQgMH1hZGRHcm91cCh0LGUsaT0wKXt0aGlzLmdyb3Vwcy5wdXNoKHtzdGFydDp0LGNvdW50OmUsbWF0ZXJpYWxJbmRleDppfSl9Y2xlYXJHcm91cHMoKXt0aGlzLmdyb3Vwcz1bXX1zZXREcmF3UmFuZ2UodCxlKXt0aGlzLmRyYXdSYW5nZS5zdGFydD10LHRoaXMuZHJhd1JhbmdlLmNvdW50PWV9YXBwbHlNYXRyaXg0KHQpe2NvbnN0IGU9dGhpcy5hdHRyaWJ1dGVzLnBvc2l0aW9uO2UhPT12b2lkIDAmJihlLmFwcGx5TWF0cml4NCh0KSxlLm5lZWRzVXBkYXRlPSEwKTtjb25zdCBpPXRoaXMuYXR0cmlidXRlcy5ub3JtYWw7aWYoaSE9PXZvaWQgMCl7Y29uc3Qgbj1uZXcgVHQoKS5nZXROb3JtYWxNYXRyaXgodCk7aS5hcHBseU5vcm1hbE1hdHJpeChuKSxpLm5lZWRzVXBkYXRlPSEwfWNvbnN0IHM9dGhpcy5hdHRyaWJ1dGVzLnRhbmdlbnQ7cmV0dXJuIHMhPT12b2lkIDAmJihzLnRyYW5zZm9ybURpcmVjdGlvbih0KSxzLm5lZWRzVXBkYXRlPSEwKSx0aGlzLmJvdW5kaW5nQm94IT09bnVsbCYmdGhpcy5jb21wdXRlQm91bmRpbmdCb3goKSx0aGlzLmJvdW5kaW5nU3BoZXJlIT09bnVsbCYmdGhpcy5jb21wdXRlQm91bmRpbmdTcGhlcmUoKSx0aGlzfWFwcGx5UXVhdGVybmlvbih0KXtyZXR1cm4gRy5tYWtlUm90YXRpb25Gcm9tUXVhdGVybmlvbih0KSx0aGlzLmFwcGx5TWF0cml4NChHKSx0aGlzfXJvdGF0ZVgodCl7cmV0dXJuIEcubWFrZVJvdGF0aW9uWCh0KSx0aGlzLmFwcGx5TWF0cml4NChHKSx0aGlzfXJvdGF0ZVkodCl7cmV0dXJuIEcubWFrZVJvdGF0aW9uWSh0KSx0aGlzLmFwcGx5TWF0cml4NChHKSx0aGlzfXJvdGF0ZVoodCl7cmV0dXJuIEcubWFrZVJvdGF0aW9uWih0KSx0aGlzLmFwcGx5TWF0cml4NChHKSx0aGlzfXRyYW5zbGF0ZSh0LGUsaSl7cmV0dXJuIEcubWFrZVRyYW5zbGF0aW9uKHQsZSxpKSx0aGlzLmFwcGx5TWF0cml4NChHKSx0aGlzfXNjYWxlKHQsZSxpKXtyZXR1cm4gRy5tYWtlU2NhbGUodCxlLGkpLHRoaXMuYXBwbHlNYXRyaXg0KEcpLHRoaXN9bG9va0F0KHQpe3JldHVybiBpaS5sb29rQXQodCksaWkudXBkYXRlTWF0cml4KCksdGhpcy5hcHBseU1hdHJpeDQoaWkubWF0cml4KSx0aGlzfWNlbnRlcigpe3JldHVybiB0aGlzLmNvbXB1dGVCb3VuZGluZ0JveCgpLHRoaXMuYm91bmRpbmdCb3guZ2V0Q2VudGVyKFZ0KS5uZWdhdGUoKSx0aGlzLnRyYW5zbGF0ZShWdC54LFZ0LnksVnQueiksdGhpc31zZXRGcm9tUG9pbnRzKHQpe2NvbnN0IGU9W107Zm9yKGxldCBpPTAscz10Lmxlbmd0aDtpPHM7aSsrKXtjb25zdCBuPXRbaV07ZS5wdXNoKG4ueCxuLnksbi56fHwwKX1yZXR1cm4gdGhpcy5zZXRBdHRyaWJ1dGUoInBvc2l0aW9uIixuZXcgX3MoZSwzKSksdGhpc31jb21wdXRlQm91bmRpbmdCb3goKXt0aGlzLmJvdW5kaW5nQm94PT09bnVsbCYmKHRoaXMuYm91bmRpbmdCb3g9bmV3IFcpO2NvbnN0IHQ9dGhpcy5hdHRyaWJ1dGVzLnBvc2l0aW9uLGU9dGhpcy5tb3JwaEF0dHJpYnV0ZXMucG9zaXRpb247aWYodCYmdC5pc0dMQnVmZmVyQXR0cmlidXRlKXtjb25zb2xlLmVycm9yKCJUSFJFRS5CdWZmZXJHZW9tZXRyeS5jb21wdXRlQm91bmRpbmdCb3goKTogR0xCdWZmZXJBdHRyaWJ1dGUgcmVxdWlyZXMgYSBtYW51YWwgYm91bmRpbmcgYm94LiIsdGhpcyksdGhpcy5ib3VuZGluZ0JveC5zZXQobmV3IEEoLTEvMCwtMS8wLC0xLzApLG5ldyBBKDEvMCwxLzAsMS8wKSk7cmV0dXJufWlmKHQhPT12b2lkIDApe2lmKHRoaXMuYm91bmRpbmdCb3guc2V0RnJvbUJ1ZmZlckF0dHJpYnV0ZSh0KSxlKWZvcihsZXQgaT0wLHM9ZS5sZW5ndGg7aTxzO2krKyl7Y29uc3Qgbj1lW2ldO0guc2V0RnJvbUJ1ZmZlckF0dHJpYnV0ZShuKSx0aGlzLm1vcnBoVGFyZ2V0c1JlbGF0aXZlPyhWLmFkZFZlY3RvcnModGhpcy5ib3VuZGluZ0JveC5taW4sSC5taW4pLHRoaXMuYm91bmRpbmdCb3guZXhwYW5kQnlQb2ludChWKSxWLmFkZFZlY3RvcnModGhpcy5ib3VuZGluZ0JveC5tYXgsSC5tYXgpLHRoaXMuYm91bmRpbmdCb3guZXhwYW5kQnlQb2ludChWKSk6KHRoaXMuYm91bmRpbmdCb3guZXhwYW5kQnlQb2ludChILm1pbiksdGhpcy5ib3VuZGluZ0JveC5leHBhbmRCeVBvaW50KEgubWF4KSl9fWVsc2UgdGhpcy5ib3VuZGluZ0JveC5tYWtlRW1wdHkoKTsoaXNOYU4odGhpcy5ib3VuZGluZ0JveC5taW4ueCl8fGlzTmFOKHRoaXMuYm91bmRpbmdCb3gubWluLnkpfHxpc05hTih0aGlzLmJvdW5kaW5nQm94Lm1pbi56KSkmJmNvbnNvbGUuZXJyb3IoJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5LmNvbXB1dGVCb3VuZGluZ0JveCgpOiBDb21wdXRlZCBtaW4vbWF4IGhhdmUgTmFOIHZhbHVlcy4gVGhlICJwb3NpdGlvbiIgYXR0cmlidXRlIGlzIGxpa2VseSB0byBoYXZlIE5hTiB2YWx1ZXMuJyx0aGlzKX1jb21wdXRlQm91bmRpbmdTcGhlcmUoKXt0aGlzLmJvdW5kaW5nU3BoZXJlPT09bnVsbCYmKHRoaXMuYm91bmRpbmdTcGhlcmU9bmV3IEVpKTtjb25zdCB0PXRoaXMuYXR0cmlidXRlcy5wb3NpdGlvbixlPXRoaXMubW9ycGhBdHRyaWJ1dGVzLnBvc2l0aW9uO2lmKHQmJnQuaXNHTEJ1ZmZlckF0dHJpYnV0ZSl7Y29uc29sZS5lcnJvcigiVEhSRUUuQnVmZmVyR2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCk6IEdMQnVmZmVyQXR0cmlidXRlIHJlcXVpcmVzIGEgbWFudWFsIGJvdW5kaW5nIHNwaGVyZS4iLHRoaXMpLHRoaXMuYm91bmRpbmdTcGhlcmUuc2V0KG5ldyBBLDEvMCk7cmV0dXJufWlmKHQpe2NvbnN0IGk9dGhpcy5ib3VuZGluZ1NwaGVyZS5jZW50ZXI7aWYoSC5zZXRGcm9tQnVmZmVyQXR0cmlidXRlKHQpLGUpZm9yKGxldCBuPTAscj1lLmxlbmd0aDtuPHI7bisrKXtjb25zdCBhPWVbbl07aWUuc2V0RnJvbUJ1ZmZlckF0dHJpYnV0ZShhKSx0aGlzLm1vcnBoVGFyZ2V0c1JlbGF0aXZlPyhWLmFkZFZlY3RvcnMoSC5taW4saWUubWluKSxILmV4cGFuZEJ5UG9pbnQoViksVi5hZGRWZWN0b3JzKEgubWF4LGllLm1heCksSC5leHBhbmRCeVBvaW50KFYpKTooSC5leHBhbmRCeVBvaW50KGllLm1pbiksSC5leHBhbmRCeVBvaW50KGllLm1heCkpfUguZ2V0Q2VudGVyKGkpO2xldCBzPTA7Zm9yKGxldCBuPTAscj10LmNvdW50O248cjtuKyspVi5mcm9tQnVmZmVyQXR0cmlidXRlKHQsbikscz1NYXRoLm1heChzLGkuZGlzdGFuY2VUb1NxdWFyZWQoVikpO2lmKGUpZm9yKGxldCBuPTAscj1lLmxlbmd0aDtuPHI7bisrKXtjb25zdCBhPWVbbl0sbz10aGlzLm1vcnBoVGFyZ2V0c1JlbGF0aXZlO2ZvcihsZXQgaD0wLGM9YS5jb3VudDtoPGM7aCsrKVYuZnJvbUJ1ZmZlckF0dHJpYnV0ZShhLGgpLG8mJihWdC5mcm9tQnVmZmVyQXR0cmlidXRlKHQsaCksVi5hZGQoVnQpKSxzPU1hdGgubWF4KHMsaS5kaXN0YW5jZVRvU3F1YXJlZChWKSl9dGhpcy5ib3VuZGluZ1NwaGVyZS5yYWRpdXM9TWF0aC5zcXJ0KHMpLGlzTmFOKHRoaXMuYm91bmRpbmdTcGhlcmUucmFkaXVzKSYmY29uc29sZS5lcnJvcignVEhSRUUuQnVmZmVyR2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCk6IENvbXB1dGVkIHJhZGl1cyBpcyBOYU4uIFRoZSAicG9zaXRpb24iIGF0dHJpYnV0ZSBpcyBsaWtlbHkgdG8gaGF2ZSBOYU4gdmFsdWVzLicsdGhpcyl9fWNvbXB1dGVUYW5nZW50cygpe2NvbnN0IHQ9dGhpcy5pbmRleCxlPXRoaXMuYXR0cmlidXRlcztpZih0PT09bnVsbHx8ZS5wb3NpdGlvbj09PXZvaWQgMHx8ZS5ub3JtYWw9PT12b2lkIDB8fGUudXY9PT12b2lkIDApe2NvbnNvbGUuZXJyb3IoIlRIUkVFLkJ1ZmZlckdlb21ldHJ5OiAuY29tcHV0ZVRhbmdlbnRzKCkgZmFpbGVkLiBNaXNzaW5nIHJlcXVpcmVkIGF0dHJpYnV0ZXMgKGluZGV4LCBwb3NpdGlvbiwgbm9ybWFsIG9yIHV2KSIpO3JldHVybn1jb25zdCBpPWUucG9zaXRpb24scz1lLm5vcm1hbCxuPWUudXY7dGhpcy5oYXNBdHRyaWJ1dGUoInRhbmdlbnQiKT09PSExJiZ0aGlzLnNldEF0dHJpYnV0ZSgidGFuZ2VudCIsbmV3IGN0KG5ldyBGbG9hdDMyQXJyYXkoNCppLmNvdW50KSw0KSk7Y29uc3Qgcj10aGlzLmdldEF0dHJpYnV0ZSgidGFuZ2VudCIpLGE9W10sbz1bXTtmb3IobGV0IFM9MDtTPGkuY291bnQ7UysrKWFbU109bmV3IEEsb1tTXT1uZXcgQTtjb25zdCBoPW5ldyBBLGM9bmV3IEEsZj1uZXcgQSxsPW5ldyB2LGQ9bmV3IHYscD1uZXcgdix5PW5ldyBBLHg9bmV3IEE7ZnVuY3Rpb24gbShTLEIsVCl7aC5mcm9tQnVmZmVyQXR0cmlidXRlKGksUyksYy5mcm9tQnVmZmVyQXR0cmlidXRlKGksQiksZi5mcm9tQnVmZmVyQXR0cmlidXRlKGksVCksbC5mcm9tQnVmZmVyQXR0cmlidXRlKG4sUyksZC5mcm9tQnVmZmVyQXR0cmlidXRlKG4sQikscC5mcm9tQnVmZmVyQXR0cmlidXRlKG4sVCksYy5zdWIoaCksZi5zdWIoaCksZC5zdWIobCkscC5zdWIobCk7Y29uc3QgQz0xLyhkLngqcC55LXAueCpkLnkpO2lzRmluaXRlKEMpJiYoeS5jb3B5KGMpLm11bHRpcGx5U2NhbGFyKHAueSkuYWRkU2NhbGVkVmVjdG9yKGYsLWQueSkubXVsdGlwbHlTY2FsYXIoQykseC5jb3B5KGYpLm11bHRpcGx5U2NhbGFyKGQueCkuYWRkU2NhbGVkVmVjdG9yKGMsLXAueCkubXVsdGlwbHlTY2FsYXIoQyksYVtTXS5hZGQoeSksYVtCXS5hZGQoeSksYVtUXS5hZGQoeSksb1tTXS5hZGQoeCksb1tCXS5hZGQoeCksb1tUXS5hZGQoeCkpfWxldCBnPXRoaXMuZ3JvdXBzO2cubGVuZ3RoPT09MCYmKGc9W3tzdGFydDowLGNvdW50OnQuY291bnR9XSk7Zm9yKGxldCBTPTAsQj1nLmxlbmd0aDtTPEI7KytTKXtjb25zdCBUPWdbU10sQz1ULnN0YXJ0LFA9VC5jb3VudDtmb3IobGV0IEU9QyxGPUMrUDtFPEY7RSs9MyltKHQuZ2V0WChFKzApLHQuZ2V0WChFKzEpLHQuZ2V0WChFKzIpKX1jb25zdCB3PW5ldyBBLE09bmV3IEEsYj1uZXcgQSx6PW5ldyBBO2Z1bmN0aW9uIF8oUyl7Yi5mcm9tQnVmZmVyQXR0cmlidXRlKHMsUyksei5jb3B5KGIpO2NvbnN0IEI9YVtTXTt3LmNvcHkoQiksdy5zdWIoYi5tdWx0aXBseVNjYWxhcihiLmRvdChCKSkpLm5vcm1hbGl6ZSgpLE0uY3Jvc3NWZWN0b3JzKHosQik7Y29uc3QgQz1NLmRvdChvW1NdKTwwPy0xOjE7ci5zZXRYWVpXKFMsdy54LHcueSx3LnosQyl9Zm9yKGxldCBTPTAsQj1nLmxlbmd0aDtTPEI7KytTKXtjb25zdCBUPWdbU10sQz1ULnN0YXJ0LFA9VC5jb3VudDtmb3IobGV0IEU9QyxGPUMrUDtFPEY7RSs9MylfKHQuZ2V0WChFKzApKSxfKHQuZ2V0WChFKzEpKSxfKHQuZ2V0WChFKzIpKX19Y29tcHV0ZVZlcnRleE5vcm1hbHMoKXtjb25zdCB0PXRoaXMuaW5kZXgsZT10aGlzLmdldEF0dHJpYnV0ZSgicG9zaXRpb24iKTtpZihlIT09dm9pZCAwKXtsZXQgaT10aGlzLmdldEF0dHJpYnV0ZSgibm9ybWFsIik7aWYoaT09PXZvaWQgMClpPW5ldyBjdChuZXcgRmxvYXQzMkFycmF5KGUuY291bnQqMyksMyksdGhpcy5zZXRBdHRyaWJ1dGUoIm5vcm1hbCIsaSk7ZWxzZSBmb3IobGV0IGw9MCxkPWkuY291bnQ7bDxkO2wrKylpLnNldFhZWihsLDAsMCwwKTtjb25zdCBzPW5ldyBBLG49bmV3IEEscj1uZXcgQSxhPW5ldyBBLG89bmV3IEEsaD1uZXcgQSxjPW5ldyBBLGY9bmV3IEE7aWYodClmb3IobGV0IGw9MCxkPXQuY291bnQ7bDxkO2wrPTMpe2NvbnN0IHA9dC5nZXRYKGwrMCkseT10LmdldFgobCsxKSx4PXQuZ2V0WChsKzIpO3MuZnJvbUJ1ZmZlckF0dHJpYnV0ZShlLHApLG4uZnJvbUJ1ZmZlckF0dHJpYnV0ZShlLHkpLHIuZnJvbUJ1ZmZlckF0dHJpYnV0ZShlLHgpLGMuc3ViVmVjdG9ycyhyLG4pLGYuc3ViVmVjdG9ycyhzLG4pLGMuY3Jvc3MoZiksYS5mcm9tQnVmZmVyQXR0cmlidXRlKGkscCksby5mcm9tQnVmZmVyQXR0cmlidXRlKGkseSksaC5mcm9tQnVmZmVyQXR0cmlidXRlKGkseCksYS5hZGQoYyksby5hZGQoYyksaC5hZGQoYyksaS5zZXRYWVoocCxhLngsYS55LGEueiksaS5zZXRYWVooeSxvLngsby55LG8ueiksaS5zZXRYWVooeCxoLngsaC55LGgueil9ZWxzZSBmb3IobGV0IGw9MCxkPWUuY291bnQ7bDxkO2wrPTMpcy5mcm9tQnVmZmVyQXR0cmlidXRlKGUsbCswKSxuLmZyb21CdWZmZXJBdHRyaWJ1dGUoZSxsKzEpLHIuZnJvbUJ1ZmZlckF0dHJpYnV0ZShlLGwrMiksYy5zdWJWZWN0b3JzKHIsbiksZi5zdWJWZWN0b3JzKHMsbiksYy5jcm9zcyhmKSxpLnNldFhZWihsKzAsYy54LGMueSxjLnopLGkuc2V0WFlaKGwrMSxjLngsYy55LGMueiksaS5zZXRYWVoobCsyLGMueCxjLnksYy56KTt0aGlzLm5vcm1hbGl6ZU5vcm1hbHMoKSxpLm5lZWRzVXBkYXRlPSEwfX1ub3JtYWxpemVOb3JtYWxzKCl7Y29uc3QgdD10aGlzLmF0dHJpYnV0ZXMubm9ybWFsO2ZvcihsZXQgZT0wLGk9dC5jb3VudDtlPGk7ZSsrKVYuZnJvbUJ1ZmZlckF0dHJpYnV0ZSh0LGUpLFYubm9ybWFsaXplKCksdC5zZXRYWVooZSxWLngsVi55LFYueil9dG9Ob25JbmRleGVkKCl7ZnVuY3Rpb24gdChhLG8pe2NvbnN0IGg9YS5hcnJheSxjPWEuaXRlbVNpemUsZj1hLm5vcm1hbGl6ZWQsbD1uZXcgaC5jb25zdHJ1Y3RvcihvLmxlbmd0aCpjKTtsZXQgZD0wLHA9MDtmb3IobGV0IHk9MCx4PW8ubGVuZ3RoO3k8eDt5Kyspe2EuaXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZT9kPW9beV0qYS5kYXRhLnN0cmlkZSthLm9mZnNldDpkPW9beV0qYztmb3IobGV0IG09MDttPGM7bSsrKWxbcCsrXT1oW2QrK119cmV0dXJuIG5ldyBjdChsLGMsZil9aWYodGhpcy5pbmRleD09PW51bGwpcmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuQnVmZmVyR2VvbWV0cnkudG9Ob25JbmRleGVkKCk6IEJ1ZmZlckdlb21ldHJ5IGlzIGFscmVhZHkgbm9uLWluZGV4ZWQuIiksdGhpcztjb25zdCBlPW5ldyBzaSxpPXRoaXMuaW5kZXguYXJyYXkscz10aGlzLmF0dHJpYnV0ZXM7Zm9yKGNvbnN0IGEgaW4gcyl7Y29uc3Qgbz1zW2FdLGg9dChvLGkpO2Uuc2V0QXR0cmlidXRlKGEsaCl9Y29uc3Qgbj10aGlzLm1vcnBoQXR0cmlidXRlcztmb3IoY29uc3QgYSBpbiBuKXtjb25zdCBvPVtdLGg9blthXTtmb3IobGV0IGM9MCxmPWgubGVuZ3RoO2M8ZjtjKyspe2NvbnN0IGw9aFtjXSxkPXQobCxpKTtvLnB1c2goZCl9ZS5tb3JwaEF0dHJpYnV0ZXNbYV09b31lLm1vcnBoVGFyZ2V0c1JlbGF0aXZlPXRoaXMubW9ycGhUYXJnZXRzUmVsYXRpdmU7Y29uc3Qgcj10aGlzLmdyb3Vwcztmb3IobGV0IGE9MCxvPXIubGVuZ3RoO2E8bzthKyspe2NvbnN0IGg9clthXTtlLmFkZEdyb3VwKGguc3RhcnQsaC5jb3VudCxoLm1hdGVyaWFsSW5kZXgpfXJldHVybiBlfXRvSlNPTigpe2NvbnN0IHQ9e21ldGFkYXRhOnt2ZXJzaW9uOjQuNix0eXBlOiJCdWZmZXJHZW9tZXRyeSIsZ2VuZXJhdG9yOiJCdWZmZXJHZW9tZXRyeS50b0pTT04ifX07aWYodC51dWlkPXRoaXMudXVpZCx0LnR5cGU9dGhpcy50eXBlLHRoaXMubmFtZSE9PSIiJiYodC5uYW1lPXRoaXMubmFtZSksT2JqZWN0LmtleXModGhpcy51c2VyRGF0YSkubGVuZ3RoPjAmJih0LnVzZXJEYXRhPXRoaXMudXNlckRhdGEpLHRoaXMucGFyYW1ldGVycyE9PXZvaWQgMCl7Y29uc3Qgbz10aGlzLnBhcmFtZXRlcnM7Zm9yKGNvbnN0IGggaW4gbylvW2hdIT09dm9pZCAwJiYodFtoXT1vW2hdKTtyZXR1cm4gdH10LmRhdGE9e2F0dHJpYnV0ZXM6e319O2NvbnN0IGU9dGhpcy5pbmRleDtlIT09bnVsbCYmKHQuZGF0YS5pbmRleD17dHlwZTplLmFycmF5LmNvbnN0cnVjdG9yLm5hbWUsYXJyYXk6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZS5hcnJheSl9KTtjb25zdCBpPXRoaXMuYXR0cmlidXRlcztmb3IoY29uc3QgbyBpbiBpKXtjb25zdCBoPWlbb107dC5kYXRhLmF0dHJpYnV0ZXNbb109aC50b0pTT04odC5kYXRhKX1jb25zdCBzPXt9O2xldCBuPSExO2Zvcihjb25zdCBvIGluIHRoaXMubW9ycGhBdHRyaWJ1dGVzKXtjb25zdCBoPXRoaXMubW9ycGhBdHRyaWJ1dGVzW29dLGM9W107Zm9yKGxldCBmPTAsbD1oLmxlbmd0aDtmPGw7ZisrKXtjb25zdCBkPWhbZl07Yy5wdXNoKGQudG9KU09OKHQuZGF0YSkpfWMubGVuZ3RoPjAmJihzW29dPWMsbj0hMCl9biYmKHQuZGF0YS5tb3JwaEF0dHJpYnV0ZXM9cyx0LmRhdGEubW9ycGhUYXJnZXRzUmVsYXRpdmU9dGhpcy5tb3JwaFRhcmdldHNSZWxhdGl2ZSk7Y29uc3Qgcj10aGlzLmdyb3VwcztyLmxlbmd0aD4wJiYodC5kYXRhLmdyb3Vwcz1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHIpKSk7Y29uc3QgYT10aGlzLmJvdW5kaW5nU3BoZXJlO3JldHVybiBhIT09bnVsbCYmKHQuZGF0YS5ib3VuZGluZ1NwaGVyZT17Y2VudGVyOmEuY2VudGVyLnRvQXJyYXkoKSxyYWRpdXM6YS5yYWRpdXN9KSx0fWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSh0aGlzKX1jb3B5KHQpe3RoaXMuaW5kZXg9bnVsbCx0aGlzLmF0dHJpYnV0ZXM9e30sdGhpcy5tb3JwaEF0dHJpYnV0ZXM9e30sdGhpcy5ncm91cHM9W10sdGhpcy5ib3VuZGluZ0JveD1udWxsLHRoaXMuYm91bmRpbmdTcGhlcmU9bnVsbDtjb25zdCBlPXt9O3RoaXMubmFtZT10Lm5hbWU7Y29uc3QgaT10LmluZGV4O2khPT1udWxsJiZ0aGlzLnNldEluZGV4KGkuY2xvbmUoZSkpO2NvbnN0IHM9dC5hdHRyaWJ1dGVzO2Zvcihjb25zdCBoIGluIHMpe2NvbnN0IGM9c1toXTt0aGlzLnNldEF0dHJpYnV0ZShoLGMuY2xvbmUoZSkpfWNvbnN0IG49dC5tb3JwaEF0dHJpYnV0ZXM7Zm9yKGNvbnN0IGggaW4gbil7Y29uc3QgYz1bXSxmPW5baF07Zm9yKGxldCBsPTAsZD1mLmxlbmd0aDtsPGQ7bCsrKWMucHVzaChmW2xdLmNsb25lKGUpKTt0aGlzLm1vcnBoQXR0cmlidXRlc1toXT1jfXRoaXMubW9ycGhUYXJnZXRzUmVsYXRpdmU9dC5tb3JwaFRhcmdldHNSZWxhdGl2ZTtjb25zdCByPXQuZ3JvdXBzO2ZvcihsZXQgaD0wLGM9ci5sZW5ndGg7aDxjO2grKyl7Y29uc3QgZj1yW2hdO3RoaXMuYWRkR3JvdXAoZi5zdGFydCxmLmNvdW50LGYubWF0ZXJpYWxJbmRleCl9Y29uc3QgYT10LmJvdW5kaW5nQm94O2EhPT1udWxsJiYodGhpcy5ib3VuZGluZ0JveD1hLmNsb25lKCkpO2NvbnN0IG89dC5ib3VuZGluZ1NwaGVyZTtyZXR1cm4gbyE9PW51bGwmJih0aGlzLmJvdW5kaW5nU3BoZXJlPW8uY2xvbmUoKSksdGhpcy5kcmF3UmFuZ2Uuc3RhcnQ9dC5kcmF3UmFuZ2Uuc3RhcnQsdGhpcy5kcmF3UmFuZ2UuY291bnQ9dC5kcmF3UmFuZ2UuY291bnQsdGhpcy51c2VyRGF0YT10LnVzZXJEYXRhLHRoaXN9ZGlzcG9zZSgpe3RoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZToiZGlzcG9zZSJ9KX19Y29uc3Qgbmk9bmV3IEEsQXM9bmV3IEEsenM9bmV3IFR0O2NsYXNzIFZpe2NvbnN0cnVjdG9yKHQ9bmV3IEEoMSwwLDApLGU9MCl7dGhpcy5pc1BsYW5lPSEwLHRoaXMubm9ybWFsPXQsdGhpcy5jb25zdGFudD1lfXNldCh0LGUpe3JldHVybiB0aGlzLm5vcm1hbC5jb3B5KHQpLHRoaXMuY29uc3RhbnQ9ZSx0aGlzfXNldENvbXBvbmVudHModCxlLGkscyl7cmV0dXJuIHRoaXMubm9ybWFsLnNldCh0LGUsaSksdGhpcy5jb25zdGFudD1zLHRoaXN9c2V0RnJvbU5vcm1hbEFuZENvcGxhbmFyUG9pbnQodCxlKXtyZXR1cm4gdGhpcy5ub3JtYWwuY29weSh0KSx0aGlzLmNvbnN0YW50PS1lLmRvdCh0aGlzLm5vcm1hbCksdGhpc31zZXRGcm9tQ29wbGFuYXJQb2ludHModCxlLGkpe2NvbnN0IHM9bmkuc3ViVmVjdG9ycyhpLGUpLmNyb3NzKEFzLnN1YlZlY3RvcnModCxlKSkubm9ybWFsaXplKCk7cmV0dXJuIHRoaXMuc2V0RnJvbU5vcm1hbEFuZENvcGxhbmFyUG9pbnQocyx0KSx0aGlzfWNvcHkodCl7cmV0dXJuIHRoaXMubm9ybWFsLmNvcHkodC5ub3JtYWwpLHRoaXMuY29uc3RhbnQ9dC5jb25zdGFudCx0aGlzfW5vcm1hbGl6ZSgpe2NvbnN0IHQ9MS90aGlzLm5vcm1hbC5sZW5ndGgoKTtyZXR1cm4gdGhpcy5ub3JtYWwubXVsdGlwbHlTY2FsYXIodCksdGhpcy5jb25zdGFudCo9dCx0aGlzfW5lZ2F0ZSgpe3JldHVybiB0aGlzLmNvbnN0YW50Kj0tMSx0aGlzLm5vcm1hbC5uZWdhdGUoKSx0aGlzfWRpc3RhbmNlVG9Qb2ludCh0KXtyZXR1cm4gdGhpcy5ub3JtYWwuZG90KHQpK3RoaXMuY29uc3RhbnR9ZGlzdGFuY2VUb1NwaGVyZSh0KXtyZXR1cm4gdGhpcy5kaXN0YW5jZVRvUG9pbnQodC5jZW50ZXIpLXQucmFkaXVzfXByb2plY3RQb2ludCh0LGUpe3JldHVybiBlLmNvcHkodCkuYWRkU2NhbGVkVmVjdG9yKHRoaXMubm9ybWFsLC10aGlzLmRpc3RhbmNlVG9Qb2ludCh0KSl9aW50ZXJzZWN0TGluZSh0LGUpe2NvbnN0IGk9dC5kZWx0YShuaSkscz10aGlzLm5vcm1hbC5kb3QoaSk7aWYocz09PTApcmV0dXJuIHRoaXMuZGlzdGFuY2VUb1BvaW50KHQuc3RhcnQpPT09MD9lLmNvcHkodC5zdGFydCk6bnVsbDtjb25zdCBuPS0odC5zdGFydC5kb3QodGhpcy5ub3JtYWwpK3RoaXMuY29uc3RhbnQpL3M7cmV0dXJuIG48MHx8bj4xP251bGw6ZS5jb3B5KHQuc3RhcnQpLmFkZFNjYWxlZFZlY3RvcihpLG4pfWludGVyc2VjdHNMaW5lKHQpe2NvbnN0IGU9dGhpcy5kaXN0YW5jZVRvUG9pbnQodC5zdGFydCksaT10aGlzLmRpc3RhbmNlVG9Qb2ludCh0LmVuZCk7cmV0dXJuIGU8MCYmaT4wfHxpPDAmJmU+MH1pbnRlcnNlY3RzQm94KHQpe3JldHVybiB0LmludGVyc2VjdHNQbGFuZSh0aGlzKX1pbnRlcnNlY3RzU3BoZXJlKHQpe3JldHVybiB0LmludGVyc2VjdHNQbGFuZSh0aGlzKX1jb3BsYW5hclBvaW50KHQpe3JldHVybiB0LmNvcHkodGhpcy5ub3JtYWwpLm11bHRpcGx5U2NhbGFyKC10aGlzLmNvbnN0YW50KX1hcHBseU1hdHJpeDQodCxlKXtjb25zdCBpPWV8fHpzLmdldE5vcm1hbE1hdHJpeCh0KSxzPXRoaXMuY29wbGFuYXJQb2ludChuaSkuYXBwbHlNYXRyaXg0KHQpLG49dGhpcy5ub3JtYWwuYXBwbHlNYXRyaXgzKGkpLm5vcm1hbGl6ZSgpO3JldHVybiB0aGlzLmNvbnN0YW50PS1zLmRvdChuKSx0aGlzfXRyYW5zbGF0ZSh0KXtyZXR1cm4gdGhpcy5jb25zdGFudC09dC5kb3QodGhpcy5ub3JtYWwpLHRoaXN9ZXF1YWxzKHQpe3JldHVybiB0Lm5vcm1hbC5lcXVhbHModGhpcy5ub3JtYWwpJiZ0LmNvbnN0YW50PT09dGhpcy5jb25zdGFudH1jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyl9fWNsYXNzIFNzIGV4dGVuZHMgZ3R7Y29uc3RydWN0b3IodCxlLGkscyxuLHIsYSxvLGgsYyl7aWYoYz1jIT09dm9pZCAwP2M6MTAyNixjIT09MTAyNiYmYyE9PTEwMjcpdGhyb3cgbmV3IEVycm9yKCJEZXB0aFRleHR1cmUgZm9ybWF0IG11c3QgYmUgZWl0aGVyIFRIUkVFLkRlcHRoRm9ybWF0IG9yIFRIUkVFLkRlcHRoU3RlbmNpbEZvcm1hdCIpO2k9PT12b2lkIDAmJmM9PT0xMDI2JiYoaT0xMDE0KSxpPT09dm9pZCAwJiZjPT09MTAyNyYmKGk9MTAyMCksc3VwZXIobnVsbCxzLG4scixhLG8sYyxpLGgpLHRoaXMuaXNEZXB0aFRleHR1cmU9ITAsdGhpcy5pbWFnZT17d2lkdGg6dCxoZWlnaHQ6ZX0sdGhpcy5tYWdGaWx0ZXI9YSE9PXZvaWQgMD9hOjEwMDMsdGhpcy5taW5GaWx0ZXI9byE9PXZvaWQgMD9vOjEwMDMsdGhpcy5mbGlwWT0hMSx0aGlzLmdlbmVyYXRlTWlwbWFwcz0hMSx0aGlzLmNvbXBhcmVGdW5jdGlvbj1udWxsfWNvcHkodCl7cmV0dXJuIHN1cGVyLmNvcHkodCksdGhpcy5jb21wYXJlRnVuY3Rpb249dC5jb21wYXJlRnVuY3Rpb24sdGhpc310b0pTT04odCl7Y29uc3QgZT1zdXBlci50b0pTT04odCk7cmV0dXJuIHRoaXMuY29tcGFyZUZ1bmN0aW9uIT09bnVsbCYmKGUuY29tcGFyZUZ1bmN0aW9uPXRoaXMuY29tcGFyZUZ1bmN0aW9uKSxlfX1jb25zdCBCcz1uZXcgU3MoMSwxKTtCcy5jb21wYXJlRnVuY3Rpb249NTE1O2NvbnN0IE5pPW5ldyBBLHdlPW5ldyBBO2NsYXNzIG10e2NvbnN0cnVjdG9yKHQ9bmV3IEEsZT1uZXcgQSl7dGhpcy5zdGFydD10LHRoaXMuZW5kPWV9c2V0KHQsZSl7cmV0dXJuIHRoaXMuc3RhcnQuY29weSh0KSx0aGlzLmVuZC5jb3B5KGUpLHRoaXN9Y29weSh0KXtyZXR1cm4gdGhpcy5zdGFydC5jb3B5KHQuc3RhcnQpLHRoaXMuZW5kLmNvcHkodC5lbmQpLHRoaXN9Z2V0Q2VudGVyKHQpe3JldHVybiB0LmFkZFZlY3RvcnModGhpcy5zdGFydCx0aGlzLmVuZCkubXVsdGlwbHlTY2FsYXIoLjUpfWRlbHRhKHQpe3JldHVybiB0LnN1YlZlY3RvcnModGhpcy5lbmQsdGhpcy5zdGFydCl9ZGlzdGFuY2VTcSgpe3JldHVybiB0aGlzLnN0YXJ0LmRpc3RhbmNlVG9TcXVhcmVkKHRoaXMuZW5kKX1kaXN0YW5jZSgpe3JldHVybiB0aGlzLnN0YXJ0LmRpc3RhbmNlVG8odGhpcy5lbmQpfWF0KHQsZSl7cmV0dXJuIHRoaXMuZGVsdGEoZSkubXVsdGlwbHlTY2FsYXIodCkuYWRkKHRoaXMuc3RhcnQpfWNsb3Nlc3RQb2ludFRvUG9pbnRQYXJhbWV0ZXIodCxlKXtOaS5zdWJWZWN0b3JzKHQsdGhpcy5zdGFydCksd2Uuc3ViVmVjdG9ycyh0aGlzLmVuZCx0aGlzLnN0YXJ0KTtjb25zdCBpPXdlLmRvdCh3ZSk7bGV0IG49d2UuZG90KE5pKS9pO3JldHVybiBlJiYobj1hdChuLDAsMSkpLG59Y2xvc2VzdFBvaW50VG9Qb2ludCh0LGUsaSl7Y29uc3Qgcz10aGlzLmNsb3Nlc3RQb2ludFRvUG9pbnRQYXJhbWV0ZXIodCxlKTtyZXR1cm4gdGhpcy5kZWx0YShpKS5tdWx0aXBseVNjYWxhcihzKS5hZGQodGhpcy5zdGFydCl9YXBwbHlNYXRyaXg0KHQpe3JldHVybiB0aGlzLnN0YXJ0LmFwcGx5TWF0cml4NCh0KSx0aGlzLmVuZC5hcHBseU1hdHJpeDQodCksdGhpc31lcXVhbHModCl7cmV0dXJuIHQuc3RhcnQuZXF1YWxzKHRoaXMuc3RhcnQpJiZ0LmVuZC5lcXVhbHModGhpcy5lbmQpfWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSh0aGlzKX19dHlwZW9mIF9fVEhSRUVfREVWVE9PTFNfXzwidSImJl9fVEhSRUVfREVWVE9PTFNfXy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgicmVnaXN0ZXIiLHtkZXRhaWw6e3JldmlzaW9uOldlfX0pKSx0eXBlb2Ygd2luZG93PCJ1IiYmKHdpbmRvdy5fX1RIUkVFX18/Y29uc29sZS53YXJuKCJXQVJOSU5HOiBNdWx0aXBsZSBpbnN0YW5jZXMgb2YgVGhyZWUuanMgYmVpbmcgaW1wb3J0ZWQuIEV4aXN0aW5nOiAiK3dpbmRvdy5fX1RIUkVFX18rIiwgbmV3OiAiK1dlKTp3aW5kb3cuX19USFJFRV9fPVdlKTtjb25zdCBxaT0wLFRzPTEsUHM9Mix2aT0yLHJpPTEuMjUsV2k9MSxzZT02KjQrNCs0LF9lPTY1NTM1LENzPU1hdGgucG93KDIsLTI0KSxvaT1TeW1ib2woIlNLSVBfR0VORVJBVElPTiIpO2Z1bmN0aW9uIEVzKHUpe3JldHVybiB1LmluZGV4P3UuaW5kZXguY291bnQ6dS5hdHRyaWJ1dGVzLnBvc2l0aW9uLmNvdW50fWZ1bmN0aW9uIE50KHUpe3JldHVybiBFcyh1KS8zfWZ1bmN0aW9uIEZzKHUsdD1BcnJheUJ1ZmZlcil7cmV0dXJuIHU+NjU1MzU/bmV3IFVpbnQzMkFycmF5KG5ldyB0KDQqdSkpOm5ldyBVaW50MTZBcnJheShuZXcgdCgyKnUpKX1mdW5jdGlvbiBVcyh1LHQpe2lmKCF1LmluZGV4KXtjb25zdCBlPXUuYXR0cmlidXRlcy5wb3NpdGlvbi5jb3VudCxpPXQudXNlU2hhcmVkQXJyYXlCdWZmZXI/U2hhcmVkQXJyYXlCdWZmZXI6QXJyYXlCdWZmZXIscz1GcyhlLGkpO3Uuc2V0SW5kZXgobmV3IGN0KHMsMSkpO2ZvcihsZXQgbj0wO248ZTtuKyspc1tuXT1ufX1mdW5jdGlvbiBYaSh1KXtjb25zdCB0PU50KHUpLGU9dS5kcmF3UmFuZ2UsaT1lLnN0YXJ0LzMscz0oZS5zdGFydCtlLmNvdW50KS8zLG49TWF0aC5tYXgoMCxpKSxyPU1hdGgubWluKHQscyktbjtyZXR1cm5be29mZnNldDpNYXRoLmZsb29yKG4pLGNvdW50Ok1hdGguZmxvb3Iocil9XX1mdW5jdGlvbiBPaSh1KXtpZighdS5ncm91cHN8fCF1Lmdyb3Vwcy5sZW5ndGgpcmV0dXJuIFhpKHUpO2NvbnN0IHQ9W10sZT1uZXcgU2V0LGk9dS5kcmF3UmFuZ2Uscz1pLnN0YXJ0LzMsbj0oaS5zdGFydCtpLmNvdW50KS8zO2Zvcihjb25zdCBhIG9mIHUuZ3JvdXBzKXtjb25zdCBvPWEuc3RhcnQvMyxoPShhLnN0YXJ0K2EuY291bnQpLzM7ZS5hZGQoTWF0aC5tYXgocyxvKSksZS5hZGQoTWF0aC5taW4obixoKSl9Y29uc3Qgcj1BcnJheS5mcm9tKGUudmFsdWVzKCkpLnNvcnQoKGEsbyk9PmEtbyk7Zm9yKGxldCBhPTA7YTxyLmxlbmd0aC0xO2ErKyl7Y29uc3Qgbz1yW2FdLGg9clthKzFdO3QucHVzaCh7b2Zmc2V0Ok1hdGguZmxvb3IobyksY291bnQ6TWF0aC5mbG9vcihoLW8pfSl9cmV0dXJuIHR9ZnVuY3Rpb24gUnModSl7aWYodS5ncm91cHMubGVuZ3RoPT09MClyZXR1cm4hMTtjb25zdCB0PU50KHUpLGU9T2kodSkuc29ydCgobixyKT0+bi5vZmZzZXQtci5vZmZzZXQpLGk9ZVtlLmxlbmd0aC0xXTtpLmNvdW50PU1hdGgubWluKHQtaS5vZmZzZXQsaS5jb3VudCk7bGV0IHM9MDtyZXR1cm4gZS5mb3JFYWNoKCh7Y291bnQ6bn0pPT5zKz1uKSx0IT09c31mdW5jdGlvbiBhaSh1LHQsZSxpLHMpe2xldCBuPTEvMCxyPTEvMCxhPTEvMCxvPS0xLzAsaD0tMS8wLGM9LTEvMCxmPTEvMCxsPTEvMCxkPTEvMCxwPS0xLzAseT0tMS8wLHg9LTEvMDtmb3IobGV0IG09dCo2LGc9KHQrZSkqNjttPGc7bSs9Nil7Y29uc3Qgdz11W20rMF0sTT11W20rMV0sYj13LU0sej13K007YjxuJiYobj1iKSx6Pm8mJihvPXopLHc8ZiYmKGY9dyksdz5wJiYocD13KTtjb25zdCBfPXVbbSsyXSxTPXVbbSszXSxCPV8tUyxUPV8rUztCPHImJihyPUIpLFQ+aCYmKGg9VCksXzxsJiYobD1fKSxfPnkmJih5PV8pO2NvbnN0IEM9dVttKzRdLFA9dVttKzVdLEU9Qy1QLEY9QytQO0U8YSYmKGE9RSksRj5jJiYoYz1GKSxDPGQmJihkPUMpLEM+eCYmKHg9Qyl9aVswXT1uLGlbMV09cixpWzJdPWEsaVszXT1vLGlbNF09aCxpWzVdPWMsc1swXT1mLHNbMV09bCxzWzJdPWQsc1szXT1wLHNbNF09eSxzWzVdPXh9ZnVuY3Rpb24ga3ModSx0PW51bGwsZT1udWxsLGk9bnVsbCl7Y29uc3Qgcz11LmF0dHJpYnV0ZXMucG9zaXRpb24sbj11LmluZGV4P3UuaW5kZXguYXJyYXk6bnVsbCxyPU50KHUpLGE9cy5ub3JtYWxpemVkO2xldCBvO3Q9PT1udWxsPyhvPW5ldyBGbG9hdDMyQXJyYXkocio2KjQpLGU9MCxpPXIpOihvPXQsZT1lfHwwLGk9aXx8cik7Y29uc3QgaD1zLmFycmF5LGM9cy5vZmZzZXR8fDA7bGV0IGY9MztzLmlzSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUmJihmPXMuZGF0YS5zdHJpZGUpO2NvbnN0IGw9WyJnZXRYIiwiZ2V0WSIsImdldFoiXTtmb3IobGV0IGQ9ZTtkPGUraTtkKyspe2NvbnN0IHA9ZCozLHk9ZCo2O2xldCB4PXArMCxtPXArMSxnPXArMjtuJiYoeD1uW3hdLG09blttXSxnPW5bZ10pLGF8fCh4PXgqZitjLG09bSpmK2MsZz1nKmYrYyk7Zm9yKGxldCB3PTA7dzwzO3crKyl7bGV0IE0sYix6O2E/KE09c1tsW3ddXSh4KSxiPXNbbFt3XV0obSksej1zW2xbd11dKGcpKTooTT1oW3grd10sYj1oW20rd10sej1oW2crd10pO2xldCBfPU07YjxfJiYoXz1iKSx6PF8mJihfPXopO2xldCBTPU07Yj5TJiYoUz1iKSx6PlMmJihTPXopO2NvbnN0IEI9KFMtXykvMixUPXcqMjtvW3krVCswXT1fK0Isb1t5K1QrMV09QisoTWF0aC5hYnMoXykrQikqQ3N9fXJldHVybiBvfWZ1bmN0aW9uIEwodSx0LGUpe3JldHVybiBlLm1pbi54PXRbdV0sZS5taW4ueT10W3UrMV0sZS5taW4uej10W3UrMl0sZS5tYXgueD10W3UrM10sZS5tYXgueT10W3UrNF0sZS5tYXguej10W3UrNV0sZX1mdW5jdGlvbiBZaSh1KXtsZXQgdD0tMSxlPS0xLzA7Zm9yKGxldCBpPTA7aTwzO2krKyl7Y29uc3Qgcz11W2krM10tdVtpXTtzPmUmJihlPXMsdD1pKX1yZXR1cm4gdH1mdW5jdGlvbiBaaSh1LHQpe3Quc2V0KHUpfWZ1bmN0aW9uIEhpKHUsdCxlKXtsZXQgaSxzO2ZvcihsZXQgbj0wO248MztuKyspe2NvbnN0IHI9biszO2k9dVtuXSxzPXRbbl0sZVtuXT1pPHM/aTpzLGk9dVtyXSxzPXRbcl0sZVtyXT1pPnM/aTpzfX1mdW5jdGlvbiBNZSh1LHQsZSl7Zm9yKGxldCBpPTA7aTwzO2krKyl7Y29uc3Qgcz10W3UrMippXSxuPXRbdSsyKmkrMV0scj1zLW4sYT1zK247cjxlW2ldJiYoZVtpXT1yKSxhPmVbaSszXSYmKGVbaSszXT1hKX19ZnVuY3Rpb24gbmUodSl7Y29uc3QgdD11WzNdLXVbMF0sZT11WzRdLXVbMV0saT11WzVdLXVbMl07cmV0dXJuIDIqKHQqZStlKmkraSp0KX1jb25zdCB5dD0zMixMcz0odSx0KT0+dS5jYW5kaWRhdGUtdC5jYW5kaWRhdGUsQXQ9bmV3IEFycmF5KHl0KS5maWxsKCkubWFwKCgpPT4oe2NvdW50OjAsYm91bmRzOm5ldyBGbG9hdDMyQXJyYXkoNikscmlnaHRDYWNoZUJvdW5kczpuZXcgRmxvYXQzMkFycmF5KDYpLGxlZnRDYWNoZUJvdW5kczpuZXcgRmxvYXQzMkFycmF5KDYpLGNhbmRpZGF0ZTowfSkpLEFlPW5ldyBGbG9hdDMyQXJyYXkoNik7ZnVuY3Rpb24gSXModSx0LGUsaSxzLG4pe2xldCByPS0xLGE9MDtpZihuPT09cWkpcj1ZaSh0KSxyIT09LTEmJihhPSh0W3JdK3RbciszXSkvMik7ZWxzZSBpZihuPT09VHMpcj1ZaSh1KSxyIT09LTEmJihhPURzKGUsaSxzLHIpKTtlbHNlIGlmKG49PT1Qcyl7Y29uc3Qgbz1uZSh1KTtsZXQgaD1yaSpzO2NvbnN0IGM9aSo2LGY9KGkrcykqNjtmb3IobGV0IGw9MDtsPDM7bCsrKXtjb25zdCBkPXRbbF0seD0odFtsKzNdLWQpL3l0O2lmKHM8eXQvNCl7Y29uc3QgbT1bLi4uQXRdO20ubGVuZ3RoPXM7bGV0IGc9MDtmb3IobGV0IE09YztNPGY7TSs9NixnKyspe2NvbnN0IGI9bVtnXTtiLmNhbmRpZGF0ZT1lW00rMipsXSxiLmNvdW50PTA7Y29uc3R7Ym91bmRzOnosbGVmdENhY2hlQm91bmRzOl8scmlnaHRDYWNoZUJvdW5kczpTfT1iO2ZvcihsZXQgQj0wO0I8MztCKyspU1tCXT0xLzAsU1tCKzNdPS0xLzAsX1tCXT0xLzAsX1tCKzNdPS0xLzAseltCXT0xLzAseltCKzNdPS0xLzA7TWUoTSxlLHopfW0uc29ydChMcyk7bGV0IHc9cztmb3IobGV0IE09MDtNPHc7TSsrKXtjb25zdCBiPW1bTV07Zm9yKDtNKzE8dyYmbVtNKzFdLmNhbmRpZGF0ZT09PWIuY2FuZGlkYXRlOyltLnNwbGljZShNKzEsMSksdy0tfWZvcihsZXQgTT1jO008ZjtNKz02KXtjb25zdCBiPWVbTSsyKmxdO2ZvcihsZXQgej0wO3o8dzt6Kyspe2NvbnN0IF89bVt6XTtiPj1fLmNhbmRpZGF0ZT9NZShNLGUsXy5yaWdodENhY2hlQm91bmRzKTooTWUoTSxlLF8ubGVmdENhY2hlQm91bmRzKSxfLmNvdW50KyspfX1mb3IobGV0IE09MDtNPHc7TSsrKXtjb25zdCBiPW1bTV0sej1iLmNvdW50LF89cy1iLmNvdW50LFM9Yi5sZWZ0Q2FjaGVCb3VuZHMsQj1iLnJpZ2h0Q2FjaGVCb3VuZHM7bGV0IFQ9MDt6IT09MCYmKFQ9bmUoUykvbyk7bGV0IEM9MDtfIT09MCYmKEM9bmUoQikvbyk7Y29uc3QgUD1XaStyaSooVCp6K0MqXyk7UDxoJiYocj1sLGg9UCxhPWIuY2FuZGlkYXRlKX19ZWxzZXtmb3IobGV0IHc9MDt3PHl0O3crKyl7Y29uc3QgTT1BdFt3XTtNLmNvdW50PTAsTS5jYW5kaWRhdGU9ZCt4K3cqeDtjb25zdCBiPU0uYm91bmRzO2ZvcihsZXQgej0wO3o8Mzt6KyspYlt6XT0xLzAsYlt6KzNdPS0xLzB9Zm9yKGxldCB3PWM7dzxmO3crPTYpe2xldCB6PX5+KChlW3crMipsXS1kKS94KTt6Pj15dCYmKHo9eXQtMSk7Y29uc3QgXz1BdFt6XTtfLmNvdW50KyssTWUodyxlLF8uYm91bmRzKX1jb25zdCBtPUF0W3l0LTFdO1ppKG0uYm91bmRzLG0ucmlnaHRDYWNoZUJvdW5kcyk7Zm9yKGxldCB3PXl0LTI7dz49MDt3LS0pe2NvbnN0IE09QXRbd10sYj1BdFt3KzFdO0hpKE0uYm91bmRzLGIucmlnaHRDYWNoZUJvdW5kcyxNLnJpZ2h0Q2FjaGVCb3VuZHMpfWxldCBnPTA7Zm9yKGxldCB3PTA7dzx5dC0xO3crKyl7Y29uc3QgTT1BdFt3XSxiPU0uY291bnQsej1NLmJvdW5kcyxTPUF0W3crMV0ucmlnaHRDYWNoZUJvdW5kcztiIT09MCYmKGc9PT0wP1ppKHosQWUpOkhpKHosQWUsQWUpKSxnKz1iO2xldCBCPTAsVD0wO2chPT0wJiYoQj1uZShBZSkvbyk7Y29uc3QgQz1zLWc7QyE9PTAmJihUPW5lKFMpL28pO2NvbnN0IFA9V2krcmkqKEIqZytUKkMpO1A8aCYmKHI9bCxoPVAsYT1NLmNhbmRpZGF0ZSl9fX19ZWxzZSBjb25zb2xlLndhcm4oYE1lc2hCVkg6IEludmFsaWQgYnVpbGQgc3RyYXRlZ3kgdmFsdWUgJHtufSB1c2VkLmApO3JldHVybntheGlzOnIscG9zOmF9fWZ1bmN0aW9uIERzKHUsdCxlLGkpe2xldCBzPTA7Zm9yKGxldCBuPXQscj10K2U7bjxyO24rKylzKz11W24qNitpKjJdO3JldHVybiBzL2V9Y2xhc3MgY2l7Y29uc3RydWN0b3IoKXt0aGlzLmJvdW5kaW5nRGF0YT1uZXcgRmxvYXQzMkFycmF5KDYpfX1mdW5jdGlvbiBWcyh1LHQsZSxpLHMsbil7bGV0IHI9aSxhPWkrcy0xO2NvbnN0IG89bi5wb3MsaD1uLmF4aXMqMjtmb3IoOzspe2Zvcig7cjw9YSYmZVtyKjYraF08bzspcisrO2Zvcig7cjw9YSYmZVthKjYraF0+PW87KWEtLTtpZihyPGEpe2ZvcihsZXQgYz0wO2M8MztjKyspe2xldCBmPXRbciozK2NdO3RbciozK2NdPXRbYSozK2NdLHRbYSozK2NdPWZ9Zm9yKGxldCBjPTA7Yzw2O2MrKyl7bGV0IGY9ZVtyKjYrY107ZVtyKjYrY109ZVthKjYrY10sZVthKjYrY109Zn1yKyssYS0tfWVsc2UgcmV0dXJuIHJ9fWZ1bmN0aW9uIE5zKHUsdCxlLGkscyxuKXtsZXQgcj1pLGE9aStzLTE7Y29uc3Qgbz1uLnBvcyxoPW4uYXhpcyoyO2Zvcig7Oyl7Zm9yKDtyPD1hJiZlW3IqNitoXTxvOylyKys7Zm9yKDtyPD1hJiZlW2EqNitoXT49bzspYS0tO2lmKHI8YSl7bGV0IGM9dVtyXTt1W3JdPXVbYV0sdVthXT1jO2ZvcihsZXQgZj0wO2Y8NjtmKyspe2xldCBsPWVbcio2K2ZdO2Vbcio2K2ZdPWVbYSo2K2ZdLGVbYSo2K2ZdPWx9cisrLGEtLX1lbHNlIHJldHVybiByfX1mdW5jdGlvbiBZKHUsdCl7cmV0dXJuIHRbdSsxNV09PT02NTUzNX1mdW5jdGlvbiAkKHUsdCl7cmV0dXJuIHRbdSs2XX1mdW5jdGlvbiBKKHUsdCl7cmV0dXJuIHRbdSsxNF19ZnVuY3Rpb24gUSh1KXtyZXR1cm4gdSs4fWZ1bmN0aW9uIEsodSx0KXtyZXR1cm4gdFt1KzZdfWZ1bmN0aW9uICRpKHUsdCl7cmV0dXJuIHRbdSs3XX1mdW5jdGlvbiBKbih1KXtyZXR1cm4gdX1sZXQgamkscmUsemUsR2k7Y29uc3QgcXM9TWF0aC5wb3coMiwzMik7ZnVuY3Rpb24gaGkodSl7cmV0dXJuImNvdW50ImluIHU/MToxK2hpKHUubGVmdCkraGkodS5yaWdodCl9ZnVuY3Rpb24gdnModSx0LGUpe3JldHVybiBqaT1uZXcgRmxvYXQzMkFycmF5KGUpLHJlPW5ldyBVaW50MzJBcnJheShlKSx6ZT1uZXcgVWludDE2QXJyYXkoZSksR2k9bmV3IFVpbnQ4QXJyYXkoZSksbGkodSx0KX1mdW5jdGlvbiBsaSh1LHQpe2NvbnN0IGU9dS80LGk9dS8yLHM9ImNvdW50ImluIHQsbj10LmJvdW5kaW5nRGF0YTtmb3IobGV0IHI9MDtyPDY7cisrKWppW2Urcl09bltyXTtpZihzKWlmKHQuYnVmZmVyKXtjb25zdCByPXQuYnVmZmVyO0dpLnNldChuZXcgVWludDhBcnJheShyKSx1KTtmb3IobGV0IGE9dSxvPXUrci5ieXRlTGVuZ3RoO2E8bzthKz1zZSl7Y29uc3QgaD1hLzI7WShoLHplKXx8KHJlW2EvNCs2XSs9ZSl9cmV0dXJuIHUrci5ieXRlTGVuZ3RofWVsc2V7Y29uc3Qgcj10Lm9mZnNldCxhPXQuY291bnQ7cmV0dXJuIHJlW2UrNl09cix6ZVtpKzE0XT1hLHplW2krMTVdPV9lLHUrc2V9ZWxzZXtjb25zdCByPXQubGVmdCxhPXQucmlnaHQsbz10LnNwbGl0QXhpcztsZXQgaDtpZihoPWxpKHUrc2UsciksaC80PnFzKXRocm93IG5ldyBFcnJvcigiTWVzaEJWSDogQ2Fubm90IHN0b3JlIGNoaWxkIHBvaW50ZXIgZ3JlYXRlciB0aGFuIDMyIGJpdHMuIik7cmV0dXJuIHJlW2UrNl09aC80LGg9bGkoaCxhKSxyZVtlKzddPW8saH19ZnVuY3Rpb24gV3ModSx0KXtjb25zdCBlPSh1LmluZGV4P3UuaW5kZXguY291bnQ6dS5hdHRyaWJ1dGVzLnBvc2l0aW9uLmNvdW50KS8zLGk9ZT4yKioxNixzPWk/NDoyLG49dD9uZXcgU2hhcmVkQXJyYXlCdWZmZXIoZSpzKTpuZXcgQXJyYXlCdWZmZXIoZSpzKSxyPWk/bmV3IFVpbnQzMkFycmF5KG4pOm5ldyBVaW50MTZBcnJheShuKTtmb3IobGV0IGE9MCxvPXIubGVuZ3RoO2E8bzthKyspclthXT1hO3JldHVybiByfWZ1bmN0aW9uIFhzKHUsdCxlLGkscyl7Y29uc3R7bWF4RGVwdGg6bix2ZXJib3NlOnIsbWF4TGVhZlRyaXM6YSxzdHJhdGVneTpvLG9uUHJvZ3Jlc3M6aCxpbmRpcmVjdDpjfT1zLGY9dS5faW5kaXJlY3RCdWZmZXIsbD11Lmdlb21ldHJ5LGQ9bC5pbmRleD9sLmluZGV4LmFycmF5Om51bGwscD1jP05zOlZzLHk9TnQobCkseD1uZXcgRmxvYXQzMkFycmF5KDYpO2xldCBtPSExO2NvbnN0IGc9bmV3IGNpO3JldHVybiBhaSh0LGUsaSxnLmJvdW5kaW5nRGF0YSx4KSxNKGcsZSxpLHgpLGc7ZnVuY3Rpb24gdyhiKXtoJiZoKGIveSl9ZnVuY3Rpb24gTShiLHosXyxTPW51bGwsQj0wKXtpZighbSYmQj49biYmKG09ITAsciYmKGNvbnNvbGUud2FybihgTWVzaEJWSDogTWF4IGRlcHRoIG9mICR7bn0gcmVhY2hlZCB3aGVuIGdlbmVyYXRpbmcgQlZILiBDb25zaWRlciBpbmNyZWFzaW5nIG1heERlcHRoLmApLGNvbnNvbGUud2FybihsKSkpLF88PWF8fEI+PW4pcmV0dXJuIHcoeitfKSxiLm9mZnNldD16LGIuY291bnQ9XyxiO2NvbnN0IFQ9SXMoYi5ib3VuZGluZ0RhdGEsUyx0LHosXyxvKTtpZihULmF4aXM9PT0tMSlyZXR1cm4gdyh6K18pLGIub2Zmc2V0PXosYi5jb3VudD1fLGI7Y29uc3QgQz1wKGYsZCx0LHosXyxUKTtpZihDPT09enx8Qz09PXorXyl3KHorXyksYi5vZmZzZXQ9eixiLmNvdW50PV87ZWxzZXtiLnNwbGl0QXhpcz1ULmF4aXM7Y29uc3QgUD1uZXcgY2ksRT16LEY9Qy16O2IubGVmdD1QLGFpKHQsRSxGLFAuYm91bmRpbmdEYXRhLHgpLE0oUCxFLEYseCxCKzEpO2NvbnN0IFU9bmV3IGNpLFI9QyxqPV8tRjtiLnJpZ2h0PVUsYWkodCxSLGosVS5ib3VuZGluZ0RhdGEseCksTShVLFIsaix4LEIrMSl9cmV0dXJuIGJ9fWZ1bmN0aW9uIE9zKHUsdCl7Y29uc3QgZT11Lmdlb21ldHJ5O3QuaW5kaXJlY3QmJih1Ll9pbmRpcmVjdEJ1ZmZlcj1XcyhlLHQudXNlU2hhcmVkQXJyYXlCdWZmZXIpLFJzKGUpJiYhdC52ZXJib3NlJiZjb25zb2xlLndhcm4oJ01lc2hCVkg6IFByb3ZpZGVkIGdlb21ldHJ5IGNvbnRhaW5zIGdyb3VwcyB0aGF0IGRvIG5vdCBmdWxseSBzcGFuIHRoZSB2ZXJ0ZXggY29udGVudHMgd2hpbGUgdXNpbmcgdGhlICJpbmRpcmVjdCIgb3B0aW9uLiBCVkggbWF5IGluY29ycmVjdGx5IHJlcG9ydCBpbnRlcnNlY3Rpb25zIG9uIHVucmVuZGVyZWQgcG9ydGlvbnMgb2YgdGhlIGdlb21ldHJ5LicpKSx1Ll9pbmRpcmVjdEJ1ZmZlcnx8VXMoZSx0KTtjb25zdCBpPXQudXNlU2hhcmVkQXJyYXlCdWZmZXI/U2hhcmVkQXJyYXlCdWZmZXI6QXJyYXlCdWZmZXIscz1rcyhlKSxuPXQuaW5kaXJlY3Q/WGkoZSk6T2koZSk7dS5fcm9vdHM9bi5tYXAocj0+e2NvbnN0IGE9WHModSxzLHIub2Zmc2V0LHIuY291bnQsdCksbz1oaShhKSxoPW5ldyBpKHNlKm8pO3JldHVybiB2cygwLGEsaCksaH0pfWNsYXNzIHh0e2NvbnN0cnVjdG9yKCl7dGhpcy5taW49MS8wLHRoaXMubWF4PS0xLzB9c2V0RnJvbVBvaW50c0ZpZWxkKHQsZSl7bGV0IGk9MS8wLHM9LTEvMDtmb3IobGV0IG49MCxyPXQubGVuZ3RoO248cjtuKyspe2NvbnN0IG89dFtuXVtlXTtpPW88aT9vOmkscz1vPnM/bzpzfXRoaXMubWluPWksdGhpcy5tYXg9c31zZXRGcm9tUG9pbnRzKHQsZSl7bGV0IGk9MS8wLHM9LTEvMDtmb3IobGV0IG49MCxyPWUubGVuZ3RoO248cjtuKyspe2NvbnN0IGE9ZVtuXSxvPXQuZG90KGEpO2k9bzxpP286aSxzPW8+cz9vOnN9dGhpcy5taW49aSx0aGlzLm1heD1zfWlzU2VwYXJhdGVkKHQpe3JldHVybiB0aGlzLm1pbj50Lm1heHx8dC5taW4+dGhpcy5tYXh9fXh0LnByb3RvdHlwZS5zZXRGcm9tQm94PWZ1bmN0aW9uKCl7Y29uc3QgdT1uZXcgQTtyZXR1cm4gZnVuY3Rpb24oZSxpKXtjb25zdCBzPWkubWluLG49aS5tYXg7bGV0IHI9MS8wLGE9LTEvMDtmb3IobGV0IG89MDtvPD0xO28rKylmb3IobGV0IGg9MDtoPD0xO2grKylmb3IobGV0IGM9MDtjPD0xO2MrKyl7dS54PXMueCpvK24ueCooMS1vKSx1Lnk9cy55Kmgrbi55KigxLWgpLHUuej1zLnoqYytuLnoqKDEtYyk7Y29uc3QgZj1lLmRvdCh1KTtyPU1hdGgubWluKGYsciksYT1NYXRoLm1heChmLGEpfXRoaXMubWluPXIsdGhpcy5tYXg9YX19KCk7Y29uc3QgWXM9ZnVuY3Rpb24oKXtjb25zdCB1PW5ldyBBLHQ9bmV3IEEsZT1uZXcgQTtyZXR1cm4gZnVuY3Rpb24ocyxuLHIpe2NvbnN0IGE9cy5zdGFydCxvPXUsaD1uLnN0YXJ0LGM9dDtlLnN1YlZlY3RvcnMoYSxoKSx1LnN1YlZlY3RvcnMocy5lbmQscy5zdGFydCksdC5zdWJWZWN0b3JzKG4uZW5kLG4uc3RhcnQpO2NvbnN0IGY9ZS5kb3QoYyksbD1jLmRvdChvKSxkPWMuZG90KGMpLHA9ZS5kb3QobykseD1vLmRvdChvKSpkLWwqbDtsZXQgbSxnO3ghPT0wP209KGYqbC1wKmQpL3g6bT0wLGc9KGYrbSpsKS9kLHIueD1tLHIueT1nfX0oKSx1aT1mdW5jdGlvbigpe2NvbnN0IHU9bmV3IHYsdD1uZXcgQSxlPW5ldyBBO3JldHVybiBmdW5jdGlvbihzLG4scixhKXtZcyhzLG4sdSk7bGV0IG89dS54LGg9dS55O2lmKG8+PTAmJm88PTEmJmg+PTAmJmg8PTEpe3MuYXQobyxyKSxuLmF0KGgsYSk7cmV0dXJufWVsc2UgaWYobz49MCYmbzw9MSl7aDwwP24uYXQoMCxhKTpuLmF0KDEsYSkscy5jbG9zZXN0UG9pbnRUb1BvaW50KGEsITAscik7cmV0dXJufWVsc2UgaWYoaD49MCYmaDw9MSl7bzwwP3MuYXQoMCxyKTpzLmF0KDEsciksbi5jbG9zZXN0UG9pbnRUb1BvaW50KHIsITAsYSk7cmV0dXJufWVsc2V7bGV0IGM7bzwwP2M9cy5zdGFydDpjPXMuZW5kO2xldCBmO2g8MD9mPW4uc3RhcnQ6Zj1uLmVuZDtjb25zdCBsPXQsZD1lO2lmKHMuY2xvc2VzdFBvaW50VG9Qb2ludChmLCEwLHQpLG4uY2xvc2VzdFBvaW50VG9Qb2ludChjLCEwLGUpLGwuZGlzdGFuY2VUb1NxdWFyZWQoZik8PWQuZGlzdGFuY2VUb1NxdWFyZWQoYykpe3IuY29weShsKSxhLmNvcHkoZik7cmV0dXJufWVsc2V7ci5jb3B5KGMpLGEuY29weShkKTtyZXR1cm59fX19KCksWnM9ZnVuY3Rpb24oKXtjb25zdCB1PW5ldyBBLHQ9bmV3IEEsZT1uZXcgVmksaT1uZXcgbXQ7cmV0dXJuIGZ1bmN0aW9uKG4scil7Y29uc3R7cmFkaXVzOmEsY2VudGVyOm99PW4se2E6aCxiOmMsYzpmfT1yO2lmKGkuc3RhcnQ9aCxpLmVuZD1jLGkuY2xvc2VzdFBvaW50VG9Qb2ludChvLCEwLHUpLmRpc3RhbmNlVG8obyk8PWF8fChpLnN0YXJ0PWgsaS5lbmQ9ZixpLmNsb3Nlc3RQb2ludFRvUG9pbnQobywhMCx1KS5kaXN0YW5jZVRvKG8pPD1hKXx8KGkuc3RhcnQ9YyxpLmVuZD1mLGkuY2xvc2VzdFBvaW50VG9Qb2ludChvLCEwLHUpLmRpc3RhbmNlVG8obyk8PWEpKXJldHVybiEwO2NvbnN0IHk9ci5nZXRQbGFuZShlKTtpZihNYXRoLmFicyh5LmRpc3RhbmNlVG9Qb2ludChvKSk8PWEpe2NvbnN0IG09eS5wcm9qZWN0UG9pbnQobyx0KTtpZihyLmNvbnRhaW5zUG9pbnQobSkpcmV0dXJuITB9cmV0dXJuITF9fSgpLEhzPTFlLTE1O2Z1bmN0aW9uIGZpKHUpe3JldHVybiBNYXRoLmFicyh1KTxIc31jbGFzcyBydCBleHRlbmRzIG50e2NvbnN0cnVjdG9yKC4uLnQpe3N1cGVyKC4uLnQpLHRoaXMuaXNFeHRlbmRlZFRyaWFuZ2xlPSEwLHRoaXMuc2F0QXhlcz1uZXcgQXJyYXkoNCkuZmlsbCgpLm1hcCgoKT0+bmV3IEEpLHRoaXMuc2F0Qm91bmRzPW5ldyBBcnJheSg0KS5maWxsKCkubWFwKCgpPT5uZXcgeHQpLHRoaXMucG9pbnRzPVt0aGlzLmEsdGhpcy5iLHRoaXMuY10sdGhpcy5zcGhlcmU9bmV3IEVpLHRoaXMucGxhbmU9bmV3IFZpLHRoaXMubmVlZHNVcGRhdGU9ITB9aW50ZXJzZWN0c1NwaGVyZSh0KXtyZXR1cm4gWnModCx0aGlzKX11cGRhdGUoKXtjb25zdCB0PXRoaXMuYSxlPXRoaXMuYixpPXRoaXMuYyxzPXRoaXMucG9pbnRzLG49dGhpcy5zYXRBeGVzLHI9dGhpcy5zYXRCb3VuZHMsYT1uWzBdLG89clswXTt0aGlzLmdldE5vcm1hbChhKSxvLnNldEZyb21Qb2ludHMoYSxzKTtjb25zdCBoPW5bMV0sYz1yWzFdO2guc3ViVmVjdG9ycyh0LGUpLGMuc2V0RnJvbVBvaW50cyhoLHMpO2NvbnN0IGY9blsyXSxsPXJbMl07Zi5zdWJWZWN0b3JzKGUsaSksbC5zZXRGcm9tUG9pbnRzKGYscyk7Y29uc3QgZD1uWzNdLHA9clszXTtkLnN1YlZlY3RvcnMoaSx0KSxwLnNldEZyb21Qb2ludHMoZCxzKSx0aGlzLnNwaGVyZS5zZXRGcm9tUG9pbnRzKHRoaXMucG9pbnRzKSx0aGlzLnBsYW5lLnNldEZyb21Ob3JtYWxBbmRDb3BsYW5hclBvaW50KGEsdCksdGhpcy5uZWVkc1VwZGF0ZT0hMX19cnQucHJvdG90eXBlLmNsb3Nlc3RQb2ludFRvU2VnbWVudD1mdW5jdGlvbigpe2NvbnN0IHU9bmV3IEEsdD1uZXcgQSxlPW5ldyBtdDtyZXR1cm4gZnVuY3Rpb24ocyxuPW51bGwscj1udWxsKXtjb25zdHtzdGFydDphLGVuZDpvfT1zLGg9dGhpcy5wb2ludHM7bGV0IGMsZj0xLzA7Zm9yKGxldCBsPTA7bDwzO2wrKyl7Y29uc3QgZD0obCsxKSUzO2Uuc3RhcnQuY29weShoW2xdKSxlLmVuZC5jb3B5KGhbZF0pLHVpKGUscyx1LHQpLGM9dS5kaXN0YW5jZVRvU3F1YXJlZCh0KSxjPGYmJihmPWMsbiYmbi5jb3B5KHUpLHImJnIuY29weSh0KSl9cmV0dXJuIHRoaXMuY2xvc2VzdFBvaW50VG9Qb2ludChhLHUpLGM9YS5kaXN0YW5jZVRvU3F1YXJlZCh1KSxjPGYmJihmPWMsbiYmbi5jb3B5KHUpLHImJnIuY29weShhKSksdGhpcy5jbG9zZXN0UG9pbnRUb1BvaW50KG8sdSksYz1vLmRpc3RhbmNlVG9TcXVhcmVkKHUpLGM8ZiYmKGY9YyxuJiZuLmNvcHkodSksciYmci5jb3B5KG8pKSxNYXRoLnNxcnQoZil9fSgpLHJ0LnByb3RvdHlwZS5pbnRlcnNlY3RzVHJpYW5nbGU9ZnVuY3Rpb24oKXtjb25zdCB1PW5ldyBydCx0PW5ldyBBcnJheSgzKSxlPW5ldyBBcnJheSgzKSxpPW5ldyB4dCxzPW5ldyB4dCxuPW5ldyBBLHI9bmV3IEEsYT1uZXcgQSxvPW5ldyBBLGg9bmV3IEEsYz1uZXcgbXQsZj1uZXcgbXQsbD1uZXcgbXQsZD1uZXcgQTtmdW5jdGlvbiBwKHkseCxtKXtjb25zdCBnPXkucG9pbnRzO2xldCB3PTAsTT0tMTtmb3IobGV0IGI9MDtiPDM7YisrKXtjb25zdHtzdGFydDp6LGVuZDpffT1jO3ouY29weShnW2JdKSxfLmNvcHkoZ1soYisxKSUzXSksYy5kZWx0YShyKTtjb25zdCBTPWZpKHguZGlzdGFuY2VUb1BvaW50KHopKTtpZihmaSh4Lm5vcm1hbC5kb3QocikpJiZTKXttLmNvcHkoYyksdz0yO2JyZWFrfWNvbnN0IEI9eC5pbnRlcnNlY3RMaW5lKGMsZCk7aWYoIUImJlMmJmQuY29weSh6KSwoQnx8UykmJiFmaShkLmRpc3RhbmNlVG8oXykpKXtpZih3PD0xKSh3PT09MT9tLnN0YXJ0Om0uZW5kKS5jb3B5KGQpLFMmJihNPXcpO2Vsc2UgaWYodz49Mil7KE09PT0xP20uc3RhcnQ6bS5lbmQpLmNvcHkoZCksdz0yO2JyZWFrfWlmKHcrKyx3PT09MiYmTT09PS0xKWJyZWFrfX1yZXR1cm4gd31yZXR1cm4gZnVuY3Rpb24oeCxtPW51bGwsZz0hMSl7dGhpcy5uZWVkc1VwZGF0ZSYmdGhpcy51cGRhdGUoKSx4LmlzRXh0ZW5kZWRUcmlhbmdsZT94Lm5lZWRzVXBkYXRlJiZ4LnVwZGF0ZSgpOih1LmNvcHkoeCksdS51cGRhdGUoKSx4PXUpO2NvbnN0IHc9dGhpcy5wbGFuZSxNPXgucGxhbmU7aWYoTWF0aC5hYnMody5ub3JtYWwuZG90KE0ubm9ybWFsKSk+MS0xZS0xMCl7Y29uc3QgYj10aGlzLnNhdEJvdW5kcyx6PXRoaXMuc2F0QXhlcztlWzBdPXguYSxlWzFdPXguYixlWzJdPXguYztmb3IobGV0IEI9MDtCPDQ7QisrKXtjb25zdCBUPWJbQl0sQz16W0JdO2lmKGkuc2V0RnJvbVBvaW50cyhDLGUpLFQuaXNTZXBhcmF0ZWQoaSkpcmV0dXJuITF9Y29uc3QgXz14LnNhdEJvdW5kcyxTPXguc2F0QXhlczt0WzBdPXRoaXMuYSx0WzFdPXRoaXMuYix0WzJdPXRoaXMuYztmb3IobGV0IEI9MDtCPDQ7QisrKXtjb25zdCBUPV9bQl0sQz1TW0JdO2lmKGkuc2V0RnJvbVBvaW50cyhDLHQpLFQuaXNTZXBhcmF0ZWQoaSkpcmV0dXJuITF9Zm9yKGxldCBCPTA7Qjw0O0IrKyl7Y29uc3QgVD16W0JdO2ZvcihsZXQgQz0wO0M8NDtDKyspe2NvbnN0IFA9U1tDXTtpZihuLmNyb3NzVmVjdG9ycyhULFApLGkuc2V0RnJvbVBvaW50cyhuLHQpLHMuc2V0RnJvbVBvaW50cyhuLGUpLGkuaXNTZXBhcmF0ZWQocykpcmV0dXJuITF9fXJldHVybiBtJiYoZ3x8Y29uc29sZS53YXJuKCJFeHRlbmRlZFRyaWFuZ2xlLmludGVyc2VjdHNUcmlhbmdsZTogVHJpYW5nbGVzIGFyZSBjb3BsYW5hciB3aGljaCBkb2VzIG5vdCBzdXBwb3J0IGFuIG91dHB1dCBlZGdlLiBTZXR0aW5nIGVkZ2UgdG8gMCwgMCwgMC4iKSxtLnN0YXJ0LnNldCgwLDAsMCksbS5lbmQuc2V0KDAsMCwwKSksITB9ZWxzZXtjb25zdCBiPXAodGhpcyxNLGYpO2lmKGI9PT0xJiZ4LmNvbnRhaW5zUG9pbnQoZi5lbmQpKXJldHVybiBtJiYobS5zdGFydC5jb3B5KGYuZW5kKSxtLmVuZC5jb3B5KGYuZW5kKSksITA7aWYoYiE9PTIpcmV0dXJuITE7Y29uc3Qgej1wKHgsdyxsKTtpZih6PT09MSYmdGhpcy5jb250YWluc1BvaW50KGwuZW5kKSlyZXR1cm4gbSYmKG0uc3RhcnQuY29weShsLmVuZCksbS5lbmQuY29weShsLmVuZCkpLCEwO2lmKHohPT0yKXJldHVybiExO2lmKGYuZGVsdGEoYSksbC5kZWx0YShvKSxhLmRvdChvKTwwKXtsZXQgRT1sLnN0YXJ0O2wuc3RhcnQ9bC5lbmQsbC5lbmQ9RX1jb25zdCBfPWYuc3RhcnQuZG90KGEpLFM9Zi5lbmQuZG90KGEpLEI9bC5zdGFydC5kb3QoYSksVD1sLmVuZC5kb3QoYSksQz1TPEIsUD1fPFQ7cmV0dXJuIF8hPT1UJiZCIT09UyYmQz09PVA/ITE6KG0mJihoLnN1YlZlY3RvcnMoZi5zdGFydCxsLnN0YXJ0KSxoLmRvdChhKT4wP20uc3RhcnQuY29weShmLnN0YXJ0KTptLnN0YXJ0LmNvcHkobC5zdGFydCksaC5zdWJWZWN0b3JzKGYuZW5kLGwuZW5kKSxoLmRvdChhKTwwP20uZW5kLmNvcHkoZi5lbmQpOm0uZW5kLmNvcHkobC5lbmQpKSwhMCl9fX0oKSxydC5wcm90b3R5cGUuZGlzdGFuY2VUb1BvaW50PWZ1bmN0aW9uKCl7Y29uc3QgdT1uZXcgQTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY2xvc2VzdFBvaW50VG9Qb2ludChlLHUpLGUuZGlzdGFuY2VUbyh1KX19KCkscnQucHJvdG90eXBlLmRpc3RhbmNlVG9UcmlhbmdsZT1mdW5jdGlvbigpe2NvbnN0IHU9bmV3IEEsdD1uZXcgQSxlPVsiYSIsImIiLCJjIl0saT1uZXcgbXQscz1uZXcgbXQ7cmV0dXJuIGZ1bmN0aW9uKHIsYT1udWxsLG89bnVsbCl7Y29uc3QgaD1hfHxvP2k6bnVsbDtpZih0aGlzLmludGVyc2VjdHNUcmlhbmdsZShyLGgpKXJldHVybihhfHxvKSYmKGEmJmguZ2V0Q2VudGVyKGEpLG8mJmguZ2V0Q2VudGVyKG8pKSwwO2xldCBjPTEvMDtmb3IobGV0IGY9MDtmPDM7ZisrKXtsZXQgbDtjb25zdCBkPWVbZl0scD1yW2RdO3RoaXMuY2xvc2VzdFBvaW50VG9Qb2ludChwLHUpLGw9cC5kaXN0YW5jZVRvU3F1YXJlZCh1KSxsPGMmJihjPWwsYSYmYS5jb3B5KHUpLG8mJm8uY29weShwKSk7Y29uc3QgeT10aGlzW2RdO3IuY2xvc2VzdFBvaW50VG9Qb2ludCh5LHUpLGw9eS5kaXN0YW5jZVRvU3F1YXJlZCh1KSxsPGMmJihjPWwsYSYmYS5jb3B5KHkpLG8mJm8uY29weSh1KSl9Zm9yKGxldCBmPTA7ZjwzO2YrKyl7Y29uc3QgbD1lW2ZdLGQ9ZVsoZisxKSUzXTtpLnNldCh0aGlzW2xdLHRoaXNbZF0pO2ZvcihsZXQgcD0wO3A8MztwKyspe2NvbnN0IHk9ZVtwXSx4PWVbKHArMSklM107cy5zZXQoclt5XSxyW3hdKSx1aShpLHMsdSx0KTtjb25zdCBtPXUuZGlzdGFuY2VUb1NxdWFyZWQodCk7bTxjJiYoYz1tLGEmJmEuY29weSh1KSxvJiZvLmNvcHkodCkpfX1yZXR1cm4gTWF0aC5zcXJ0KGMpfX0oKTtjbGFzcyBYe2NvbnN0cnVjdG9yKHQsZSxpKXt0aGlzLmlzT3JpZW50ZWRCb3g9ITAsdGhpcy5taW49bmV3IEEsdGhpcy5tYXg9bmV3IEEsdGhpcy5tYXRyaXg9bmV3IE4sdGhpcy5pbnZNYXRyaXg9bmV3IE4sdGhpcy5wb2ludHM9bmV3IEFycmF5KDgpLmZpbGwoKS5tYXAoKCk9Pm5ldyBBKSx0aGlzLnNhdEF4ZXM9bmV3IEFycmF5KDMpLmZpbGwoKS5tYXAoKCk9Pm5ldyBBKSx0aGlzLnNhdEJvdW5kcz1uZXcgQXJyYXkoMykuZmlsbCgpLm1hcCgoKT0+bmV3IHh0KSx0aGlzLmFsaWduZWRTYXRCb3VuZHM9bmV3IEFycmF5KDMpLmZpbGwoKS5tYXAoKCk9Pm5ldyB4dCksdGhpcy5uZWVkc1VwZGF0ZT0hMSx0JiZ0aGlzLm1pbi5jb3B5KHQpLGUmJnRoaXMubWF4LmNvcHkoZSksaSYmdGhpcy5tYXRyaXguY29weShpKX1zZXQodCxlLGkpe3RoaXMubWluLmNvcHkodCksdGhpcy5tYXguY29weShlKSx0aGlzLm1hdHJpeC5jb3B5KGkpLHRoaXMubmVlZHNVcGRhdGU9ITB9Y29weSh0KXt0aGlzLm1pbi5jb3B5KHQubWluKSx0aGlzLm1heC5jb3B5KHQubWF4KSx0aGlzLm1hdHJpeC5jb3B5KHQubWF0cml4KSx0aGlzLm5lZWRzVXBkYXRlPSEwfX1YLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXtjb25zdCB0PXRoaXMubWF0cml4LGU9dGhpcy5taW4saT10aGlzLm1heCxzPXRoaXMucG9pbnRzO2ZvcihsZXQgaD0wO2g8PTE7aCsrKWZvcihsZXQgYz0wO2M8PTE7YysrKWZvcihsZXQgZj0wO2Y8PTE7ZisrKXtjb25zdCBsPTEqaHwyKmN8NCpmLGQ9c1tsXTtkLng9aD9pLng6ZS54LGQueT1jP2kueTplLnksZC56PWY/aS56OmUueixkLmFwcGx5TWF0cml4NCh0KX1jb25zdCBuPXRoaXMuc2F0Qm91bmRzLHI9dGhpcy5zYXRBeGVzLGE9c1swXTtmb3IobGV0IGg9MDtoPDM7aCsrKXtjb25zdCBjPXJbaF0sZj1uW2hdLGw9MTw8aCxkPXNbbF07Yy5zdWJWZWN0b3JzKGEsZCksZi5zZXRGcm9tUG9pbnRzKGMscyl9Y29uc3Qgbz10aGlzLmFsaWduZWRTYXRCb3VuZHM7b1swXS5zZXRGcm9tUG9pbnRzRmllbGQocywieCIpLG9bMV0uc2V0RnJvbVBvaW50c0ZpZWxkKHMsInkiKSxvWzJdLnNldEZyb21Qb2ludHNGaWVsZChzLCJ6IiksdGhpcy5pbnZNYXRyaXguY29weSh0aGlzLm1hdHJpeCkuaW52ZXJ0KCksdGhpcy5uZWVkc1VwZGF0ZT0hMX19KCksWC5wcm90b3R5cGUuaW50ZXJzZWN0c0JveD1mdW5jdGlvbigpe2NvbnN0IHU9bmV3IHh0O3JldHVybiBmdW5jdGlvbihlKXt0aGlzLm5lZWRzVXBkYXRlJiZ0aGlzLnVwZGF0ZSgpO2NvbnN0IGk9ZS5taW4scz1lLm1heCxuPXRoaXMuc2F0Qm91bmRzLHI9dGhpcy5zYXRBeGVzLGE9dGhpcy5hbGlnbmVkU2F0Qm91bmRzO2lmKHUubWluPWkueCx1Lm1heD1zLngsYVswXS5pc1NlcGFyYXRlZCh1KXx8KHUubWluPWkueSx1Lm1heD1zLnksYVsxXS5pc1NlcGFyYXRlZCh1KSl8fCh1Lm1pbj1pLnosdS5tYXg9cy56LGFbMl0uaXNTZXBhcmF0ZWQodSkpKXJldHVybiExO2ZvcihsZXQgbz0wO288MztvKyspe2NvbnN0IGg9cltvXSxjPW5bb107aWYodS5zZXRGcm9tQm94KGgsZSksYy5pc1NlcGFyYXRlZCh1KSlyZXR1cm4hMX1yZXR1cm4hMH19KCksWC5wcm90b3R5cGUuaW50ZXJzZWN0c1RyaWFuZ2xlPWZ1bmN0aW9uKCl7Y29uc3QgdT1uZXcgcnQsdD1uZXcgQXJyYXkoMyksZT1uZXcgeHQsaT1uZXcgeHQscz1uZXcgQTtyZXR1cm4gZnVuY3Rpb24ocil7dGhpcy5uZWVkc1VwZGF0ZSYmdGhpcy51cGRhdGUoKSxyLmlzRXh0ZW5kZWRUcmlhbmdsZT9yLm5lZWRzVXBkYXRlJiZyLnVwZGF0ZSgpOih1LmNvcHkociksdS51cGRhdGUoKSxyPXUpO2NvbnN0IGE9dGhpcy5zYXRCb3VuZHMsbz10aGlzLnNhdEF4ZXM7dFswXT1yLmEsdFsxXT1yLmIsdFsyXT1yLmM7Zm9yKGxldCBsPTA7bDwzO2wrKyl7Y29uc3QgZD1hW2xdLHA9b1tsXTtpZihlLnNldEZyb21Qb2ludHMocCx0KSxkLmlzU2VwYXJhdGVkKGUpKXJldHVybiExfWNvbnN0IGg9ci5zYXRCb3VuZHMsYz1yLnNhdEF4ZXMsZj10aGlzLnBvaW50cztmb3IobGV0IGw9MDtsPDM7bCsrKXtjb25zdCBkPWhbbF0scD1jW2xdO2lmKGUuc2V0RnJvbVBvaW50cyhwLGYpLGQuaXNTZXBhcmF0ZWQoZSkpcmV0dXJuITF9Zm9yKGxldCBsPTA7bDwzO2wrKyl7Y29uc3QgZD1vW2xdO2ZvcihsZXQgcD0wO3A8NDtwKyspe2NvbnN0IHk9Y1twXTtpZihzLmNyb3NzVmVjdG9ycyhkLHkpLGUuc2V0RnJvbVBvaW50cyhzLHQpLGkuc2V0RnJvbVBvaW50cyhzLGYpLGUuaXNTZXBhcmF0ZWQoaSkpcmV0dXJuITF9fXJldHVybiEwfX0oKSxYLnByb3RvdHlwZS5jbG9zZXN0UG9pbnRUb1BvaW50PWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMubmVlZHNVcGRhdGUmJnRoaXMudXBkYXRlKCksZS5jb3B5KHQpLmFwcGx5TWF0cml4NCh0aGlzLmludk1hdHJpeCkuY2xhbXAodGhpcy5taW4sdGhpcy5tYXgpLmFwcGx5TWF0cml4NCh0aGlzLm1hdHJpeCksZX19KCksWC5wcm90b3R5cGUuZGlzdGFuY2VUb1BvaW50PWZ1bmN0aW9uKCl7Y29uc3QgdT1uZXcgQTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY2xvc2VzdFBvaW50VG9Qb2ludChlLHUpLGUuZGlzdGFuY2VUbyh1KX19KCksWC5wcm90b3R5cGUuZGlzdGFuY2VUb0JveD1mdW5jdGlvbigpe2NvbnN0IHU9WyJ4IiwieSIsInoiXSx0PW5ldyBBcnJheSgxMikuZmlsbCgpLm1hcCgoKT0+bmV3IG10KSxlPW5ldyBBcnJheSgxMikuZmlsbCgpLm1hcCgoKT0+bmV3IG10KSxpPW5ldyBBLHM9bmV3IEE7cmV0dXJuIGZ1bmN0aW9uKHIsYT0wLG89bnVsbCxoPW51bGwpe2lmKHRoaXMubmVlZHNVcGRhdGUmJnRoaXMudXBkYXRlKCksdGhpcy5pbnRlcnNlY3RzQm94KHIpKXJldHVybihvfHxoKSYmKHIuZ2V0Q2VudGVyKHMpLHRoaXMuY2xvc2VzdFBvaW50VG9Qb2ludChzLGkpLHIuY2xvc2VzdFBvaW50VG9Qb2ludChpLHMpLG8mJm8uY29weShpKSxoJiZoLmNvcHkocykpLDA7Y29uc3QgYz1hKmEsZj1yLm1pbixsPXIubWF4LGQ9dGhpcy5wb2ludHM7bGV0IHA9MS8wO2ZvcihsZXQgeD0wO3g8ODt4Kyspe2NvbnN0IG09ZFt4XTtzLmNvcHkobSkuY2xhbXAoZixsKTtjb25zdCBnPW0uZGlzdGFuY2VUb1NxdWFyZWQocyk7aWYoZzxwJiYocD1nLG8mJm8uY29weShtKSxoJiZoLmNvcHkocyksZzxjKSlyZXR1cm4gTWF0aC5zcXJ0KGcpfWxldCB5PTA7Zm9yKGxldCB4PTA7eDwzO3grKylmb3IobGV0IG09MDttPD0xO20rKylmb3IobGV0IGc9MDtnPD0xO2crKyl7Y29uc3Qgdz0oeCsxKSUzLE09KHgrMiklMyxiPW08PHd8Zzw8TSx6PTE8PHh8bTw8d3xnPDxNLF89ZFtiXSxTPWRbel07dFt5XS5zZXQoXyxTKTtjb25zdCBUPXVbeF0sQz11W3ddLFA9dVtNXSxFPWVbeV0sRj1FLnN0YXJ0LFU9RS5lbmQ7RltUXT1mW1RdLEZbQ109bT9mW0NdOmxbQ10sRltQXT1nP2ZbUF06bFtDXSxVW1RdPWxbVF0sVVtDXT1tP2ZbQ106bFtDXSxVW1BdPWc/ZltQXTpsW0NdLHkrK31mb3IobGV0IHg9MDt4PD0xO3grKylmb3IobGV0IG09MDttPD0xO20rKylmb3IobGV0IGc9MDtnPD0xO2crKyl7cy54PXg/bC54OmYueCxzLnk9bT9sLnk6Zi55LHMuej1nP2wuejpmLnosdGhpcy5jbG9zZXN0UG9pbnRUb1BvaW50KHMsaSk7Y29uc3Qgdz1zLmRpc3RhbmNlVG9TcXVhcmVkKGkpO2lmKHc8cCYmKHA9dyxvJiZvLmNvcHkoaSksaCYmaC5jb3B5KHMpLHc8YykpcmV0dXJuIE1hdGguc3FydCh3KX1mb3IobGV0IHg9MDt4PDEyO3grKyl7Y29uc3QgbT10W3hdO2ZvcihsZXQgZz0wO2c8MTI7ZysrKXtjb25zdCB3PWVbZ107dWkobSx3LGkscyk7Y29uc3QgTT1pLmRpc3RhbmNlVG9TcXVhcmVkKHMpO2lmKE08cCYmKHA9TSxvJiZvLmNvcHkoaSksaCYmaC5jb3B5KHMpLE08YykpcmV0dXJuIE1hdGguc3FydChNKX19cmV0dXJuIE1hdGguc3FydChwKX19KCk7Y2xhc3MgZGl7Y29uc3RydWN0b3IodCl7dGhpcy5fZ2V0TmV3UHJpbWl0aXZlPXQsdGhpcy5fcHJpbWl0aXZlcz1bXX1nZXRQcmltaXRpdmUoKXtjb25zdCB0PXRoaXMuX3ByaW1pdGl2ZXM7cmV0dXJuIHQubGVuZ3RoPT09MD90aGlzLl9nZXROZXdQcmltaXRpdmUoKTp0LnBvcCgpfXJlbGVhc2VQcmltaXRpdmUodCl7dGhpcy5fcHJpbWl0aXZlcy5wdXNoKHQpfX1jbGFzcyAkcyBleHRlbmRzIGRpe2NvbnN0cnVjdG9yKCl7c3VwZXIoKCk9Pm5ldyBydCl9fWNvbnN0IHR0PW5ldyAkcztjbGFzcyBqc3tjb25zdHJ1Y3Rvcigpe3RoaXMuZmxvYXQzMkFycmF5PW51bGwsdGhpcy51aW50MTZBcnJheT1udWxsLHRoaXMudWludDMyQXJyYXk9bnVsbDtjb25zdCB0PVtdO2xldCBlPW51bGw7dGhpcy5zZXRCdWZmZXI9aT0+e2UmJnQucHVzaChlKSxlPWksdGhpcy5mbG9hdDMyQXJyYXk9bmV3IEZsb2F0MzJBcnJheShpKSx0aGlzLnVpbnQxNkFycmF5PW5ldyBVaW50MTZBcnJheShpKSx0aGlzLnVpbnQzMkFycmF5PW5ldyBVaW50MzJBcnJheShpKX0sdGhpcy5jbGVhckJ1ZmZlcj0oKT0+e2U9bnVsbCx0aGlzLmZsb2F0MzJBcnJheT1udWxsLHRoaXMudWludDE2QXJyYXk9bnVsbCx0aGlzLnVpbnQzMkFycmF5PW51bGwsdC5sZW5ndGghPT0wJiZ0aGlzLnNldEJ1ZmZlcih0LnBvcCgpKX19fWNvbnN0IGs9bmV3IGpzO2xldCB6dCxxdDtjb25zdCB2dD1bXSxTZT1uZXcgZGkoKCk9Pm5ldyBXKTtmdW5jdGlvbiBHcyh1LHQsZSxpLHMsbil7enQ9U2UuZ2V0UHJpbWl0aXZlKCkscXQ9U2UuZ2V0UHJpbWl0aXZlKCksdnQucHVzaCh6dCxxdCksay5zZXRCdWZmZXIodS5fcm9vdHNbdF0pO2NvbnN0IHI9cGkoMCx1Lmdlb21ldHJ5LGUsaSxzLG4pO2suY2xlYXJCdWZmZXIoKSxTZS5yZWxlYXNlUHJpbWl0aXZlKHp0KSxTZS5yZWxlYXNlUHJpbWl0aXZlKHF0KSx2dC5wb3AoKSx2dC5wb3AoKTtjb25zdCBhPXZ0Lmxlbmd0aDtyZXR1cm4gYT4wJiYocXQ9dnRbYS0xXSx6dD12dFthLTJdKSxyfWZ1bmN0aW9uIHBpKHUsdCxlLGkscz1udWxsLG49MCxyPTApe2NvbnN0e2Zsb2F0MzJBcnJheTphLHVpbnQxNkFycmF5Om8sdWludDMyQXJyYXk6aH09aztsZXQgYz11KjI7aWYoWShjLG8pKXtjb25zdCBsPSQodSxoKSxkPUooYyxvKTtyZXR1cm4gTCh1LGEsenQpLGkobCxkLCExLHIsbit1LHp0KX1lbHNle2xldCBUPWZ1bmN0aW9uKFApe2NvbnN0e3VpbnQxNkFycmF5OkUsdWludDMyQXJyYXk6Rn09aztsZXQgVT1QKjI7Zm9yKDshWShVLEUpOylQPVEoUCksVT1QKjI7cmV0dXJuICQoUCxGKX0sQz1mdW5jdGlvbihQKXtjb25zdHt1aW50MTZBcnJheTpFLHVpbnQzMkFycmF5OkZ9PWs7bGV0IFU9UCoyO2Zvcig7IVkoVSxFKTspUD1LKFAsRiksVT1QKjI7cmV0dXJuICQoUCxGKStKKFUsRSl9O2NvbnN0IGw9USh1KSxkPUsodSxoKTtsZXQgcD1sLHk9ZCx4LG0sZyx3O2lmKHMmJihnPXp0LHc9cXQsTChwLGEsZyksTCh5LGEsdykseD1zKGcpLG09cyh3KSxtPHgpKXtwPWQseT1sO2NvbnN0IFA9eDt4PW0sbT1QLGc9d31nfHwoZz16dCxMKHAsYSxnKSk7Y29uc3QgTT1ZKHAqMixvKSxiPWUoZyxNLHgscisxLG4rcCk7bGV0IHo7aWYoYj09PXZpKXtjb25zdCBQPVQocCksRj1DKHApLVA7ej1pKFAsRiwhMCxyKzEsbitwLGcpfWVsc2Ugej1iJiZwaShwLHQsZSxpLHMsbixyKzEpO2lmKHopcmV0dXJuITA7dz1xdCxMKHksYSx3KTtjb25zdCBfPVkoeSoyLG8pLFM9ZSh3LF8sbSxyKzEsbit5KTtsZXQgQjtpZihTPT09dmkpe2NvbnN0IFA9VCh5KSxGPUMoeSktUDtCPWkoUCxGLCEwLHIrMSxuK3ksdyl9ZWxzZSBCPVMmJnBpKHksdCxlLGkscyxuLHIrMSk7cmV0dXJuISFCfX1jb25zdCBvZT1uZXcgQSxtaT1uZXcgQTtmdW5jdGlvbiBKcyh1LHQsZT17fSxpPTAscz0xLzApe2NvbnN0IG49aSppLHI9cypzO2xldCBhPTEvMCxvPW51bGw7aWYodS5zaGFwZWNhc3Qoe2JvdW5kc1RyYXZlcnNlT3JkZXI6Yz0+KG9lLmNvcHkodCkuY2xhbXAoYy5taW4sYy5tYXgpLG9lLmRpc3RhbmNlVG9TcXVhcmVkKHQpKSxpbnRlcnNlY3RzQm91bmRzOihjLGYsbCk9Pmw8YSYmbDxyLGludGVyc2VjdHNUcmlhbmdsZTooYyxmKT0+e2MuY2xvc2VzdFBvaW50VG9Qb2ludCh0LG9lKTtjb25zdCBsPXQuZGlzdGFuY2VUb1NxdWFyZWQob2UpO3JldHVybiBsPGEmJihtaS5jb3B5KG9lKSxhPWwsbz1mKSxsPG59fSksYT09PTEvMClyZXR1cm4gbnVsbDtjb25zdCBoPU1hdGguc3FydChhKTtyZXR1cm4gZS5wb2ludD9lLnBvaW50LmNvcHkobWkpOmUucG9pbnQ9bWkuY2xvbmUoKSxlLmRpc3RhbmNlPWgsZS5mYWNlSW5kZXg9byxlfWNvbnN0IFd0PW5ldyBBLFh0PW5ldyBBLE90PW5ldyBBLEJlPW5ldyB2LFRlPW5ldyB2LFBlPW5ldyB2LEppPW5ldyBBLFFpPW5ldyBBLEtpPW5ldyBBLENlPW5ldyBBO2Z1bmN0aW9uIFFzKHUsdCxlLGkscyxuLHIsYSl7bGV0IG87aWYobj09PTE/bz11LmludGVyc2VjdFRyaWFuZ2xlKGksZSx0LCEwLHMpOm89dS5pbnRlcnNlY3RUcmlhbmdsZSh0LGUsaSxuIT09MixzKSxvPT09bnVsbClyZXR1cm4gbnVsbDtjb25zdCBoPXUub3JpZ2luLmRpc3RhbmNlVG8ocyk7cmV0dXJuIGg8cnx8aD5hP251bGw6e2Rpc3RhbmNlOmgscG9pbnQ6cy5jbG9uZSgpfX1mdW5jdGlvbiBLcyh1LHQsZSxpLHMsbixyLGEsbyxoLGMpe1d0LmZyb21CdWZmZXJBdHRyaWJ1dGUodCxuKSxYdC5mcm9tQnVmZmVyQXR0cmlidXRlKHQsciksT3QuZnJvbUJ1ZmZlckF0dHJpYnV0ZSh0LGEpO2NvbnN0IGY9UXModSxXdCxYdCxPdCxDZSxvLGgsYyk7aWYoZil7aSYmKEJlLmZyb21CdWZmZXJBdHRyaWJ1dGUoaSxuKSxUZS5mcm9tQnVmZmVyQXR0cmlidXRlKGksciksUGUuZnJvbUJ1ZmZlckF0dHJpYnV0ZShpLGEpLGYudXY9bnQuZ2V0SW50ZXJwb2xhdGlvbihDZSxXdCxYdCxPdCxCZSxUZSxQZSxuZXcgdikpLHMmJihCZS5mcm9tQnVmZmVyQXR0cmlidXRlKHMsbiksVGUuZnJvbUJ1ZmZlckF0dHJpYnV0ZShzLHIpLFBlLmZyb21CdWZmZXJBdHRyaWJ1dGUocyxhKSxmLnV2MT1udC5nZXRJbnRlcnBvbGF0aW9uKENlLFd0LFh0LE90LEJlLFRlLFBlLG5ldyB2KSksZSYmKEppLmZyb21CdWZmZXJBdHRyaWJ1dGUoZSxuKSxRaS5mcm9tQnVmZmVyQXR0cmlidXRlKGUsciksS2kuZnJvbUJ1ZmZlckF0dHJpYnV0ZShlLGEpLGYubm9ybWFsPW50LmdldEludGVycG9sYXRpb24oQ2UsV3QsWHQsT3QsSmksUWksS2ksbmV3IEEpLGYubm9ybWFsLmRvdCh1LmRpcmVjdGlvbik+MCYmZi5ub3JtYWwubXVsdGlwbHlTY2FsYXIoLTEpKTtjb25zdCBsPXthOm4sYjpyLGM6YSxub3JtYWw6bmV3IEEsbWF0ZXJpYWxJbmRleDowfTtudC5nZXROb3JtYWwoV3QsWHQsT3QsbC5ub3JtYWwpLGYuZmFjZT1sLGYuZmFjZUluZGV4PW59cmV0dXJuIGZ9ZnVuY3Rpb24gRWUodSx0LGUsaSxzLG4scil7Y29uc3QgYT1pKjM7bGV0IG89YSswLGg9YSsxLGM9YSsyO2NvbnN0IGY9dS5pbmRleDt1LmluZGV4JiYobz1mLmdldFgobyksaD1mLmdldFgoaCksYz1mLmdldFgoYykpO2NvbnN0e3Bvc2l0aW9uOmwsbm9ybWFsOmQsdXY6cCx1djE6eX09dS5hdHRyaWJ1dGVzLHg9S3MoZSxsLGQscCx5LG8saCxjLHQsbixyKTtyZXR1cm4geD8oeC5mYWNlSW5kZXg9aSxzJiZzLnB1c2goeCkseCk6bnVsbH1mdW5jdGlvbiBEKHUsdCxlLGkpe2NvbnN0IHM9dS5hLG49dS5iLHI9dS5jO2xldCBhPXQsbz10KzEsaD10KzI7ZSYmKGE9ZS5nZXRYKGEpLG89ZS5nZXRYKG8pLGg9ZS5nZXRYKGgpKSxzLng9aS5nZXRYKGEpLHMueT1pLmdldFkoYSkscy56PWkuZ2V0WihhKSxuLng9aS5nZXRYKG8pLG4ueT1pLmdldFkobyksbi56PWkuZ2V0WihvKSxyLng9aS5nZXRYKGgpLHIueT1pLmdldFkoaCksci56PWkuZ2V0WihoKX1mdW5jdGlvbiB0bih1LHQsZSxpLHMsbixyLGEpe2NvbnN0e2dlb21ldHJ5Om8sX2luZGlyZWN0QnVmZmVyOmh9PXU7Zm9yKGxldCBjPWksZj1pK3M7YzxmO2MrKylFZShvLHQsZSxjLG4scixhKX1mdW5jdGlvbiBlbih1LHQsZSxpLHMsbixyKXtjb25zdHtnZW9tZXRyeTphLF9pbmRpcmVjdEJ1ZmZlcjpvfT11O2xldCBoPTEvMCxjPW51bGw7Zm9yKGxldCBmPWksbD1pK3M7ZjxsO2YrKyl7bGV0IGQ7ZD1FZShhLHQsZSxmLG51bGwsbixyKSxkJiZkLmRpc3RhbmNlPGgmJihjPWQsaD1kLmRpc3RhbmNlKX1yZXR1cm4gY31mdW5jdGlvbiBzbih1LHQsZSxpLHMsbixyKXtjb25zdHtnZW9tZXRyeTphfT1lLHtpbmRleDpvfT1hLGg9YS5hdHRyaWJ1dGVzLnBvc2l0aW9uO2ZvcihsZXQgYz11LGY9dCt1O2M8ZjtjKyspe2xldCBsO2lmKGw9YyxEKHIsbCozLG8saCksci5uZWVkc1VwZGF0ZT0hMCxpKHIsbCxzLG4pKXJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIG5uKHUsdD1udWxsKXt0JiZBcnJheS5pc0FycmF5KHQpJiYodD1uZXcgU2V0KHQpKTtjb25zdCBlPXUuZ2VvbWV0cnksaT1lLmluZGV4P2UuaW5kZXguYXJyYXk6bnVsbCxzPWUuYXR0cmlidXRlcy5wb3NpdGlvbjtsZXQgbixyLGEsbyxoPTA7Y29uc3QgYz11Ll9yb290cztmb3IobGV0IGw9MCxkPWMubGVuZ3RoO2w8ZDtsKyspbj1jW2xdLHI9bmV3IFVpbnQzMkFycmF5KG4pLGE9bmV3IFVpbnQxNkFycmF5KG4pLG89bmV3IEZsb2F0MzJBcnJheShuKSxmKDAsaCksaCs9bi5ieXRlTGVuZ3RoO2Z1bmN0aW9uIGYobCxkLHA9ITEpe2NvbnN0IHk9bCoyO2lmKGFbeSsxNV09PT1fZSl7Y29uc3QgbT1yW2wrNl0sZz1hW3krMTRdO2xldCB3PTEvMCxNPTEvMCxiPTEvMCx6PS0xLzAsXz0tMS8wLFM9LTEvMDtmb3IobGV0IEI9MyptLFQ9MyoobStnKTtCPFQ7QisrKXtsZXQgQz1pW0JdO2NvbnN0IFA9cy5nZXRYKEMpLEU9cy5nZXRZKEMpLEY9cy5nZXRaKEMpO1A8dyYmKHc9UCksUD56JiYoej1QKSxFPE0mJihNPUUpLEU+XyYmKF89RSksRjxiJiYoYj1GKSxGPlMmJihTPUYpfXJldHVybiBvW2wrMF0hPT13fHxvW2wrMV0hPT1NfHxvW2wrMl0hPT1ifHxvW2wrM10hPT16fHxvW2wrNF0hPT1ffHxvW2wrNV0hPT1TPyhvW2wrMF09dyxvW2wrMV09TSxvW2wrMl09YixvW2wrM109eixvW2wrNF09XyxvW2wrNV09UywhMCk6ITF9ZWxzZXtjb25zdCBtPWwrOCxnPXJbbCs2XSx3PW0rZCxNPWcrZDtsZXQgYj1wLHo9ITEsXz0hMTt0P2J8fCh6PXQuaGFzKHcpLF89dC5oYXMoTSksYj0heiYmIV8pOih6PSEwLF89ITApO2NvbnN0IFM9Ynx8eixCPWJ8fF87bGV0IFQ9ITE7UyYmKFQ9ZihtLGQsYikpO2xldCBDPSExO0ImJihDPWYoZyxkLGIpKTtjb25zdCBQPVR8fEM7aWYoUClmb3IobGV0IEU9MDtFPDM7RSsrKXtjb25zdCBGPW0rRSxVPWcrRSxSPW9bRl0saj1vW0YrM10saHQ9b1tVXSxsdD1vW1UrM107b1tsK0VdPVI8aHQ/UjpodCxvW2wrRSszXT1qPmx0P2o6bHR9cmV0dXJuIFB9fX1mdW5jdGlvbiBTdCh1LHQsZSxpLHMpe2xldCBuLHIsYSxvLGgsYztjb25zdCBmPTEvZS5kaXJlY3Rpb24ueCxsPTEvZS5kaXJlY3Rpb24ueSxkPTEvZS5kaXJlY3Rpb24ueixwPWUub3JpZ2luLngseT1lLm9yaWdpbi55LHg9ZS5vcmlnaW4uejtsZXQgbT10W3VdLGc9dFt1KzNdLHc9dFt1KzFdLE09dFt1KzMrMV0sYj10W3UrMl0sej10W3UrMysyXTtyZXR1cm4gZj49MD8obj0obS1wKSpmLHI9KGctcCkqZik6KG49KGctcCkqZixyPShtLXApKmYpLGw+PTA/KGE9KHcteSkqbCxvPShNLXkpKmwpOihhPShNLXkpKmwsbz0ody15KSpsKSxuPm98fGE+cnx8KChhPm58fGlzTmFOKG4pKSYmKG49YSksKG88cnx8aXNOYU4ocikpJiYocj1vKSxkPj0wPyhoPShiLXgpKmQsYz0oei14KSpkKTooaD0oei14KSpkLGM9KGIteCkqZCksbj5jfHxoPnIpPyExOigoaD5ufHxuIT09bikmJihuPWgpLChjPHJ8fHIhPT1yKSYmKHI9Yyksbjw9cyYmcj49aSl9ZnVuY3Rpb24gcm4odSx0LGUsaSxzLG4scixhKXtjb25zdHtnZW9tZXRyeTpvLF9pbmRpcmVjdEJ1ZmZlcjpofT11O2ZvcihsZXQgYz1pLGY9aStzO2M8ZjtjKyspe2xldCBsPWg/aFtjXTpjO0VlKG8sdCxlLGwsbixyLGEpfX1mdW5jdGlvbiBvbih1LHQsZSxpLHMsbixyKXtjb25zdHtnZW9tZXRyeTphLF9pbmRpcmVjdEJ1ZmZlcjpvfT11O2xldCBoPTEvMCxjPW51bGw7Zm9yKGxldCBmPWksbD1pK3M7ZjxsO2YrKyl7bGV0IGQ7ZD1FZShhLHQsZSxvP29bZl06ZixudWxsLG4sciksZCYmZC5kaXN0YW5jZTxoJiYoYz1kLGg9ZC5kaXN0YW5jZSl9cmV0dXJuIGN9ZnVuY3Rpb24gYW4odSx0LGUsaSxzLG4scil7Y29uc3R7Z2VvbWV0cnk6YX09ZSx7aW5kZXg6b309YSxoPWEuYXR0cmlidXRlcy5wb3NpdGlvbjtmb3IobGV0IGM9dSxmPXQrdTtjPGY7YysrKXtsZXQgbDtpZihsPWUucmVzb2x2ZVRyaWFuZ2xlSW5kZXgoYyksRChyLGwqMyxvLGgpLHIubmVlZHNVcGRhdGU9ITAsaShyLGwscyxuKSlyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBjbih1LHQsZSxpLHMsbixyKXtrLnNldEJ1ZmZlcih1Ll9yb290c1t0XSkseWkoMCx1LGUsaSxzLG4sciksay5jbGVhckJ1ZmZlcigpfWZ1bmN0aW9uIHlpKHUsdCxlLGkscyxuLHIpe2NvbnN0e2Zsb2F0MzJBcnJheTphLHVpbnQxNkFycmF5Om8sdWludDMyQXJyYXk6aH09ayxjPXUqMjtpZihZKGMsbykpe2NvbnN0IGw9JCh1LGgpLGQ9SihjLG8pO3RuKHQsZSxpLGwsZCxzLG4scil9ZWxzZXtjb25zdCBsPVEodSk7U3QobCxhLGksbixyKSYmeWkobCx0LGUsaSxzLG4scik7Y29uc3QgZD1LKHUsaCk7U3QoZCxhLGksbixyKSYmeWkoZCx0LGUsaSxzLG4scil9fWNvbnN0IGhuPVsieCIsInkiLCJ6Il07ZnVuY3Rpb24gbG4odSx0LGUsaSxzLG4pe2suc2V0QnVmZmVyKHUuX3Jvb3RzW3RdKTtjb25zdCByPXhpKDAsdSxlLGkscyxuKTtyZXR1cm4gay5jbGVhckJ1ZmZlcigpLHJ9ZnVuY3Rpb24geGkodSx0LGUsaSxzLG4pe2NvbnN0e2Zsb2F0MzJBcnJheTpyLHVpbnQxNkFycmF5OmEsdWludDMyQXJyYXk6b309aztsZXQgaD11KjI7aWYoWShoLGEpKXtjb25zdCBmPSQodSxvKSxsPUooaCxhKTtyZXR1cm4gZW4odCxlLGksZixsLHMsbil9ZWxzZXtjb25zdCBmPSRpKHUsbyksbD1obltmXSxwPWkuZGlyZWN0aW9uW2xdPj0wO2xldCB5LHg7cD8oeT1RKHUpLHg9Syh1LG8pKTooeT1LKHUsbykseD1RKHUpKTtjb25zdCBnPVN0KHkscixpLHMsbik/eGkoeSx0LGUsaSxzLG4pOm51bGw7aWYoZyl7Y29uc3QgYj1nLnBvaW50W2xdO2lmKHA/Yjw9clt4K2ZdOmI+PXJbeCtmKzNdKXJldHVybiBnfWNvbnN0IE09U3QoeCxyLGkscyxuKT94aSh4LHQsZSxpLHMsbik6bnVsbDtyZXR1cm4gZyYmTT9nLmRpc3RhbmNlPD1NLmRpc3RhbmNlP2c6TTpnfHxNfHxudWxsfX1jb25zdCBGZT1uZXcgVyxZdD1uZXcgcnQsWnQ9bmV3IHJ0LGFlPW5ldyBOLHRzPW5ldyBYLFVlPW5ldyBYO2Z1bmN0aW9uIHVuKHUsdCxlLGkpe2suc2V0QnVmZmVyKHUuX3Jvb3RzW3RdKTtjb25zdCBzPWdpKDAsdSxlLGkpO3JldHVybiBrLmNsZWFyQnVmZmVyKCksc31mdW5jdGlvbiBnaSh1LHQsZSxpLHM9bnVsbCl7Y29uc3R7ZmxvYXQzMkFycmF5Om4sdWludDE2QXJyYXk6cix1aW50MzJBcnJheTphfT1rO2xldCBvPXUqMjtpZihzPT09bnVsbCYmKGUuYm91bmRpbmdCb3h8fGUuY29tcHV0ZUJvdW5kaW5nQm94KCksdHMuc2V0KGUuYm91bmRpbmdCb3gubWluLGUuYm91bmRpbmdCb3gubWF4LGkpLHM9dHMpLFkobyxyKSl7Y29uc3QgYz10Lmdlb21ldHJ5LGY9Yy5pbmRleCxsPWMuYXR0cmlidXRlcy5wb3NpdGlvbixkPWUuaW5kZXgscD1lLmF0dHJpYnV0ZXMucG9zaXRpb24seT0kKHUsYSkseD1KKG8scik7aWYoYWUuY29weShpKS5pbnZlcnQoKSxlLmJvdW5kc1RyZWUpcmV0dXJuIEwodSxuLFVlKSxVZS5tYXRyaXguY29weShhZSksVWUubmVlZHNVcGRhdGU9ITAsZS5ib3VuZHNUcmVlLnNoYXBlY2FzdCh7aW50ZXJzZWN0c0JvdW5kczpnPT5VZS5pbnRlcnNlY3RzQm94KGcpLGludGVyc2VjdHNUcmlhbmdsZTpnPT57Zy5hLmFwcGx5TWF0cml4NChpKSxnLmIuYXBwbHlNYXRyaXg0KGkpLGcuYy5hcHBseU1hdHJpeDQoaSksZy5uZWVkc1VwZGF0ZT0hMDtmb3IobGV0IHc9eSozLE09KHgreSkqMzt3PE07dys9MylpZihEKFp0LHcsZixsKSxadC5uZWVkc1VwZGF0ZT0hMCxnLmludGVyc2VjdHNUcmlhbmdsZShadCkpcmV0dXJuITA7cmV0dXJuITF9fSk7Zm9yKGxldCBtPXkqMyxnPSh4K3kpKjM7bTxnO20rPTMpe0QoWXQsbSxmLGwpLFl0LmEuYXBwbHlNYXRyaXg0KGFlKSxZdC5iLmFwcGx5TWF0cml4NChhZSksWXQuYy5hcHBseU1hdHJpeDQoYWUpLFl0Lm5lZWRzVXBkYXRlPSEwO2ZvcihsZXQgdz0wLE09ZC5jb3VudDt3PE07dys9MylpZihEKFp0LHcsZCxwKSxadC5uZWVkc1VwZGF0ZT0hMCxZdC5pbnRlcnNlY3RzVHJpYW5nbGUoWnQpKXJldHVybiEwfX1lbHNle2NvbnN0IGM9dSs4LGY9YVt1KzZdO3JldHVybiBMKGMsbixGZSksISEocy5pbnRlcnNlY3RzQm94KEZlKSYmZ2koYyx0LGUsaSxzKXx8KEwoZixuLEZlKSxzLmludGVyc2VjdHNCb3goRmUpJiZnaShmLHQsZSxpLHMpKSl9fWNvbnN0IFJlPW5ldyBOLGJpPW5ldyBYLGNlPW5ldyBYLGZuPW5ldyBBLGRuPW5ldyBBLHBuPW5ldyBBLG1uPW5ldyBBO2Z1bmN0aW9uIHluKHUsdCxlLGk9e30scz17fSxuPTAscj0xLzApe3QuYm91bmRpbmdCb3h8fHQuY29tcHV0ZUJvdW5kaW5nQm94KCksYmkuc2V0KHQuYm91bmRpbmdCb3gubWluLHQuYm91bmRpbmdCb3gubWF4LGUpLGJpLm5lZWRzVXBkYXRlPSEwO2NvbnN0IGE9dS5nZW9tZXRyeSxvPWEuYXR0cmlidXRlcy5wb3NpdGlvbixoPWEuaW5kZXgsYz10LmF0dHJpYnV0ZXMucG9zaXRpb24sZj10LmluZGV4LGw9dHQuZ2V0UHJpbWl0aXZlKCksZD10dC5nZXRQcmltaXRpdmUoKTtsZXQgcD1mbix5PWRuLHg9bnVsbCxtPW51bGw7cyYmKHg9cG4sbT1tbik7bGV0IGc9MS8wLHc9bnVsbCxNPW51bGw7cmV0dXJuIFJlLmNvcHkoZSkuaW52ZXJ0KCksY2UubWF0cml4LmNvcHkoUmUpLHUuc2hhcGVjYXN0KHtib3VuZHNUcmF2ZXJzZU9yZGVyOmI9PmJpLmRpc3RhbmNlVG9Cb3goYiksaW50ZXJzZWN0c0JvdW5kczooYix6LF8pPT5fPGcmJl88cj8oeiYmKGNlLm1pbi5jb3B5KGIubWluKSxjZS5tYXguY29weShiLm1heCksY2UubmVlZHNVcGRhdGU9ITApLCEwKTohMSxpbnRlcnNlY3RzUmFuZ2U6KGIseik9PntpZih0LmJvdW5kc1RyZWUpcmV0dXJuIHQuYm91bmRzVHJlZS5zaGFwZWNhc3Qoe2JvdW5kc1RyYXZlcnNlT3JkZXI6Uz0+Y2UuZGlzdGFuY2VUb0JveChTKSxpbnRlcnNlY3RzQm91bmRzOihTLEIsVCk9PlQ8ZyYmVDxyLGludGVyc2VjdHNSYW5nZTooUyxCKT0+e2ZvcihsZXQgVD1TLEM9UytCO1Q8QztUKyspe0QoZCwzKlQsZixjKSxkLmEuYXBwbHlNYXRyaXg0KGUpLGQuYi5hcHBseU1hdHJpeDQoZSksZC5jLmFwcGx5TWF0cml4NChlKSxkLm5lZWRzVXBkYXRlPSEwO2ZvcihsZXQgUD1iLEU9Yit6O1A8RTtQKyspe0QobCwzKlAsaCxvKSxsLm5lZWRzVXBkYXRlPSEwO2NvbnN0IEY9bC5kaXN0YW5jZVRvVHJpYW5nbGUoZCxwLHgpO2lmKEY8ZyYmKHkuY29weShwKSxtJiZtLmNvcHkoeCksZz1GLHc9UCxNPVQpLEY8bilyZXR1cm4hMH19fX0pO3tjb25zdCBfPU50KHQpO2ZvcihsZXQgUz0wLEI9XztTPEI7UysrKXtEKGQsMypTLGYsYyksZC5hLmFwcGx5TWF0cml4NChlKSxkLmIuYXBwbHlNYXRyaXg0KGUpLGQuYy5hcHBseU1hdHJpeDQoZSksZC5uZWVkc1VwZGF0ZT0hMDtmb3IobGV0IFQ9YixDPWIrejtUPEM7VCsrKXtEKGwsMypULGgsbyksbC5uZWVkc1VwZGF0ZT0hMDtjb25zdCBQPWwuZGlzdGFuY2VUb1RyaWFuZ2xlKGQscCx4KTtpZihQPGcmJih5LmNvcHkocCksbSYmbS5jb3B5KHgpLGc9UCx3PVQsTT1TKSxQPG4pcmV0dXJuITB9fX19fSksdHQucmVsZWFzZVByaW1pdGl2ZShsKSx0dC5yZWxlYXNlUHJpbWl0aXZlKGQpLGc9PT0xLzA/bnVsbDooaS5wb2ludD9pLnBvaW50LmNvcHkoeSk6aS5wb2ludD15LmNsb25lKCksaS5kaXN0YW5jZT1nLGkuZmFjZUluZGV4PXcscyYmKHMucG9pbnQ/cy5wb2ludC5jb3B5KG0pOnMucG9pbnQ9bS5jbG9uZSgpLHMucG9pbnQuYXBwbHlNYXRyaXg0KFJlKSx5LmFwcGx5TWF0cml4NChSZSkscy5kaXN0YW5jZT15LnN1YihzLnBvaW50KS5sZW5ndGgoKSxzLmZhY2VJbmRleD1NKSxpKX1mdW5jdGlvbiB4bih1LHQ9bnVsbCl7dCYmQXJyYXkuaXNBcnJheSh0KSYmKHQ9bmV3IFNldCh0KSk7Y29uc3QgZT11Lmdlb21ldHJ5LGk9ZS5pbmRleD9lLmluZGV4LmFycmF5Om51bGwscz1lLmF0dHJpYnV0ZXMucG9zaXRpb247bGV0IG4scixhLG8saD0wO2NvbnN0IGM9dS5fcm9vdHM7Zm9yKGxldCBsPTAsZD1jLmxlbmd0aDtsPGQ7bCsrKW49Y1tsXSxyPW5ldyBVaW50MzJBcnJheShuKSxhPW5ldyBVaW50MTZBcnJheShuKSxvPW5ldyBGbG9hdDMyQXJyYXkobiksZigwLGgpLGgrPW4uYnl0ZUxlbmd0aDtmdW5jdGlvbiBmKGwsZCxwPSExKXtjb25zdCB5PWwqMjtpZihhW3krMTVdPT09X2Upe2NvbnN0IG09cltsKzZdLGc9YVt5KzE0XTtsZXQgdz0xLzAsTT0xLzAsYj0xLzAsej0tMS8wLF89LTEvMCxTPS0xLzA7Zm9yKGxldCBCPW0sVD1tK2c7QjxUO0IrKyl7Y29uc3QgQz0zKnUucmVzb2x2ZVRyaWFuZ2xlSW5kZXgoQik7Zm9yKGxldCBQPTA7UDwzO1ArKyl7bGV0IEU9QytQO0U9aT9pW0VdOkU7Y29uc3QgRj1zLmdldFgoRSksVT1zLmdldFkoRSksUj1zLmdldFooRSk7Rjx3JiYodz1GKSxGPnomJih6PUYpLFU8TSYmKE09VSksVT5fJiYoXz1VKSxSPGImJihiPVIpLFI+UyYmKFM9Uil9fXJldHVybiBvW2wrMF0hPT13fHxvW2wrMV0hPT1NfHxvW2wrMl0hPT1ifHxvW2wrM10hPT16fHxvW2wrNF0hPT1ffHxvW2wrNV0hPT1TPyhvW2wrMF09dyxvW2wrMV09TSxvW2wrMl09YixvW2wrM109eixvW2wrNF09XyxvW2wrNV09UywhMCk6ITF9ZWxzZXtjb25zdCBtPWwrOCxnPXJbbCs2XSx3PW0rZCxNPWcrZDtsZXQgYj1wLHo9ITEsXz0hMTt0P2J8fCh6PXQuaGFzKHcpLF89dC5oYXMoTSksYj0heiYmIV8pOih6PSEwLF89ITApO2NvbnN0IFM9Ynx8eixCPWJ8fF87bGV0IFQ9ITE7UyYmKFQ9ZihtLGQsYikpO2xldCBDPSExO0ImJihDPWYoZyxkLGIpKTtjb25zdCBQPVR8fEM7aWYoUClmb3IobGV0IEU9MDtFPDM7RSsrKXtjb25zdCBGPW0rRSxVPWcrRSxSPW9bRl0saj1vW0YrM10saHQ9b1tVXSxsdD1vW1UrM107b1tsK0VdPVI8aHQ/UjpodCxvW2wrRSszXT1qPmx0P2o6bHR9cmV0dXJuIFB9fX1mdW5jdGlvbiBnbih1LHQsZSxpLHMsbixyKXtrLnNldEJ1ZmZlcih1Ll9yb290c1t0XSksd2koMCx1LGUsaSxzLG4sciksay5jbGVhckJ1ZmZlcigpfWZ1bmN0aW9uIHdpKHUsdCxlLGkscyxuLHIpe2NvbnN0e2Zsb2F0MzJBcnJheTphLHVpbnQxNkFycmF5Om8sdWludDMyQXJyYXk6aH09ayxjPXUqMjtpZihZKGMsbykpe2NvbnN0IGw9JCh1LGgpLGQ9SihjLG8pO3JuKHQsZSxpLGwsZCxzLG4scil9ZWxzZXtjb25zdCBsPVEodSk7U3QobCxhLGksbixyKSYmd2kobCx0LGUsaSxzLG4scik7Y29uc3QgZD1LKHUsaCk7U3QoZCxhLGksbixyKSYmd2koZCx0LGUsaSxzLG4scil9fWNvbnN0IGJuPVsieCIsInkiLCJ6Il07ZnVuY3Rpb24gd24odSx0LGUsaSxzLG4pe2suc2V0QnVmZmVyKHUuX3Jvb3RzW3RdKTtjb25zdCByPV9pKDAsdSxlLGkscyxuKTtyZXR1cm4gay5jbGVhckJ1ZmZlcigpLHJ9ZnVuY3Rpb24gX2kodSx0LGUsaSxzLG4pe2NvbnN0e2Zsb2F0MzJBcnJheTpyLHVpbnQxNkFycmF5OmEsdWludDMyQXJyYXk6b309aztsZXQgaD11KjI7aWYoWShoLGEpKXtjb25zdCBmPSQodSxvKSxsPUooaCxhKTtyZXR1cm4gb24odCxlLGksZixsLHMsbil9ZWxzZXtjb25zdCBmPSRpKHUsbyksbD1ibltmXSxwPWkuZGlyZWN0aW9uW2xdPj0wO2xldCB5LHg7cD8oeT1RKHUpLHg9Syh1LG8pKTooeT1LKHUsbykseD1RKHUpKTtjb25zdCBnPVN0KHkscixpLHMsbik/X2koeSx0LGUsaSxzLG4pOm51bGw7aWYoZyl7Y29uc3QgYj1nLnBvaW50W2xdO2lmKHA/Yjw9clt4K2ZdOmI+PXJbeCtmKzNdKXJldHVybiBnfWNvbnN0IE09U3QoeCxyLGkscyxuKT9faSh4LHQsZSxpLHMsbik6bnVsbDtyZXR1cm4gZyYmTT9nLmRpc3RhbmNlPD1NLmRpc3RhbmNlP2c6TTpnfHxNfHxudWxsfX1jb25zdCBrZT1uZXcgVyxIdD1uZXcgcnQsJHQ9bmV3IHJ0LGhlPW5ldyBOLGVzPW5ldyBYLExlPW5ldyBYO2Z1bmN0aW9uIF9uKHUsdCxlLGkpe2suc2V0QnVmZmVyKHUuX3Jvb3RzW3RdKTtjb25zdCBzPU1pKDAsdSxlLGkpO3JldHVybiBrLmNsZWFyQnVmZmVyKCksc31mdW5jdGlvbiBNaSh1LHQsZSxpLHM9bnVsbCl7Y29uc3R7ZmxvYXQzMkFycmF5Om4sdWludDE2QXJyYXk6cix1aW50MzJBcnJheTphfT1rO2xldCBvPXUqMjtpZihzPT09bnVsbCYmKGUuYm91bmRpbmdCb3h8fGUuY29tcHV0ZUJvdW5kaW5nQm94KCksZXMuc2V0KGUuYm91bmRpbmdCb3gubWluLGUuYm91bmRpbmdCb3gubWF4LGkpLHM9ZXMpLFkobyxyKSl7Y29uc3QgYz10Lmdlb21ldHJ5LGY9Yy5pbmRleCxsPWMuYXR0cmlidXRlcy5wb3NpdGlvbixkPWUuaW5kZXgscD1lLmF0dHJpYnV0ZXMucG9zaXRpb24seT0kKHUsYSkseD1KKG8scik7aWYoaGUuY29weShpKS5pbnZlcnQoKSxlLmJvdW5kc1RyZWUpcmV0dXJuIEwodSxuLExlKSxMZS5tYXRyaXguY29weShoZSksTGUubmVlZHNVcGRhdGU9ITAsZS5ib3VuZHNUcmVlLnNoYXBlY2FzdCh7aW50ZXJzZWN0c0JvdW5kczpnPT5MZS5pbnRlcnNlY3RzQm94KGcpLGludGVyc2VjdHNUcmlhbmdsZTpnPT57Zy5hLmFwcGx5TWF0cml4NChpKSxnLmIuYXBwbHlNYXRyaXg0KGkpLGcuYy5hcHBseU1hdHJpeDQoaSksZy5uZWVkc1VwZGF0ZT0hMDtmb3IobGV0IHc9eSxNPXgreTt3PE07dysrKWlmKEQoJHQsMyp0LnJlc29sdmVUcmlhbmdsZUluZGV4KHcpLGYsbCksJHQubmVlZHNVcGRhdGU9ITAsZy5pbnRlcnNlY3RzVHJpYW5nbGUoJHQpKXJldHVybiEwO3JldHVybiExfX0pO2ZvcihsZXQgbT15LGc9eCt5O208ZzttKyspe2NvbnN0IHc9dC5yZXNvbHZlVHJpYW5nbGVJbmRleChtKTtEKEh0LDMqdyxmLGwpLEh0LmEuYXBwbHlNYXRyaXg0KGhlKSxIdC5iLmFwcGx5TWF0cml4NChoZSksSHQuYy5hcHBseU1hdHJpeDQoaGUpLEh0Lm5lZWRzVXBkYXRlPSEwO2ZvcihsZXQgTT0wLGI9ZC5jb3VudDtNPGI7TSs9MylpZihEKCR0LE0sZCxwKSwkdC5uZWVkc1VwZGF0ZT0hMCxIdC5pbnRlcnNlY3RzVHJpYW5nbGUoJHQpKXJldHVybiEwfX1lbHNle2NvbnN0IGM9dSs4LGY9YVt1KzZdO3JldHVybiBMKGMsbixrZSksISEocy5pbnRlcnNlY3RzQm94KGtlKSYmTWkoYyx0LGUsaSxzKXx8KEwoZixuLGtlKSxzLmludGVyc2VjdHNCb3goa2UpJiZNaShmLHQsZSxpLHMpKSl9fWNvbnN0IEllPW5ldyBOLEFpPW5ldyBYLGxlPW5ldyBYLE1uPW5ldyBBLEFuPW5ldyBBLHpuPW5ldyBBLFNuPW5ldyBBO2Z1bmN0aW9uIEJuKHUsdCxlLGk9e30scz17fSxuPTAscj0xLzApe3QuYm91bmRpbmdCb3h8fHQuY29tcHV0ZUJvdW5kaW5nQm94KCksQWkuc2V0KHQuYm91bmRpbmdCb3gubWluLHQuYm91bmRpbmdCb3gubWF4LGUpLEFpLm5lZWRzVXBkYXRlPSEwO2NvbnN0IGE9dS5nZW9tZXRyeSxvPWEuYXR0cmlidXRlcy5wb3NpdGlvbixoPWEuaW5kZXgsYz10LmF0dHJpYnV0ZXMucG9zaXRpb24sZj10LmluZGV4LGw9dHQuZ2V0UHJpbWl0aXZlKCksZD10dC5nZXRQcmltaXRpdmUoKTtsZXQgcD1Nbix5PUFuLHg9bnVsbCxtPW51bGw7cyYmKHg9em4sbT1Tbik7bGV0IGc9MS8wLHc9bnVsbCxNPW51bGw7cmV0dXJuIEllLmNvcHkoZSkuaW52ZXJ0KCksbGUubWF0cml4LmNvcHkoSWUpLHUuc2hhcGVjYXN0KHtib3VuZHNUcmF2ZXJzZU9yZGVyOmI9PkFpLmRpc3RhbmNlVG9Cb3goYiksaW50ZXJzZWN0c0JvdW5kczooYix6LF8pPT5fPGcmJl88cj8oeiYmKGxlLm1pbi5jb3B5KGIubWluKSxsZS5tYXguY29weShiLm1heCksbGUubmVlZHNVcGRhdGU9ITApLCEwKTohMSxpbnRlcnNlY3RzUmFuZ2U6KGIseik9PntpZih0LmJvdW5kc1RyZWUpe2NvbnN0IF89dC5ib3VuZHNUcmVlO3JldHVybiBfLnNoYXBlY2FzdCh7Ym91bmRzVHJhdmVyc2VPcmRlcjpTPT5sZS5kaXN0YW5jZVRvQm94KFMpLGludGVyc2VjdHNCb3VuZHM6KFMsQixUKT0+VDxnJiZUPHIsaW50ZXJzZWN0c1JhbmdlOihTLEIpPT57Zm9yKGxldCBUPVMsQz1TK0I7VDxDO1QrKyl7Y29uc3QgUD1fLnJlc29sdmVUcmlhbmdsZUluZGV4KFQpO0QoZCwzKlAsZixjKSxkLmEuYXBwbHlNYXRyaXg0KGUpLGQuYi5hcHBseU1hdHJpeDQoZSksZC5jLmFwcGx5TWF0cml4NChlKSxkLm5lZWRzVXBkYXRlPSEwO2ZvcihsZXQgRT1iLEY9Yit6O0U8RjtFKyspe2NvbnN0IFU9dS5yZXNvbHZlVHJpYW5nbGVJbmRleChFKTtEKGwsMypVLGgsbyksbC5uZWVkc1VwZGF0ZT0hMDtjb25zdCBSPWwuZGlzdGFuY2VUb1RyaWFuZ2xlKGQscCx4KTtpZihSPGcmJih5LmNvcHkocCksbSYmbS5jb3B5KHgpLGc9Uix3PUUsTT1UKSxSPG4pcmV0dXJuITB9fX19KX1lbHNle2NvbnN0IF89TnQodCk7Zm9yKGxldCBTPTAsQj1fO1M8QjtTKyspe0QoZCwzKlMsZixjKSxkLmEuYXBwbHlNYXRyaXg0KGUpLGQuYi5hcHBseU1hdHJpeDQoZSksZC5jLmFwcGx5TWF0cml4NChlKSxkLm5lZWRzVXBkYXRlPSEwO2ZvcihsZXQgVD1iLEM9Yit6O1Q8QztUKyspe2NvbnN0IFA9dS5yZXNvbHZlVHJpYW5nbGVJbmRleChUKTtEKGwsMypQLGgsbyksbC5uZWVkc1VwZGF0ZT0hMDtjb25zdCBFPWwuZGlzdGFuY2VUb1RyaWFuZ2xlKGQscCx4KTtpZihFPGcmJih5LmNvcHkocCksbSYmbS5jb3B5KHgpLGc9RSx3PVQsTT1TKSxFPG4pcmV0dXJuITB9fX19fSksdHQucmVsZWFzZVByaW1pdGl2ZShsKSx0dC5yZWxlYXNlUHJpbWl0aXZlKGQpLGc9PT0xLzA/bnVsbDooaS5wb2ludD9pLnBvaW50LmNvcHkoeSk6aS5wb2ludD15LmNsb25lKCksaS5kaXN0YW5jZT1nLGkuZmFjZUluZGV4PXcscyYmKHMucG9pbnQ/cy5wb2ludC5jb3B5KG0pOnMucG9pbnQ9bS5jbG9uZSgpLHMucG9pbnQuYXBwbHlNYXRyaXg0KEllKSx5LmFwcGx5TWF0cml4NChJZSkscy5kaXN0YW5jZT15LnN1YihzLnBvaW50KS5sZW5ndGgoKSxzLmZhY2VJbmRleD1NKSxpKX1mdW5jdGlvbiBUbigpe3JldHVybiB0eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXI8InUifWNvbnN0IHVlPW5ldyBrLmNvbnN0cnVjdG9yLERlPW5ldyBrLmNvbnN0cnVjdG9yLEJ0PW5ldyBkaSgoKT0+bmV3IFcpLGp0PW5ldyBXLEd0PW5ldyBXLHppPW5ldyBXLFNpPW5ldyBXO2xldCBCaT0hMTtmdW5jdGlvbiBQbih1LHQsZSxpKXtpZihCaSl0aHJvdyBuZXcgRXJyb3IoIk1lc2hCVkg6IFJlY3Vyc2l2ZSBjYWxscyB0byBidmhjYXN0IG5vdCBzdXBwb3J0ZWQuIik7Qmk9ITA7Y29uc3Qgcz11Ll9yb290cyxuPXQuX3Jvb3RzO2xldCByLGE9MCxvPTA7Y29uc3QgaD1uZXcgTigpLmNvcHkoZSkuaW52ZXJ0KCk7Zm9yKGxldCBjPTAsZj1zLmxlbmd0aDtjPGY7YysrKXt1ZS5zZXRCdWZmZXIoc1tjXSksbz0wO2NvbnN0IGw9QnQuZ2V0UHJpbWl0aXZlKCk7TCgwLHVlLmZsb2F0MzJBcnJheSxsKSxsLmFwcGx5TWF0cml4NChoKTtmb3IobGV0IGQ9MCxwPW4ubGVuZ3RoO2Q8cCYmKERlLnNldEJ1ZmZlcihuW2NdKSxyPW90KDAsMCxlLGgsaSxhLG8sMCwwLGwpLERlLmNsZWFyQnVmZmVyKCksbys9bltkXS5sZW5ndGgsIXIpO2QrKyk7aWYoQnQucmVsZWFzZVByaW1pdGl2ZShsKSx1ZS5jbGVhckJ1ZmZlcigpLGErPXNbY10ubGVuZ3RoLHIpYnJlYWt9cmV0dXJuIEJpPSExLHJ9ZnVuY3Rpb24gb3QodSx0LGUsaSxzLG49MCxyPTAsYT0wLG89MCxoPW51bGwsYz0hMSl7bGV0IGYsbDtjPyhmPURlLGw9dWUpOihmPXVlLGw9RGUpO2NvbnN0IGQ9Zi5mbG9hdDMyQXJyYXkscD1mLnVpbnQzMkFycmF5LHk9Zi51aW50MTZBcnJheSx4PWwuZmxvYXQzMkFycmF5LG09bC51aW50MzJBcnJheSxnPWwudWludDE2QXJyYXksdz11KjIsTT10KjIsYj1ZKHcseSksej1ZKE0sZyk7bGV0IF89ITE7aWYoeiYmYiljP189cygkKHQsbSksSih0KjIsZyksJCh1LHApLEoodSoyLHkpLG8scit0LGEsbit1KTpfPXMoJCh1LHApLEoodSoyLHkpLCQodCxtKSxKKHQqMixnKSxhLG4rdSxvLHIrdCk7ZWxzZSBpZih6KXtjb25zdCBTPUJ0LmdldFByaW1pdGl2ZSgpO0wodCx4LFMpLFMuYXBwbHlNYXRyaXg0KGUpO2NvbnN0IEI9USh1KSxUPUsodSxwKTtMKEIsZCxqdCksTChULGQsR3QpO2NvbnN0IEM9Uy5pbnRlcnNlY3RzQm94KGp0KSxQPVMuaW50ZXJzZWN0c0JveChHdCk7Xz1DJiZvdCh0LEIsaSxlLHMscixuLG8sYSsxLFMsIWMpfHxQJiZvdCh0LFQsaSxlLHMscixuLG8sYSsxLFMsIWMpLEJ0LnJlbGVhc2VQcmltaXRpdmUoUyl9ZWxzZXtjb25zdCBTPVEodCksQj1LKHQsbSk7TChTLHgsemkpLEwoQix4LFNpKTtjb25zdCBUPWguaW50ZXJzZWN0c0JveCh6aSksQz1oLmludGVyc2VjdHNCb3goU2kpO2lmKFQmJkMpXz1vdCh1LFMsZSxpLHMsbixyLGEsbysxLGgsYyl8fG90KHUsQixlLGkscyxuLHIsYSxvKzEsaCxjKTtlbHNlIGlmKFQpaWYoYilfPW90KHUsUyxlLGkscyxuLHIsYSxvKzEsaCxjKTtlbHNle2NvbnN0IFA9QnQuZ2V0UHJpbWl0aXZlKCk7UC5jb3B5KHppKS5hcHBseU1hdHJpeDQoZSk7Y29uc3QgRT1RKHUpLEY9Syh1LHApO0woRSxkLGp0KSxMKEYsZCxHdCk7Y29uc3QgVT1QLmludGVyc2VjdHNCb3goanQpLFI9UC5pbnRlcnNlY3RzQm94KEd0KTtfPVUmJm90KFMsRSxpLGUscyxyLG4sbyxhKzEsUCwhYyl8fFImJm90KFMsRixpLGUscyxyLG4sbyxhKzEsUCwhYyksQnQucmVsZWFzZVByaW1pdGl2ZShQKX1lbHNlIGlmKEMpaWYoYilfPW90KHUsQixlLGkscyxuLHIsYSxvKzEsaCxjKTtlbHNle2NvbnN0IFA9QnQuZ2V0UHJpbWl0aXZlKCk7UC5jb3B5KFNpKS5hcHBseU1hdHJpeDQoZSk7Y29uc3QgRT1RKHUpLEY9Syh1LHApO0woRSxkLGp0KSxMKEYsZCxHdCk7Y29uc3QgVT1QLmludGVyc2VjdHNCb3goanQpLFI9UC5pbnRlcnNlY3RzQm94KEd0KTtfPVUmJm90KEIsRSxpLGUscyxyLG4sbyxhKzEsUCwhYyl8fFImJm90KEIsRixpLGUscyxyLG4sbyxhKzEsUCwhYyksQnQucmVsZWFzZVByaW1pdGl2ZShQKX19cmV0dXJuIF99Y29uc3QgVmU9bmV3IFgsaXM9bmV3IFcsQ249e3N0cmF0ZWd5OnFpLG1heERlcHRoOjQwLG1heExlYWZUcmlzOjEwLHVzZVNoYXJlZEFycmF5QnVmZmVyOiExLHNldEJvdW5kaW5nQm94OiEwLG9uUHJvZ3Jlc3M6bnVsbCxpbmRpcmVjdDohMSx2ZXJib3NlOiEwfTtjbGFzcyBOZXtzdGF0aWMgc2VyaWFsaXplKHQsZT17fSl7ZT17Y2xvbmVCdWZmZXJzOiEwLC4uLmV9O2NvbnN0IGk9dC5nZW9tZXRyeSxzPXQuX3Jvb3RzLG49dC5faW5kaXJlY3RCdWZmZXIscj1pLmdldEluZGV4KCk7bGV0IGE7cmV0dXJuIGUuY2xvbmVCdWZmZXJzP2E9e3Jvb3RzOnMubWFwKG89Pm8uc2xpY2UoKSksaW5kZXg6cj9yLmFycmF5LnNsaWNlKCk6bnVsbCxpbmRpcmVjdEJ1ZmZlcjpuP24uc2xpY2UoKTpudWxsfTphPXtyb290czpzLGluZGV4OnI/ci5hcnJheTpudWxsLGluZGlyZWN0QnVmZmVyOm59LGF9c3RhdGljIGRlc2VyaWFsaXplKHQsZSxpPXt9KXtpPXtzZXRJbmRleDohMCxpbmRpcmVjdDohIXQuaW5kaXJlY3RCdWZmZXIsLi4uaX07Y29uc3R7aW5kZXg6cyxyb290czpuLGluZGlyZWN0QnVmZmVyOnJ9PXQsYT1uZXcgTmUoZSx7Li4uaSxbb2ldOiEwfSk7aWYoYS5fcm9vdHM9bixhLl9pbmRpcmVjdEJ1ZmZlcj1yfHxudWxsLGkuc2V0SW5kZXgpe2NvbnN0IG89ZS5nZXRJbmRleCgpO2lmKG89PT1udWxsKXtjb25zdCBoPW5ldyBjdCh0LmluZGV4LDEsITEpO2Uuc2V0SW5kZXgoaCl9ZWxzZSBvLmFycmF5IT09cyYmKG8uYXJyYXkuc2V0KHMpLG8ubmVlZHNVcGRhdGU9ITApfXJldHVybiBhfWdldCBpbmRpcmVjdCgpe3JldHVybiEhdGhpcy5faW5kaXJlY3RCdWZmZXJ9Y29uc3RydWN0b3IodCxlPXt9KXtpZih0LmlzQnVmZmVyR2VvbWV0cnkpe2lmKHQuaW5kZXgmJnQuaW5kZXguaXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSl0aHJvdyBuZXcgRXJyb3IoIk1lc2hCVkg6IEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIHRoZSBpbmRleCBhdHRyaWJ1dGUuIil9ZWxzZSB0aHJvdyBuZXcgRXJyb3IoIk1lc2hCVkg6IE9ubHkgQnVmZmVyR2VvbWV0cmllcyBhcmUgc3VwcG9ydGVkLiIpO2lmKGU9T2JqZWN0LmFzc2lnbih7Li4uQ24sW29pXTohMX0sZSksZS51c2VTaGFyZWRBcnJheUJ1ZmZlciYmIVRuKCkpdGhyb3cgbmV3IEVycm9yKCJNZXNoQlZIOiBTaGFyZWRBcnJheUJ1ZmZlciBpcyBub3QgYXZhaWxhYmxlLiIpO3RoaXMuZ2VvbWV0cnk9dCx0aGlzLl9yb290cz1udWxsLHRoaXMuX2luZGlyZWN0QnVmZmVyPW51bGwsZVtvaV18fChPcyh0aGlzLGUpLCF0LmJvdW5kaW5nQm94JiZlLnNldEJvdW5kaW5nQm94JiYodC5ib3VuZGluZ0JveD10aGlzLmdldEJvdW5kaW5nQm94KG5ldyBXKSkpLHRoaXMucmVzb2x2ZVRyaWFuZ2xlSW5kZXg9ZS5pbmRpcmVjdD9pPT50aGlzLl9pbmRpcmVjdEJ1ZmZlcltpXTppPT5pfXJlZml0KHQ9bnVsbCl7cmV0dXJuKHRoaXMuaW5kaXJlY3Q/eG46bm4pKHRoaXMsdCl9dHJhdmVyc2UodCxlPTApe2NvbnN0IGk9dGhpcy5fcm9vdHNbZV0scz1uZXcgVWludDMyQXJyYXkoaSksbj1uZXcgVWludDE2QXJyYXkoaSk7cigwKTtmdW5jdGlvbiByKGEsbz0wKXtjb25zdCBoPWEqMixjPW5baCsxNV09PT1fZTtpZihjKXtjb25zdCBmPXNbYSs2XSxsPW5baCsxNF07dChvLGMsbmV3IEZsb2F0MzJBcnJheShpLGEqNCw2KSxmLGwpfWVsc2V7Y29uc3QgZj1hK3NlLzQsbD1zW2ErNl0sZD1zW2ErN107dChvLGMsbmV3IEZsb2F0MzJBcnJheShpLGEqNCw2KSxkKXx8KHIoZixvKzEpLHIobCxvKzEpKX19fXJheWNhc3QodCxlPTAsaT0wLHM9MS8wKXtjb25zdCBuPXRoaXMuX3Jvb3RzLHI9dGhpcy5nZW9tZXRyeSxhPVtdLG89ZS5pc01hdGVyaWFsLGg9QXJyYXkuaXNBcnJheShlKSxjPXIuZ3JvdXBzLGY9bz9lLnNpZGU6ZSxsPXRoaXMuaW5kaXJlY3Q/Z246Y247Zm9yKGxldCBkPTAscD1uLmxlbmd0aDtkPHA7ZCsrKXtjb25zdCB5PWg/ZVtjW2RdLm1hdGVyaWFsSW5kZXhdLnNpZGU6Zix4PWEubGVuZ3RoO2lmKGwodGhpcyxkLHksdCxhLGkscyksaCl7Y29uc3QgbT1jW2RdLm1hdGVyaWFsSW5kZXg7Zm9yKGxldCBnPXgsdz1hLmxlbmd0aDtnPHc7ZysrKWFbZ10uZmFjZS5tYXRlcmlhbEluZGV4PW19fXJldHVybiBhfXJheWNhc3RGaXJzdCh0LGU9MCxpPTAscz0xLzApe2NvbnN0IG49dGhpcy5fcm9vdHMscj10aGlzLmdlb21ldHJ5LGE9ZS5pc01hdGVyaWFsLG89QXJyYXkuaXNBcnJheShlKTtsZXQgaD1udWxsO2NvbnN0IGM9ci5ncm91cHMsZj1hP2Uuc2lkZTplLGw9dGhpcy5pbmRpcmVjdD93bjpsbjtmb3IobGV0IGQ9MCxwPW4ubGVuZ3RoO2Q8cDtkKyspe2NvbnN0IHk9bz9lW2NbZF0ubWF0ZXJpYWxJbmRleF0uc2lkZTpmLHg9bCh0aGlzLGQseSx0LGkscyk7eCE9bnVsbCYmKGg9PW51bGx8fHguZGlzdGFuY2U8aC5kaXN0YW5jZSkmJihoPXgsbyYmKHguZmFjZS5tYXRlcmlhbEluZGV4PWNbZF0ubWF0ZXJpYWxJbmRleCkpfXJldHVybiBofWludGVyc2VjdHNHZW9tZXRyeSh0LGUpe2xldCBpPSExO2NvbnN0IHM9dGhpcy5fcm9vdHMsbj10aGlzLmluZGlyZWN0P19uOnVuO2ZvcihsZXQgcj0wLGE9cy5sZW5ndGg7cjxhJiYoaT1uKHRoaXMscix0LGUpLCFpKTtyKyspO3JldHVybiBpfXNoYXBlY2FzdCh0KXtjb25zdCBlPXR0LmdldFByaW1pdGl2ZSgpLGk9dGhpcy5pbmRpcmVjdD9hbjpzbjtsZXR7Ym91bmRzVHJhdmVyc2VPcmRlcjpzLGludGVyc2VjdHNCb3VuZHM6bixpbnRlcnNlY3RzUmFuZ2U6cixpbnRlcnNlY3RzVHJpYW5nbGU6YX09dDtpZihyJiZhKXtjb25zdCBmPXI7cj0obCxkLHAseSx4KT0+ZihsLGQscCx5LHgpPyEwOmkobCxkLHRoaXMsYSxwLHksZSl9ZWxzZSByfHwoYT9yPShmLGwsZCxwKT0+aShmLGwsdGhpcyxhLGQscCxlKTpyPShmLGwsZCk9PmQpO2xldCBvPSExLGg9MDtjb25zdCBjPXRoaXMuX3Jvb3RzO2ZvcihsZXQgZj0wLGw9Yy5sZW5ndGg7ZjxsO2YrKyl7Y29uc3QgZD1jW2ZdO2lmKG89R3ModGhpcyxmLG4scixzLGgpLG8pYnJlYWs7aCs9ZC5ieXRlTGVuZ3RofXJldHVybiB0dC5yZWxlYXNlUHJpbWl0aXZlKGUpLG99YnZoY2FzdCh0LGUsaSl7bGV0e2ludGVyc2VjdHNSYW5nZXM6cyxpbnRlcnNlY3RzVHJpYW5nbGVzOm59PWk7Y29uc3Qgcj10dC5nZXRQcmltaXRpdmUoKSxhPXRoaXMuZ2VvbWV0cnkuaW5kZXgsbz10aGlzLmdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb24saD10aGlzLmluZGlyZWN0P3A9Pntjb25zdCB5PXRoaXMucmVzb2x2ZVRyaWFuZ2xlSW5kZXgocCk7RChyLHkqMyxhLG8pfTpwPT57RChyLHAqMyxhLG8pfSxjPXR0LmdldFByaW1pdGl2ZSgpLGY9dC5nZW9tZXRyeS5pbmRleCxsPXQuZ2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbixkPXQuaW5kaXJlY3Q/cD0+e2NvbnN0IHk9dC5yZXNvbHZlVHJpYW5nbGVJbmRleChwKTtEKGMseSozLGYsbCl9OnA9PntEKGMscCozLGYsbCl9O2lmKG4pe2NvbnN0IHA9KHkseCxtLGcsdyxNLGIseik9Pntmb3IobGV0IF89bSxTPW0rZztfPFM7XysrKXtkKF8pLGMuYS5hcHBseU1hdHJpeDQoZSksYy5iLmFwcGx5TWF0cml4NChlKSxjLmMuYXBwbHlNYXRyaXg0KGUpLGMubmVlZHNVcGRhdGU9ITA7Zm9yKGxldCBCPXksVD15K3g7QjxUO0IrKylpZihoKEIpLHIubmVlZHNVcGRhdGU9ITAsbihyLGMsQixfLHcsTSxiLHopKXJldHVybiEwfXJldHVybiExfTtpZihzKXtjb25zdCB5PXM7cz1mdW5jdGlvbih4LG0sZyx3LE0sYix6LF8pe3JldHVybiB5KHgsbSxnLHcsTSxiLHosXyk/ITA6cCh4LG0sZyx3LE0sYix6LF8pfX1lbHNlIHM9cH1yZXR1cm4gUG4odGhpcyx0LGUscyl9aW50ZXJzZWN0c0JveCh0LGUpe3JldHVybiBWZS5zZXQodC5taW4sdC5tYXgsZSksVmUubmVlZHNVcGRhdGU9ITAsdGhpcy5zaGFwZWNhc3Qoe2ludGVyc2VjdHNCb3VuZHM6aT0+VmUuaW50ZXJzZWN0c0JveChpKSxpbnRlcnNlY3RzVHJpYW5nbGU6aT0+VmUuaW50ZXJzZWN0c1RyaWFuZ2xlKGkpfSl9aW50ZXJzZWN0c1NwaGVyZSh0KXtyZXR1cm4gdGhpcy5zaGFwZWNhc3Qoe2ludGVyc2VjdHNCb3VuZHM6ZT0+dC5pbnRlcnNlY3RzQm94KGUpLGludGVyc2VjdHNUcmlhbmdsZTplPT5lLmludGVyc2VjdHNTcGhlcmUodCl9KX1jbG9zZXN0UG9pbnRUb0dlb21ldHJ5KHQsZSxpPXt9LHM9e30sbj0wLHI9MS8wKXtyZXR1cm4odGhpcy5pbmRpcmVjdD9Cbjp5bikodGhpcyx0LGUsaSxzLG4scil9Y2xvc2VzdFBvaW50VG9Qb2ludCh0LGU9e30saT0wLHM9MS8wKXtyZXR1cm4gSnModGhpcyx0LGUsaSxzKX1nZXRCb3VuZGluZ0JveCh0KXtyZXR1cm4gdC5tYWtlRW1wdHkoKSx0aGlzLl9yb290cy5mb3JFYWNoKGk9PntMKDAsbmV3IEZsb2F0MzJBcnJheShpKSxpcyksdC51bmlvbihpcyl9KSx0fX1vbm1lc3NhZ2U9KHtkYXRhOnV9KT0+e2xldCB0PXBlcmZvcm1hbmNlLm5vdygpO2Z1bmN0aW9uIGUocil7cj1NYXRoLm1pbihyLDEpO2NvbnN0IGE9cGVyZm9ybWFuY2Uubm93KCk7YS10Pj0xMCYmciE9PTEmJihwb3N0TWVzc2FnZSh7ZXJyb3I6bnVsbCxzZXJpYWxpemVkOm51bGwscG9zaXRpb246bnVsbCxwcm9ncmVzczpyfSksdD1hKX1jb25zdHtpbmRleDppLHBvc2l0aW9uOnMsb3B0aW9uczpufT11O3RyeXtjb25zdCByPW5ldyBzaTtpZihyLnNldEF0dHJpYnV0ZSgicG9zaXRpb24iLG5ldyBjdChzLDMsITEpKSxpJiZyLnNldEluZGV4KG5ldyBjdChpLDEsITEpKSxuLmluY2x1ZGVkUHJvZ3Jlc3NDYWxsYmFjayYmKG4ub25Qcm9ncmVzcz1lKSxuLmdyb3Vwcyl7Y29uc3QgYz1uLmdyb3Vwcztmb3IoY29uc3QgZiBpbiBjKXtjb25zdCBsPWNbZl07ci5hZGRHcm91cChsLnN0YXJ0LGwuY291bnQsbC5tYXRlcmlhbEluZGV4KX19Y29uc3QgYT1uZXcgTmUocixuKSxvPU5lLnNlcmlhbGl6ZShhLHtjb3B5SW5kZXhCdWZmZXI6ITF9KTtsZXQgaD1bcy5idWZmZXIsLi4uby5yb290c107by5pbmRleCYmaC5wdXNoKG8uaW5kZXguYnVmZmVyKSxoPWguZmlsdGVyKGM9PnR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlcj4idSJ8fCEoYyBpbnN0YW5jZW9mIFNoYXJlZEFycmF5QnVmZmVyKSksYS5faW5kaXJlY3RCdWZmZXImJmgucHVzaChvLmluZGlyZWN0QnVmZmVyLmJ1ZmZlcikscG9zdE1lc3NhZ2Uoe2Vycm9yOm51bGwsc2VyaWFsaXplZDpvLHBvc2l0aW9uOnMscHJvZ3Jlc3M6MX0saCl9Y2F0Y2gocil7cG9zdE1lc3NhZ2Uoe2Vycm9yOnIsc2VyaWFsaXplZDpudWxsLHBvc2l0aW9uOm51bGwscHJvZ3Jlc3M6MX0pfX19KSgpOwo=",V=typeof window<"u"&&window.Blob&&new Blob([atob(u)],{type:"text/javascript;charset=utf-8"});function x(){let X;try{if(X=V&&(window.URL||window.webkitURL).createObjectURL(V),!X)throw"";return new Worker(X)}catch{return new Worker("data:application/javascript;base64,"+u)}finally{X&&(window.URL||window.webkitURL).revokeObjectURL(X)}}class o extends C{constructor(){super(new x),this.name="GenerateMeshBVHWorker"}runTask(l,d,G={}){return new Promise((h,p)=>{if(d.getAttribute("position").isInterleavedBufferAttribute||d.index&&d.index.isInterleavedBufferAttribute)throw new Error("GenerateMeshBVHWorker: InterleavedBufferAttribute are not supported for the geometry attributes.");l.onerror=b=>{p(new Error(`GenerateMeshBVHWorker: ${b.message}`))},l.onmessage=b=>{const{data:c}=b;if(c.error)p(new Error(c.error)),l.onmessage=null;else if(c.serialized){const{serialized:Z,position:s}=c,y=z.deserialize(Z,d,{setIndex:!1}),a=Object.assign({setBoundingBox:!0},G);if(d.attributes.position.array=s,Z.index)if(d.index)d.index.array=Z.index;else{const K=new R(Z.index,1,!1);d.setIndex(K)}a.setBoundingBox&&(d.boundingBox=y.getBoundingBox(new Y)),G.onProgress&&G.onProgress(c.progress),h(y),l.onmessage=null}else G.onProgress&&G.onProgress(c.progress)};const m=d.index?d.index.array:null,L=d.attributes.position.array,W=[L];m&&W.push(m),l.postMessage({index:m,position:L,options:{...G,onProgress:null,includedProgressCallback:!!G.onProgress,groups:[...d.groups]}},W.map(b=>b.buffer).filter(b=>typeof SharedArrayBuffer>"u"||!(b instanceof SharedArrayBuffer)))})}}export{o as GenerateMeshBVHWorker};
